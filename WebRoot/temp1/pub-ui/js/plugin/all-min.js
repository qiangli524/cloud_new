(function($){$.fn.UED_accordion=function(option){var defaults={active:0,activeClass:"on",collapsible:false,event:"click",onlyShow:true,title:">div.accordion-title",header:"> dl > dt",contentBox:"> dl > dd"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}function _clickHandler(o,option){var _o=$(o),_oCon=_o.next().filter(":first");if(_o.hasClass(option.activeClass)&&option.collapsible){_o.removeClass(option.activeClass);_oCon.slideUp()}else{if(!_o.hasClass(option.activeClass)&&option.onlyShow){_o.siblings("."+option.activeClass).removeClass(option.activeClass).next().filter(":first").slideUp();_o.addClass(option.activeClass);_oCon.slideDown()}}}function _init(o){var _o=o;var option=_o.data("option");_o.find(option.contentBox).hide();_o.find(option.header).removeClass(option.activeClass);if(option.active>=0){_o.find(option.header).eq(option.active).addClass(option.activeClass).next().filter(":first").show()}if(option.height){var h=option.height;if(option.height=="fill"){h=_o.parent().height()}var th=_o.find(option.title).outerHeight()||0;var hh=(function(){var t=0;_o.find(option.header).each(function(){t=t+$(this).outerHeight()});return t})();_o.find(option.contentBox).height(h-hh-th)}_o.find(option.header).bind(option.event,function(e){_clickHandler(this,option);e.preventDefault()})}return this.each(function(i,n){var _box=$(n),_rel=strToJson(_box.attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);_box.data("option",option);_init(_box)})};$(function(){$("*[data-role='ued-accordion']").UED_accordion()})})(jQuery);(function($){$.fn.UED_advertise=function(option){var defaults={shape:"banner"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}function advertise1(o){var _o=o,n=0,_imgs=_o.find(".scroll-img>div"),_nums=_o.find(".scroll-num>li"),count=_imgs.length,_option=_o.data("option");_nums.eq(0).addClass("on");_imgs.eq(0).siblings().hide();_nums.click(function(){var i=$(this).index();n=i;_imgs.eq(i).fadeIn().siblings().hide();$(this).addClass("on").siblings().removeClass("on")});var t=setInterval(function(){_nums.eq(n).trigger("click");++n>=count?n=0:n=n},_option.speed||3000);_o.hover(function(){clearInterval(t)},function(){t=setInterval(function(){_nums.eq(n++).trigger("click");++n>=count?n=0:n=n},_option.speed||3000)});_o.append('<i class="ued-icon ued-icon-cross btnClose"></i>');_o.find("i.btnClose").bind("click",function(){_o.fadeOut()})}function advertise2(o){var _o=o,_option=_o.data("option");if(_option.width){_o.css("width",_option.width)}if(_option.height){_o.css("height",_option.height)}if($.browser.msie&&$.browser.version<7){$("html").attr("style","background-image:url(about:blank);");var _top=_option.top!=undefined?"top:expression(documentElement.scrollTop+"+parseInt(_option.top.replace("px"))+");":"",_right=_option.right!=undefined?"right:"+_option.right+";":"",_bottom=_option.bottom!=undefined?"bottom:expression(documentElement.scrollTop+documentElement.clientHeight-this.offsetWidth-"+parseInt(_option.bottom.replace("px"))+");":"",_left=_option.left!=undefined?"left:"+_option.left+");":"";_o.attr("style",_top+_right+_bottom+_left)}else{if(_option.top!=undefined){_o.css({top:_option.top})}if(_option.right!=undefined){_o.css({right:_option.right})}if(_option.bottom!=undefined){_o.css({bottom:_option.bottom})}if(_option.left!=undefined){_o.css({left:_option.left})}}_o.append('<i class="ued-icon ued-icon-cross btnClose" style="position:absolute; right:0;top:0"></i>');_o.find("i.btnClose").bind("click",function(){_o.fadeOut()})}return this.each(function(i,n){var _rel=strToJson($(n).attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);$(n).data("option",option);switch(option.shape){case"banner":advertise1($(n));break;case"advertiseFixed":advertise2($(n));break;default:break}})};$(function(){$("*[data-role='ued-advertise']").UED_advertise()})})(jQuery);(function($){$.fn.UED_adWindow=function(option){var defaults={width:256,height:187};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var elem=$(n),_rel=strToJson(elem.attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);setPos();$(window).resize(function(){setPos()});$(window).scroll(function(){setPos()});function setPos(){var TopY=0,_initY=$(window).scrollTop()+$(window).height();elem.css({width:option.width+"px",height:option.height+"px"});elem.slideDown();elem.find(".adWindow-close").click(function(){if(TopY==0){elem.slideUp()}else{$(".ued-adWindow").animate({top:TopY+height},"slow",function(){$(".ued-adWindow").hide()})}});if($.browser.msie&&$.browser.version<7){$("html").css("_background","url(about:blank)");elem.css("top",$(window).scrollTop()+$(window).height()-$(".ued-adWindow").outerHeight())}}})};$(function(){$("*[data-role='ued-adWindow']").UED_adWindow({width:256,height:185})})})(jQuery);(function($){$.fn.UED_backToTop=function(option){var defaults={speed:600};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}var $backToTopEle=$(this),_rel=strToJson($backToTopEle.attr("data-rel")),options=$.extend(true,{},defaults,option,_rel);$backToTopEle.appendTo($("body")).attr("title",options.title).click(function(){$("html, body").animate({scrollTop:0},options.speed)});$backToTopFun=function(){var st=$(document).scrollTop(),winH=$(window).height();(st>winH)?$backToTopEle.fadeIn():$backToTopEle.fadeOut();if(!window.XMLHttpRequest){$backToTopEle.css("top",st+winH-$backToTopEle.height()-100)}};$(window).bind("scroll",$backToTopFun)};$(function(){$("*[data-role='ued-backtoTop']").UED_backToTop()})})(jQuery);

(function(c,d){c.support.htmlMenuitem=("HTMLMenuItemElement" in window);c.support.htmlCommand=("HTMLCommandElement" in window);c.support.eventSelectstart=("onselectstart" in document.documentElement);if(!c.ui||!c.ui.widget){var q=c.cleanData;c.cleanData=function(s){for(var t=0,u;(u=s[t])!=null;t++){try{c(u).triggerHandler("remove")}catch(v){}}q(s)}}var p=null,b=false,n=c(window),h=0,g={},l={},k={},i={selector:null,appendTo:null,trigger:"right",autoHide:false,delay:200,determinePosition:function(s){if(c.ui&&c.ui.position){s.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none")}else{var t=this.offset();t.top+=this.outerHeight();t.left+=this.outerWidth()/2-s.outerWidth()/2;s.css(t)}},position:function(u,A,z){var w=this,v;if(!A&&!z){u.determinePosition.call(this,u.$menu);return}else{if(A==="maintain"&&z==="maintain"){v=u.$menu.position()}else{v={top:z,left:A}}}var s=n.scrollTop()+n.height(),B=n.scrollLeft()+n.width(),C=u.$menu.height(),t=u.$menu.width();if(v.top+C>s){v.top-=C}if(v.left+t>B){v.left-=t}u.$menu.css(v)},positionSubmenu:function(s){if(c.ui&&c.ui.position){s.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","")}else{var t={top:0,left:this.outerWidth()};s.css(t)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:c.noop,hide:c.noop},callback:null,items:{}},j={timer:null,pageX:null,pageY:null},e=function(u){var t=0,s=u;while(true){t=Math.max(t,parseInt(s.css("z-index"),10)||0);s=s.parent();if(!s||!s.length||"html body".indexOf(s.prop("nodeName").toLowerCase())>-1){break}}return t},r={abortevent:function(s){s.preventDefault();s.stopImmediatePropagation()},contextmenu:function(u){var t=c(this);u.preventDefault();u.stopImmediatePropagation();if(u.data.trigger!="right"&&u.originalEvent){return}if(!t.hasClass("context-menu-disabled")){p=t;if(u.data.build){var s=u.data.build(p,u);if(s===false){return}u.data=c.extend(true,{},i,u.data,s||{});if(!u.data.items||c.isEmptyObject(u.data.items)){if(window.console){(console.error||console.log)("No items specified to show in contextMenu")}throw new Error("No Items sepcified")}u.data.$trigger=p;f.create(u.data)}f.show.call(t,u.data,u.pageX,u.pageY)}},click:function(s){s.preventDefault();s.stopImmediatePropagation();c(this).trigger(c.Event("contextmenu",{data:s.data,pageX:s.pageX,pageY:s.pageY}))},mousedown:function(t){var s=c(this);if(p&&p.length&&!p.is(s)){p.data("contextMenu").$menu.trigger("contextmenu:hide")}if(t.button==2){p=s.data("contextMenuActive",true)}},mouseup:function(t){var s=c(this);if(s.data("contextMenuActive")&&p&&p.length&&p.is(s)&&!s.hasClass("context-menu-disabled")){t.preventDefault();t.stopImmediatePropagation();p=s;s.trigger(c.Event("contextmenu",{data:t.data,pageX:t.pageX,pageY:t.pageY}))}s.removeData("contextMenuActive")},mouseenter:function(u){var t=c(this),s=c(u.relatedTarget),v=c(document);if(s.is(".context-menu-list")||s.closest(".context-menu-list").length){return}if(p&&p.length){return}j.pageX=u.pageX;j.pageY=u.pageY;j.data=u.data;v.on("mousemove.contextMenuShow",r.mousemove);j.timer=setTimeout(function(){j.timer=null;v.off("mousemove.contextMenuShow");p=t;t.trigger(c.Event("contextmenu",{data:j.data,pageX:j.pageX,pageY:j.pageY}))},u.data.delay)},mousemove:function(s){j.pageX=s.pageX;j.pageY=s.pageY},mouseleave:function(t){var s=c(t.relatedTarget);if(s.is(".context-menu-list")||s.closest(".context-menu-list").length){return}try{clearTimeout(j.timer)}catch(t){}j.timer=null},layerClick:function(v){var z=c(this),B=z.data("contextMenuRoot"),t=false,u=v.button,C=v.pageX,A=v.pageY,w,s,D;v.preventDefault();v.stopImmediatePropagation();setTimeout(function(){var E,y,x;if((B.trigger=="left"&&u==0)||(B.trigger=="right"&&u==2)){if(document.elementFromPoint){B.$layer.hide();w=document.elementFromPoint(C-n.scrollLeft(),A-n.scrollTop());B.$layer.show();if(B.$trigger.is(w)||B.$trigger.has(w).length){B.position.call(B.$trigger,B,C,A);return}}else{s=B.$trigger.offset();E=c(window);s.top+=E.scrollTop();if(s.top<=v.pageY){s.left+=E.scrollLeft();if(s.left<=v.pageX){s.bottom=s.top+B.$trigger.outerHeight();if(s.bottom>=v.pageY){s.right=s.left+B.$trigger.outerWidth();if(s.right>=v.pageX){B.position.call(B.$trigger,B,C,A);return}}}}}}if(w&&w.length){w.contextMenu({x:C,y:A})}else{B.$menu.trigger("contextmenu:hide")}},50)},keyStop:function(t,s){if(!s.isInput){t.preventDefault()}t.stopPropagation()},key:function(w){var u=p.data("contextMenu")||{};switch(w.keyCode){case 9:case 38:r.keyStop(w,u);if(u.isInput){if(w.keyCode==9&&w.shiftKey){w.preventDefault();u.$selected&&u.$selected.find("input, textarea, select").blur();u.$menu.trigger("prevcommand");return}else{if(w.keyCode==38&&u.$selected.find("input, textarea, select").prop("type")=="checkbox"){w.preventDefault();return}}}else{if(w.keyCode!=9||w.shiftKey){u.$menu.trigger("prevcommand");return}}case 40:r.keyStop(w,u);if(u.isInput){if(w.keyCode==9){w.preventDefault();u.$selected&&u.$selected.find("input, textarea, select").blur();u.$menu.trigger("nextcommand");return}else{if(w.keyCode==40&&u.$selected.find("input, textarea, select").prop("type")=="checkbox"){w.preventDefault();return}}}else{u.$menu.trigger("nextcommand");return}break;case 37:r.keyStop(w,u);if(u.isInput||!u.$selected||!u.$selected.length){break}if(!u.$selected.parent().hasClass("context-menu-root")){var v=u.$selected.parent().parent();u.$selected.trigger("contextmenu:blur");u.$selected=v;return}break;case 39:r.keyStop(w,u);if(u.isInput||!u.$selected||!u.$selected.length){break}var t=u.$selected.data("contextMenu")||{};if(t.$menu&&u.$selected.hasClass("context-menu-submenu")){u.$selected=null;t.$selected=null;t.$menu.trigger("nextcommand");return}break;case 35:case 36:if(u.$selected&&u.$selected.find("input, textarea, select").length){return}else{(u.$selected&&u.$selected.parent()||u.$menu).children(":not(.disabled, .not-selectable)")[w.keyCode==36?"first":"last"]().trigger("contextmenu:focus");w.preventDefault();return}break;case 13:r.keyStop(w,u);if(u.isInput){if(u.$selected&&!u.$selected.is("textarea, select")){w.preventDefault();return}break}u.$selected&&u.$selected.trigger("mouseup");return;case 32:case 33:case 34:r.keyStop(w,u);return;case 27:r.keyStop(w,u);u.$menu.trigger("contextmenu:hide");return;default:var s=(String.fromCharCode(w.keyCode)).toUpperCase();if(u.accesskeys[s]){u.accesskeys[s].$node.trigger(u.accesskeys[s].$menu?"contextmenu:focus":"mouseup");return}break}w.stopPropagation();u.$selected&&u.$selected.trigger(w)},prevItem:function(w){w.stopPropagation();var v=c(this).data("contextMenu")||{};if(v.$selected){var s=v.$selected;v=v.$selected.parent().data("contextMenu")||{};v.$selected=s}var u=v.$menu.children(),t=!v.$selected||!v.$selected.prev().length?u.last():v.$selected.prev(),y=t;while(t.hasClass("disabled")||t.hasClass("not-selectable")){if(t.prev().length){t=t.prev()}else{t=u.last()}if(t.is(y)){return}}if(v.$selected){r.itemMouseleave.call(v.$selected.get(0),w)}r.itemMouseenter.call(t.get(0),w);var x=t.find("input, textarea, select");if(x.length){x.focus()}},nextItem:function(w){w.stopPropagation();var v=c(this).data("contextMenu")||{};if(v.$selected){var s=v.$selected;v=v.$selected.parent().data("contextMenu")||{};v.$selected=s}var u=v.$menu.children(),t=!v.$selected||!v.$selected.next().length?u.first():v.$selected.next(),y=t;while(t.hasClass("disabled")||t.hasClass("not-selectable")){if(t.next().length){t=t.next()}else{t=u.first()}if(t.is(y)){return}}if(v.$selected){r.itemMouseleave.call(v.$selected.get(0),w)}r.itemMouseenter.call(t.get(0),w);var x=t.find("input, textarea, select");if(x.length){x.focus()}},focusInput:function(w){var v=c(this).closest(".context-menu-item"),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;s.$selected=t.$selected=v;s.isInput=t.isInput=true},blurInput:function(w){var v=c(this).closest(".context-menu-item"),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;s.isInput=t.isInput=false},menuMouseenter:function(t){var s=c(this).data().contextMenuRoot;s.hovering=true},menuMouseleave:function(t){var s=c(this).data().contextMenuRoot;if(s.$layer&&s.$layer.is(t.relatedTarget)){s.hovering=false}},itemMouseenter:function(w){var v=c(this),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;s.hovering=true;if(w&&s.$layer&&s.$layer.is(w.relatedTarget)){w.preventDefault();w.stopImmediatePropagation()}(t.$menu?t:s).$menu.children(".hover").trigger("contextmenu:blur");if(v.hasClass("disabled")||v.hasClass("not-selectable")){t.$selected=null;return}v.trigger("contextmenu:focus")},itemMouseleave:function(w){var v=c(this),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;if(s!==t&&s.$layer&&s.$layer.is(w.relatedTarget)){s.$selected&&s.$selected.trigger("contextmenu:blur");w.preventDefault();w.stopImmediatePropagation();s.$selected=t.$selected=t.$node;return}v.trigger("contextmenu:blur")},itemClick:function(x){var w=c(this),v=w.data(),u=v.contextMenu,s=v.contextMenuRoot,t=v.contextMenuKey,y;if(!u.items[t]||w.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){return}x.preventDefault();x.stopImmediatePropagation();if(c.isFunction(s.callbacks[t])&&Object.prototype.hasOwnProperty.call(s.callbacks,t)){y=s.callbacks[t]}else{if(c.isFunction(s.callback)){y=s.callback}else{return}}if(y.call(s.$trigger,t,s)!==false){s.$menu.trigger("contextmenu:hide")}else{if(s.$menu.parent().length){f.update.call(s.$trigger,s)}}},inputClick:function(s){s.stopImmediatePropagation()},hideMenu:function(u,t){var s=c(this).data("contextMenuRoot");f.hide.call(s.$trigger,s,t&&t.force)},focusItem:function(w){w.stopPropagation();var v=c(this),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;v.addClass("hover").siblings(".hover").trigger("contextmenu:blur");t.$selected=s.$selected=v;if(t.$node){s.positionSubmenu.call(t.$node,t.$menu)}},blurItem:function(w){w.stopPropagation();var v=c(this),u=v.data(),t=u.contextMenu,s=u.contextMenuRoot;v.removeClass("hover");t.$selected=null}},f={show:function(v,t,z){var s=c(this),w,u={};c("#context-menu-layer").trigger("mousedown");v.$trigger=s;if(v.events.show.call(s,v)===false){p=null;return}f.update.call(s,v);v.position.call(s,v,t,z);if(v.zIndex){u.zIndex=e(s)+v.zIndex}f.layer.call(v.$menu,v,u.zIndex);v.$menu.find("ul").css("zIndex",u.zIndex+1);v.$menu.css(u)[v.animation.show](v.animation.duration);s.data("contextMenu",v).addClass("context-menu-active");c(document).off("keydown.contextMenu").on("keydown.contextMenu",r.key);if(v.autoHide){c(document).on("mousemove.contextMenuAutoHide",function(x){var y=s.offset();y.right=y.left+s.outerWidth();y.bottom=y.top+s.outerHeight();if(v.$layer&&!v.hovering&&(!(x.pageX>=y.left&&x.pageX<=y.right)||!(x.pageY>=y.top&&x.pageY<=y.bottom))){v.$menu.trigger("contextmenu:hide")}})}},hide:function(t,u){var s=c(this);if(!t){t=s.data("contextMenu")||{}}if(!u&&t.events&&t.events.hide.call(s,t)===false){return}s.removeData("contextMenu").removeClass("context-menu-active");if(t.$layer){setTimeout((function(w){return function(){w.remove()}})(t.$layer),10);try{delete t.$layer}catch(v){t.$layer=null}}p=null;t.$menu.find(".hover").trigger("contextmenu:blur");t.$selected=null;c(document).off(".contextMenuAutoHide").off("keydown.contextMenu");t.$menu&&t.$menu[t.animation.hide](t.animation.duration,function(){if(t.build){t.$menu.remove();c.each(t,function(w,x){switch(w){case"ns":case"selector":case"build":case"trigger":return true;default:t[w]=d;try{delete t[w]}catch(y){}return true}})}})},create:function(t,s){if(s===d){s=t}t.$menu=c('<ul class="context-menu-list '+(t.className||"")+'"></ul>').data({contextMenu:t,contextMenuRoot:s});c.each(["callbacks","commands","inputs"],function(v,u){t[u]={};if(!s[u]){s[u]={}}});s.accesskeys||(s.accesskeys={});c.each(t.items,function(w,x){var B=c('<li class="context-menu-item '+(x.className||"")+'"></li>'),u=null,A=null;B.on("click",c.noop);x.$node=B.data({contextMenu:t,contextMenuRoot:s,contextMenuKey:w});if(x.accesskey){var y=m(x.accesskey);for(var v=0,z;z=y[v];v++){if(!s.accesskeys[z]){s.accesskeys[z]=x;x._name=x.name.replace(new RegExp("("+z+")","i"),'<span class="context-menu-accesskey">$1</span>');break}}}if(typeof x=="string"){B.addClass("context-menu-separator not-selectable")}else{if(x.type&&k[x.type]){k[x.type].call(B,x,t,s);c.each([t,s],function(D,C){C.commands[w]=x;if(c.isFunction(x.callback)){C.callbacks[w]=x.callback}})}else{if(x.type=="html"){B.addClass("context-menu-html not-selectable")}else{if(x.type){u=c("<label></label>").appendTo(B);c("<span></span>").html(x._name||x.name).appendTo(u);B.addClass("context-menu-input");t.hasTypes=true;c.each([t,s],function(D,C){C.commands[w]=x;C.inputs[w]=x})}else{if(x.items){x.type="sub"}}}switch(x.type){case"text":A=c('<input type="text" value="1" name="context-menu-input-'+w+'" value="">').val(x.value||"").appendTo(u);break;case"textarea":A=c('<textarea name="context-menu-input-'+w+'"></textarea>').val(x.value||"").appendTo(u);if(x.height){A.height(x.height)}break;case"checkbox":A=c('<input type="checkbox" value="1" name="context-menu-input-'+w+'" value="">').val(x.value||"").prop("checked",!!x.selected).prependTo(u);break;case"radio":A=c('<input type="radio" value="1" name="context-menu-input-'+x.radio+'" value="">').val(x.value||"").prop("checked",!!x.selected).prependTo(u);break;case"select":A=c('<select name="context-menu-input-'+w+'">').appendTo(u);if(x.options){c.each(x.options,function(C,D){c("<option></option>").val(C).text(D).appendTo(A)});A.val(x.selected)}break;case"sub":c("<span></span>").html(x._name||x.name).appendTo(B);x.appendTo=x.$node;f.create(x,s);B.data("contextMenu",x).addClass("context-menu-submenu");x.callback=null;break;case"html":c(x.html).appendTo(B);break;default:c.each([t,s],function(D,C){C.commands[w]=x;if(c.isFunction(x.callback)){C.callbacks[w]=x.callback}});c("<span></span>").html(x._name||x.name||"").appendTo(B);break}if(x.type&&x.type!="sub"&&x.type!="html"){A.on("focus",r.focusInput).on("blur",r.blurInput);if(x.events){A.on(x.events,t)}}if(x.icon){B.addClass("icon icon-"+x.icon)}}}x.$input=A;x.$label=u;B.appendTo(t.$menu);if(!t.hasTypes&&c.support.eventSelectstart){B.on("selectstart.disableTextSelect",r.abortevent)}});if(!t.$node){t.$menu.css("display","none").addClass("context-menu-root")}t.$menu.appendTo(t.appendTo||document.body)},resize:function(s,t){s.css({position:"absolute",display:"block"});s.data("width",Math.ceil(s.width())+1);s.css({position:"static",minWidth:"0px",maxWidth:"100000px"});s.find("> li > ul").each(function(){f.resize(c(this),true)});if(!t){s.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return c(this).data("width")})}},update:function(u,t){var s=this;if(t===d){t=u;f.resize(u.$menu)}u.$menu.children().each(function(){var v=c(this),w=v.data("contextMenuKey"),y=u.items[w],x=(c.isFunction(y.disabled)&&y.disabled.call(s,w,t))||y.disabled===true;v[x?"addClass":"removeClass"]("disabled");if(y.type){v.find("input, select, textarea").prop("disabled",x);switch(y.type){case"text":case"textarea":y.$input.val(y.value||"");break;case"checkbox":case"radio":y.$input.val(y.value||"").prop("checked",!!y.selected);break;case"select":y.$input.val(y.selected||"");break}}if(y.$menu){f.update.call(s,y,t)}})},layer:function(t,u){var s=t.$layer=c('<div id="context-menu-layer" style="position:fixed; z-index:'+u+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:n.height(),width:n.width(),display:"block"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",r.abortevent).on("mousedown",r.layerClick);if(!c.support.fixedPosition){s.css({position:"absolute",height:c(document).height()})}return s}};function m(x){var v=x.split(/\s+/),w=[];for(var u=0,s;s=v[u];u++){s=s[0].toUpperCase();w.push(s)}return w}c.fn.contextMenu=function(s){if(s===d){this.first().trigger("contextmenu")}else{if(s.x&&s.y){this.first().trigger(c.Event("contextmenu",{pageX:s.x,pageY:s.y}))}else{if(s==="hide"){var t=this.data("contextMenu").$menu;t&&t.trigger("contextmenu:hide")}else{if(s==="destroy"){c.contextMenu("destroy",{context:this})}else{if(c.isPlainObject(s)){s.context=this;c.contextMenu("create",s)}else{if(s){this.removeClass("context-menu-disabled")}else{if(!s){this.addClass("context-menu-disabled")}}}}}}}return this};c.contextMenu=function(w,A){if(typeof w!="string"){A=w;w="create"}if(typeof A=="string"){A={selector:A}}else{if(A===d){A={}}}var u=c.extend(true,{},i,A||{});var v=c(document);var y=v;var z=false;if(!u.context||!u.context.length){u.context=document}else{y=c(u.context).first();u.context=y.get(0);z=u.context!==document}switch(w){case"create":if(!u.selector){throw new Error("No selector specified")}if(u.selector.match(/.context-menu-(list|item|input)($|\s)/)){throw new Error('Cannot bind to selector "'+u.selector+'" as it contains a reserved className')}if(!u.build&&(!u.items||c.isEmptyObject(u.items))){throw new Error("No Items sepcified")}h++;u.ns=".contextMenu"+h;if(!z){g[u.selector]=u.ns}l[u.ns]=u;if(!u.trigger){u.trigger="right"}if(!b){v.on({"contextmenu:hide.contextMenu":r.hideMenu,"prevcommand.contextMenu":r.prevItem,"nextcommand.contextMenu":r.nextItem,"contextmenu.contextMenu":r.abortevent,"mouseenter.contextMenu":r.menuMouseenter,"mouseleave.contextMenu":r.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",r.inputClick).on({"mouseup.contextMenu":r.itemClick,"contextmenu:focus.contextMenu":r.focusItem,"contextmenu:blur.contextMenu":r.blurItem,"contextmenu.contextMenu":r.abortevent,"mouseenter.contextMenu":r.itemMouseenter,"mouseleave.contextMenu":r.itemMouseleave},".context-menu-item");b=true}y.on("contextmenu"+u.ns,u.selector,u,r.contextmenu);if(z){y.on("remove"+u.ns,function(){c(this).contextMenu("destroy")})}switch(u.trigger){case"hover":y.on("mouseenter"+u.ns,u.selector,u,r.mouseenter).on("mouseleave"+u.ns,u.selector,u,r.mouseleave);break;case"left":y.on("click"+u.ns,u.selector,u,r.click);break}if(!u.build){f.create(u)}break;case"destroy":var s;if(z){var t=u.context;c.each(l,function(B,D){if(D.context!==t){return true}s=c(".context-menu-list").filter(":visible");if(s.length&&s.data().contextMenuRoot.$trigger.is(c(D.context).find(D.selector))){s.trigger("contextmenu:hide",{force:true})}try{if(l[D.ns].$menu){l[D.ns].$menu.remove()}delete l[D.ns]}catch(C){l[D.ns]=null}c(D.context).off(D.ns);return true})}else{if(!u.selector){v.off(".contextMenu .contextMenuAutoHide");c.each(l,function(B,C){c(C.context).off(C.ns)});g={};l={};h=0;b=false;c("#context-menu-layer, .context-menu-list").remove()}else{if(g[u.selector]){s=c(".context-menu-list").filter(":visible");if(s.length&&s.data().contextMenuRoot.$trigger.is(u.selector)){s.trigger("contextmenu:hide",{force:true})}try{if(l[g[u.selector]].$menu){l[g[u.selector]].$menu.remove()}delete l[g[u.selector]]}catch(x){l[g[u.selector]]=null}v.off(g[u.selector])}}}break;case"html5":if((!c.support.htmlCommand&&!c.support.htmlMenuitem)||(typeof A=="boolean"&&A)){c('menu[type="context"]').each(function(){if(this.id){c.contextMenu({selector:"[contextmenu="+this.id+"]",items:c.contextMenu.fromMenu(this)})}}).css("display","none")}break;default:throw new Error('Unknown operation "'+w+'"')}return this};c.contextMenu.setInputValues=function(s,t){if(t===d){t={}}c.each(s.inputs,function(u,v){switch(v.type){case"text":case"textarea":v.value=t[u]||"";break;case"checkbox":v.selected=t[u]?true:false;break;case"radio":v.selected=(t[v.radio]||"")==v.value?true:false;break;case"select":v.selected=t[u]||"";break}})};c.contextMenu.getInputValues=function(s,t){if(t===d){t={}}c.each(s.inputs,function(u,v){switch(v.type){case"text":case"textarea":case"select":t[u]=v.$input.val();break;case"checkbox":t[u]=v.$input.prop("checked");break;case"radio":if(v.$input.prop("checked")){t[v.radio]=v.value}break}});return t};function o(s){return(s.id&&c('label[for="'+s.id+'"]').val())||s.name}function a(u,t,s){if(!s){s=0}t.each(function(){var v=c(this),y=this,z=this.nodeName.toLowerCase(),w,x;if(z=="label"&&v.find("input, textarea, select").length){w=v.text();v=v.children().first();y=v.get(0);z=y.nodeName.toLowerCase()}switch(z){case"menu":x={name:v.attr("label"),items:{}};s=a(x.items,v.children(),s);break;case"a":case"button":x={name:v.text(),disabled:!!v.attr("disabled"),callback:(function(){return function(){v.click()}})()};break;case"menuitem":case"command":switch(v.attr("type")){case d:case"command":case"menuitem":x={name:v.attr("label"),disabled:!!v.attr("disabled"),callback:(function(){return function(){v.click()}})()};break;case"checkbox":x={type:"checkbox",disabled:!!v.attr("disabled"),name:v.attr("label"),selected:!!v.attr("checked")};break;case"radio":x={type:"radio",disabled:!!v.attr("disabled"),name:v.attr("label"),radio:v.attr("radiogroup"),value:v.attr("id"),selected:!!v.attr("checked")};break;default:x=d}break;case"hr":x="-------";break;case"input":switch(v.attr("type")){case"text":x={type:"text",name:w||o(y),disabled:!!v.attr("disabled"),value:v.val()};break;case"checkbox":x={type:"checkbox",name:w||o(y),disabled:!!v.attr("disabled"),selected:!!v.attr("checked")};break;case"radio":x={type:"radio",name:w||o(y),disabled:!!v.attr("disabled"),radio:!!v.attr("name"),value:v.val(),selected:!!v.attr("checked")};break;default:x=d;break}break;case"select":x={type:"select",name:w||o(y),disabled:!!v.attr("disabled"),selected:v.val(),options:{}};v.children().each(function(){x.options[this.value]=c(this).text()});break;case"textarea":x={type:"textarea",name:w||o(y),disabled:!!v.attr("disabled"),value:v.val()};break;case"label":break;default:x={type:"html",html:v.clone(true)};break}if(x){s++;u["key"+s]=x}});return s}c.contextMenu.fromMenu=function(t){var u=c(t),s={};a(s,u.children());return s};c.contextMenu.defaults=i;c.contextMenu.types=k;c.contextMenu.handle=r;c.contextMenu.op=f})(jQuery);(function($){$.fn.UED_datetime=function(option){var defaults={format:"yy-mm-dd W hh:MM:ss",morning:"\u4E0A\u5348",afterNoon:"\u4E0B\u5348",weekNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],weekNamesShort:["周日","周一","周二","周三","周四","周五","周六"]};var datetime={_init:function(o){setInterval(function(){datetime._setValue(o)},1)},_formatDate:function(date){var dateStr=option.format;var showHour=dateStr.indexOf("h")!=-1;dateStr=dateStr.replace(/yy/,date.getFullYear());dateStr=dateStr.replace(/y/,(date.getYear()).toString().substr(2));dateStr=dateStr.replace(/mm/,datetime._appendZero(date.getMonth()+1,2));dateStr=dateStr.replace(/m/,date.getMonth()+1);dateStr=dateStr.replace(/dd/,datetime._appendZero(date.getDate(),2));dateStr=dateStr.replace(/d/,date.getDate());dateStr=dateStr.replace(/W/,option.weekNames[date.getDay()]);dateStr=dateStr.replace(/w/,option.weekNamesShort[date.getDay()]);dateStr=dateStr.replace(/HH/,datetime._appendZero(date.getHours(),2));dateStr=dateStr.replace(/H/,date.getHours());dateStr=dateStr.replace(/hh/,datetime._appendZero(date.getHours()>12?(date.getHours()-12):date.getHours(),2));dateStr=dateStr.replace(/h/,date.getHours()>12?(date.getHours()-12):date.getHours());dateStr=dateStr.replace(/MM/,datetime._appendZero(date.getMinutes(),2));dateStr=dateStr.replace(/M/,date.getMinutes());dateStr=dateStr.replace(/ss/,datetime._appendZero(date.getSeconds(),2));dateStr=dateStr.replace(/s/,date.getSeconds());dateStr=dateStr.replace(/SSS/,datetime._appendZero(date.getMilliseconds(),3));dateStr=dateStr.replace(/SS/,datetime._appendZero(date.getMilliseconds(),2));dateStr=dateStr.replace(/S/,date.getMilliseconds());if(showHour){if(date.getHours()-12>=0){dateStr=dateStr+option.afterNoon}else{dateStr=dateStr+option.morning}}return dateStr},_appendZero:function(value,length){if(value){value=(value).toString();if(value.length<length){for(var i=0;i<length-value.length;i++){value="0"+value}}}return value},_setValue:function(o){var date=new Date();date=datetime._formatDate(date);if(o.nodeName=="INPUT"||o.nodeName=="TEXTAREA"){$(o).val(date)}else{$(o).text(date)}}};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _rel=strToJson($(n).attr("data-rel"));option=$.extend(true,{},defaults,option,_rel);datetime._init(n)})};$(function(){$("*[data-role='ued-datetime']").UED_datetime()})})(jQuery);(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch"},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true},data:{key:{children:"children",name:"name",title:"",url:"url"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}r[setting.data.key.children]=[];r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[];r.zId=0;r._ver=(new Date()).getTime()},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR)},_eventProxy=function(event){var target=event.target,setting=data.getSetting(event.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown"}else{if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup"}else{if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu"}else{if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=($(target).parent("li").get(0)||$(target).parentsUntil("li").parent().get(0)).id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=($(tmp).parent("li").get(0)||$(tmp).parentsUntil("li").parent().get(0)).id;nodeEventType="clickNode"}}}else{if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=($(tmp).parent("li").get(0)||$(tmp).parentsUntil("li").parent().get(0)).id;nodeEventType="switchNode"}}}}}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=($(tmp).parent("li").get(0)||$(tmp).parentsUntil("li").parent().get(0)).id}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":if(!node.isParent){nodeEventType=""}else{if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode}else{nodeEventType=""}}break;case"clickNode":nodeEventCallback=handler.onClickNode;break}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n){return}var r=data.getRoot(setting),childKey=setting.data.key.children;n.level=level;n.tId=setting.treeId+"_"+(++r.zId);n.parentTId=parentNode?parentNode.tId:null;if(n[childKey]&&n[childKey].length>0){if(typeof n.open=="string"){n.open=tools.eqs(n.open,"true")}n.open=!!n.open;n.isParent=true;n.zAsync=true}else{n.open=false;if(typeof n.isParent=="string"){n.isParent=tools.eqs(n.isParent,"true")}n.isParent=!!n.isParent;n.zAsync=!n.isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.isAjaxing=false;data.fixPIdKeyValue(setting,n)},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=node},getNodeCacheId:function(tId){return tId.substring(tId.lastIndexOf("_")+1)},addAfterA:function(afterA){_init.afterA.push(afterA)},addBeforeA:function(beforeA){_init.beforeA.push(beforeA)},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA)},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},addInitBind:function(bindEvent){_init.bind.push(bindEvent)},addInitUnBind:function(unbindEvent){_init.unbind.push(unbindEvent)},addInitCache:function(initCache){_init.caches.push(initCache)},addInitNode:function(initNode){_init.nodes.push(initNode)},addInitProxy:function(initProxy){_init.proxys.push(initProxy)},addInitRoot:function(initRoot){_init.roots.push(initRoot)},addNodesData:function(setting,parentNode,nodes){var childKey=setting.data.key.children;if(!parentNode[childKey]){parentNode[childKey]=[]}if(parentNode[childKey].length>0){parentNode[childKey][parentNode[childKey].length-1].isLastNode=false;view.setNodeLineIcos(setting,parentNode[childKey][parentNode[childKey].length-1])}parentNode.isParent=true;parentNode[childKey]=parentNode[childKey].concat(nodes)},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node)}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools)},exSetting:function(s){$.extend(true,_setting,s)},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments)}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments)}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments)}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments)}},getCache:function(setting){return caches[setting.treeId]},getNextNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length-1;i<=l;i++){if(p[childKey][i]===node){return(i==l?null:p[childKey][i+1])}}return null},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key){return null}var childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){return nodes[i]}var tmp=data.getNodeByParam(setting,nodes[i][childKey],key,value);if(tmp){return tmp}}return null},getNodeCache:function(setting,tId){if(!tId){return null}var n=caches[setting.treeId].nodes[data.getNodeCacheId(tId)];return n?n:null},getNodeName:function(setting,node){var nameKey=setting.data.key.name;return""+node[nameKey]},getNodeTitle:function(setting,node){var t=setting.data.key.title===""?setting.data.key.name:setting.data.key.title;return""+node[t]},getNodes:function(setting){return data.getRoot(setting)[setting.data.key.children]},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];for(var i=0,l=nodes.length;i<l;i++){if(nodes[i][key]==value){result.push(nodes[i])}result=result.concat(data.getNodesByParam(setting,nodes[i][childKey],key,value))}return result},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key){return[]}var childKey=setting.data.key.children,result=[];value=value.toLowerCase();for(var i=0,l=nodes.length;i<l;i++){if(typeof nodes[i][key]=="string"&&nodes[i][key].toLowerCase().indexOf(value)>-1){result.push(nodes[i])}result=result.concat(data.getNodesByParamFuzzy(setting,nodes[i][childKey],key,value))}return result},getNodesByFilter:function(setting,nodes,filter,isSingle,invokeParam){if(!nodes){return(isSingle?null:[])}var childKey=setting.data.key.children,result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){if(tools.apply(filter,[nodes[i],invokeParam],false)){if(isSingle){return nodes[i]}result.push(nodes[i])}var tmpResult=data.getNodesByFilter(setting,nodes[i][childKey],filter,isSingle,invokeParam);if(isSingle&&!!tmpResult){return tmpResult}result=isSingle?tmpResult:result.concat(tmpResult)}return result},getPreNode:function(setting,node){if(!node){return null}var childKey=setting.data.key.children,p=node.parentTId?node.getParentNode():data.getRoot(setting);for(var i=0,l=p[childKey].length;i<l;i++){if(p[childKey][i]===node){return(i==0?null:p[childKey][i-1])}}return null},getRoot:function(setting){return setting?roots[setting.treeId]:null},getSetting:function(treeId){return settings[treeId]},getSettings:function(){return settings},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments)}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments)}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments)}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]){return true}}return false},removeNodeCache:function(setting,node){var childKey=setting.data.key.children;if(node[childKey]){for(var i=0,l=node[childKey].length;i<l;i++){arguments.callee(setting,node[childKey][i])}}data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=null},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);i--;j--}}},setCache:function(setting,cache){caches[setting.treeId]=cache},setRoot:function(setting,root){roots[setting.treeId]=root},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments)}},transformToArrayFormat:function(setting,nodes){if(!nodes){return[]}var childKey=setting.data.key.children,r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){r.push(nodes[i]);if(nodes[i][childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[i][childKey]))}}}else{r.push(nodes);if(nodes[childKey]){r=r.concat(data.transformToArrayFormat(setting,nodes[childKey]))}}return r},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey,childKey=setting.data.key.children;if(!key||key==""||!sNodes){return[]}if(tools.isArray(sNodes)){var r=[];var tmpMap=[];for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){if(tmpMap[sNodes[i][parentKey]]&&sNodes[i][key]!=sNodes[i][parentKey]){if(!tmpMap[sNodes[i][parentKey]][childKey]){tmpMap[sNodes[i][parentKey]][childKey]=[]}tmpMap[sNodes[i][parentKey]][childKey].push(sNodes[i])}else{r.push(sNodes[i])}}return r}else{return[sNodes]}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments)}},unbindEvent:function(setting){for(var i=0,j=_init.unbind.length;i<j;i++){_init.unbind[i].apply(this,arguments)}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;o.bind("selectstart",function(e){var n=e.originalEvent.srcElement.nodeName.toLowerCase();return(n==="input"||n==="textarea")}).css({"-moz-user-select":"-moz-none"});o.bind("click",eventParam,event.proxy);o.bind("dblclick",eventParam,event.proxy);o.bind("mouseover",eventParam,event.proxy);o.bind("mouseout",eventParam,event.proxy);o.bind("mousedown",eventParam,event.proxy);o.bind("mouseup",eventParam,event.proxy);o.bind("contextmenu",eventParam,event.proxy)},unbindTree:function(setting){var o=setting.treeObj;o.unbind("click",event.proxy).unbind("dblclick",event.proxy).unbind("mouseover",event.proxy).unbind("mouseout",event.proxy).unbind("mousedown",event.proxy).unbind("mouseup",event.proxy).unbind("contextmenu",event.proxy)},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break}}return results},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e)){return true}var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}return r}},handler={onSwitchNode:function(event,node){var setting=data.getSetting(event.data.treeId);if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false){return true}data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}return true},onClickNode:function(event,node){var setting=data.getSetting(event.data.treeId),clickFlag=((setting.view.autoCancelSelected&&event.ctrlKey)&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&event.ctrlKey&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false){return true}if(clickFlag===0){view.cancelPreSelectedNode(setting,node)}else{view.selectNode(setting,node,clickFlag===2)}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true},onZTreeMousedown:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node])}return true},onZTreeMouseup:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node])}return true},onZTreeDblclick:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node])}return true},onZTreeContextmenu:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node])}return(typeof setting.callback.onRightClick)!="function"}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[])}return defaultValue},canAsync:function(setting,node){var childKey=setting.data.key.children;return(setting.async.enable&&node&&node.isParent&&!(node.zAsync||(node[childKey]&&node[childKey].length>0)))},clone:function(obj){if(obj===null){return null}var o=obj.constructor===Array?[]:{};for(var i in obj){o[i]=(obj[i] instanceof Date)?new Date(obj[i].getTime()):(typeof obj[i]==="object"?arguments.callee(obj[i]):obj[i])}return o},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},getMDom:function(setting,curDom,targetExpr){if(!curDom){return null}while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom}}curDom=curDom.parentNode}return null},uCanDo:function(setting,e){return true}},view={addNodes:function(setting,parentNode,newNodes,isSilent){if(setting.data.keep.leaf&&parentNode&&!parentNode.isParent){return}if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$("#"+parentNode.tId+consts.id.SWITCH),target_icoObj=$("#"+parentNode.tId+consts.id.ICON),target_ulObj=$("#"+parentNode.tId+consts.id.UL);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({display:"none"})}data.addNodesData(setting,parentNode,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),newNodes);view.createNodes(setting,0,newNodes,null)}},appendNodes:function(setting,level,nodes,parentNode,initFlag,openFlag){if(!nodes){return[]}var html=[],childKey=setting.data.key.children;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(initFlag){var tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=tmpPNode[childKey],isFirstNode=((tmpPChild.length==nodes.length)&&(i==0)),isLastNode=(i==(nodes.length-1));data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var childHtml=[];if(node[childKey]&&node[childKey].length>0){childHtml=view.appendNodes(setting,level+1,node[childKey],node,initFlag,openFlag&&node.open)}if(openFlag){view.makeDOMNodeMainBefore(html,setting,node);view.makeDOMNodeLine(html,setting,node);data.getBeforeA(setting,node,html);view.makeDOMNodeNameBefore(html,setting,node);data.getInnerBeforeA(setting,node,html);view.makeDOMNodeIcon(html,setting,node);data.getInnerAfterA(setting,node,html);view.makeDOMNodeNameAfter(html,setting,node);data.getAfterA(setting,node,html);if(node.isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(""))}view.makeDOMNodeMainAfter(html,setting,node);data.addCreatedNode(setting,node)}}return html},appendParentULDom:function(setting,node){var html=[],nObj=$("#"+node.tId),ulObj=$("#"+node.tId+consts.id.UL),childKey=setting.data.key.children,childHtml=view.appendNodes(setting,node.level+1,node[childKey],node,false,true);view.makeUlHtml(setting,node,html,childHtml.join(""));if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$("#"+node.tId)}if(ulObj.get(0)){ulObj.remove()}nObj.append(html.join(""))},asyncNode:function(setting,node,isSilent,callback){var i,l;if(node&&!node.isParent){tools.apply(callback);return false}else{if(node&&node.isAjaxing){return false}else{if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}}}if(node){node.isAjaxing=true;var icoObj=$("#"+node.tId+consts.id.ICON);icoObj.attr({style:"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};for(i=0,l=setting.async.autoParam.length;node&&i<l;i++){var pKey=setting.async.autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}tmpParam[spKey]=node[pKey]}if(tools.isArray(setting.async.otherParam)){for(i=0,l=setting.async.otherParam.length;i<l;i+=2){tmpParam[setting.async.otherParam[i]]=setting.async.otherParam[i+1]}}else{for(var p in setting.async.otherParam){tmpParam[p]=setting.async.otherParam[p]}}var _tmpV=data.getRoot(setting)._ver;$.ajax({contentType:setting.async.contentType,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:tmpParam,dataType:setting.async.dataType,success:function(msg){if(_tmpV!=data.getRoot(setting)._ver){return}var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else{if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}}catch(err){newNodes=msg}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!==""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(XMLHttpRequest,textStatus,errorThrown){if(_tmpV!=data.getRoot(setting)._ver){return}if(node){node.isAjaxing=null}view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return true},cancelPreSelectedNode:function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length-1;j>=i;j--){if(!node||node===list[j]){$("#"+list[j].tId+consts.id.A).removeClass(consts.node.CURSELECTED);if(node){data.removeSelectedNode(setting,node);break}}}if(!node){data.getRoot(setting).curSelectedList=[]}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}}},createNodes:function(setting,level,nodes,parentNode){if(!nodes||nodes.length==0){return}var root=data.getRoot(setting),childKey=setting.data.key.children,openFlag=!parentNode||parentNode.open||!!$("#"+parentNode[childKey][0].tId).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,true,openFlag);if(!parentNode){setting.treeObj.append(zTreeHtml.join(""))}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);if(ulObj.get(0)){ulObj.append(zTreeHtml.join(""))}}view.createNodeCallback(setting)},destroy:function(setting){if(!setting){return}data.initCache(setting);data.initRoot(setting);event.unbindTree(setting);event.unbindEvent(setting);setting.treeObj.empty()},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children;if(!node){tools.apply(callback,[]);return}if(root.expandTriggerFlag){var _callback=callback;callback=function(){if(_callback){_callback()}if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node])}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])}};root.expandTriggerFlag=false}if(!node.open&&node.isParent&&((!$("#"+node.tId+consts.id.UL).get(0))||(node[childKey]&&node[childKey].length>0&&!$("#"+node[childKey][0].tId).get(0)))){view.appendParentULDom(setting,node);view.createNodeCallback(setting)}if(node.open==expandFlag){tools.apply(callback,[]);return}var ulObj=$("#"+node.tId+consts.id.UL),switchObj=$("#"+node.tId+consts.id.SWITCH),icoObj=$("#"+node.tId+consts.id.ICON);if(node.isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node))}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[])}else{if(node[childKey]&&node[childKey].length>0){ulObj.slideDown(setting.view.expandSpeed,callback)}else{ulObj.show();tools.apply(callback,[])}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(node[childKey]&&node[childKey].length>0)){ulObj.hide();tools.apply(callback,[])}else{ulObj.slideUp(setting.view.expandSpeed,callback)}}}else{tools.apply(callback,[])}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node){return}if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return}else{view.expandCollapseNode(setting,node,expandFlag,animateFlag)}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),childKey=setting.data.key.children,treeNodes=(node)?node[childKey]:root[childKey],selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i]){view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign)}}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},makeDOMNodeIcon:function(html,setting,node){var nameStr=data.getNodeName(setting,node),name=setting.view.nameIsHTML?nameStr:nameStr.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"'>",name,"</span>")},makeDOMNodeLine:function(html,setting,node){html.push("<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(html,setting,node){html.push("</li>")},makeDOMNodeMainBefore:function(html,setting,node){html.push("<li id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(html,setting,node){html.push("</a>")},makeDOMNodeNameBefore:function(html,setting,node){var title=data.getNodeTitle(setting,node),url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<a id='",node.tId,consts.id.A,"' class='",consts.className.LEVEL,node.level,"' treeNode",consts.id.A,' onclick="',(node.click||""),'" ',((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(""),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&title){html.push("title='",title.replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"'")}html.push(">")},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{}},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(node.isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{icoCss.push(consts.folder.DOCU)}}return consts.className.BUTTON+" "+icoCss.join("_")},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var icon=(node.isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node.icon;if(icon){icoStyle.push("background:url(",icon,") 0 0 no-repeat;")}if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;")}}return icoStyle.join("")},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT)}else{if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS)}else{if(node.isLastNode){lineClass.push(consts.line.BOTTOM)}else{lineClass.push(consts.line.CENTER)}}}}else{lineClass.push(consts.line.NOLINE)}if(node.isParent){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{lineClass.push(consts.folder.DOCU)}return view.makeNodeLineClassEx(node)+lineClass.join("_")},makeNodeLineClassEx:function(node){return consts.className.BUTTON+" "+consts.className.LEVEL+node.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(node){return(node.target||"_blank")},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='",consts.className.LEVEL,node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>")},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"")},removeChildNodes:function(setting,node){if(!node){return}var childKey=setting.data.key.children,nodes=node[childKey];if(!nodes){return}for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i])}data.removeSelectedNode(setting);delete node[childKey];if(!setting.data.keep.parent){node.isParent=false;node.open=false;var tmp_switchObj=$("#"+node.tId+consts.id.SWITCH),tmp_icoObj=$("#"+node.tId+consts.id.ICON);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$("#"+node.tId+consts.id.UL).remove()}else{$("#"+node.tId+consts.id.UL).empty()}},setFirstNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][0].isFirstNode=true}},setLastNode:function(setting,parentNode){var childKey=setting.data.key.children,childLength=parentNode[childKey].length;if(childLength>0){parentNode[childKey][childLength-1].isLastNode=true}},removeNode:function(setting,node){var root=data.getRoot(setting),childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null};node.getNextNode=function(){return null};if(!data.getNodeCache(setting,node.tId)){return}$("#"+node.tId).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i].tId==node.tId){parentNode[childKey].splice(i,1);break}}view.setFirstNode(setting,parentNode);view.setLastNode(setting,parentNode);var tmp_ulObj,tmp_switchObj,tmp_icoObj,childLength=parentNode[childKey].length;if(!setting.data.keep.parent&&childLength==0){parentNode.isParent=false;parentNode.open=false;tmp_ulObj=$("#"+parentNode.tId+consts.id.UL);tmp_switchObj=$("#"+parentNode.tId+consts.id.SWITCH);tmp_icoObj=$("#"+parentNode.tId+consts.id.ICON);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else{if(setting.view.showLine&&childLength>0){var newLast=parentNode[childKey][childLength-1];tmp_ulObj=$("#"+newLast.tId+consts.id.UL);tmp_switchObj=$("#"+newLast.tId+consts.id.SWITCH);tmp_icoObj=$("#"+newLast.tId+consts.id.ICON);if(parentNode==root){if(parentNode[childKey].length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT)}else{var tmp_first_switchObj=$("#"+parentNode[childKey][0].tId+consts.id.SWITCH);view.replaceSwitchClass(parentNode[childKey][0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}tmp_ulObj.removeClass(consts.line.LINE)}}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break}obj.attr("class",tmpList.join("_"))},replaceSwitchClass:function(node,obj,newName){if(!obj){return}var tmpName=obj.attr("class");if(tmpName==undefined){return}var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled")}else{obj.attr("disabled","disabled")}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting)}$("#"+node.tId+consts.id.A).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node)},setNodeFontCss:function(setting,treeNode){var aObj=$("#"+treeNode.tId+consts.id.A),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss)}},setNodeLineIcos:function(setting,node){if(!node){return}var switchObj=$("#"+node.tId+consts.id.SWITCH),ulObj=$("#"+node.tId+consts.id.UL),icoObj=$("#"+node.tId+consts.id.ICON),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE)}else{ulObj.addClass(ulLine)}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(node.isParent){switchObj.removeAttr("disabled")}else{switchObj.attr("disabled","disabled")}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},setNodeName:function(setting,node){var title=data.getNodeTitle(setting,node),nObj=$("#"+node.tId+consts.id.SPAN);nObj.empty();if(setting.view.nameIsHTML){nObj.html(data.getNodeName(setting,node))}else{nObj.text(data.getNodeName(setting,node))}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("title",!title?"":title)}},setNodeTarget:function(node){var aObj=$("#"+node.tId+consts.id.A);aObj.attr("target",view.makeNodeTarget(node))},setNodeUrl:function(setting,node){var aObj=$("#"+node.tId+consts.id.A),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href")}else{aObj.attr("href",url)}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open)}else{if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return}}else{if(node){view.expandCollapseNode(setting,node,!node.open)}}}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},destroy:function(treeId){if(!!treeId&&treeId.length>0){view.destroy(data.getSetting(treeId))}else{for(var s in settings){view.destroy(settings[s])}}},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if(typeof document.body.style.maxHeight==="undefined"){setting.view.expandSpeed=""}data.initRoot(setting);var root=data.getRoot(setting),childKey=setting.data.key.children;zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){root[childKey]=data.transformTozTreeFormat(setting,zNodes)}else{root[childKey]=zNodes}data.initCache(setting);event.unbindTree(setting);event.bindTree(setting);event.unbindEvent(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,newNodes,isSilent){if(!newNodes){return null}if(!parentNode){parentNode=null}if(parentNode&&!parentNode.isParent&&setting.data.keep.leaf){return null}var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,xNewNodes,(isSilent==true))}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback)}else{addCallback()}return xNewNodes},cancelSelectedNode:function(node){view.cancelPreSelectedNode(this.setting,node)},destroy:function(){view.destroy(this.setting)},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(this.setting,null,expandFlag,true);return expandFlag},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!node.isParent){return null}if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null}else{if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null}}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),expandFlag,false)}if(expandFlag===node.open&&!sonSign){return null}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(sonSign){view.expandCollapseSonNode(this.setting,node,expandFlag,true,function(){if(focus!==false){try{$("#"+node.tId).focus().blur()}catch(e){}}})}else{node.open=!expandFlag;view.switchNode(this.setting,node);if(focus!==false){try{$("#"+node.tId).focus().blur()}catch(e){}}}return expandFlag},getNodes:function(){return data.getNodes(this.setting)},getNodeByParam:function(key,value,parentNode){if(!key){return null}return data.getNodeByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodeByTId:function(tId){return data.getNodeCache(this.setting,tId)},getNodesByParam:function(key,value,parentNode){if(!key){return null}return data.getNodesByParam(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByParamFuzzy:function(key,value,parentNode){if(!key){return null}return data.getNodesByParamFuzzy(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),key,value)},getNodesByFilter:function(filter,isSingle,parentNode,invokeParam){isSingle=!!isSingle;if(!filter||(typeof filter!="function")){return(isSingle?null:[])}return data.getNodesByFilter(this.setting,parentNode?parentNode[this.setting.data.key.children]:data.getNodes(this.setting),filter,isSingle,invokeParam)},getNodeIndex:function(node){if(!node){return null}var childKey=setting.data.key.children,parentNode=(node.parentTId)?node.getParentNode():data.getRoot(this.setting);for(var i=0,l=parentNode[childKey].length;i<l;i++){if(parentNode[childKey][i]==node){return i}}return -1},getSelectedNodes:function(){var r=[],list=data.getRoot(this.setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i])}return r},isSelectedNode:function(node){return data.isSelectedNode(this.setting,node)},reAsyncChildNodes:function(parentNode,reloadType,isSilent){if(!this.setting.async.enable){return}var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(this.setting)}if(reloadType=="refresh"){var childKey=this.setting.data.key.children;for(var i=0,l=parentNode[childKey]?parentNode[childKey].length:0;i<l;i++){data.removeNodeCache(setting,parentNode[childKey][i])}data.removeSelectedNode(setting);parentNode[childKey]=[];if(isRoot){this.setting.treeObj.empty()}else{var ulObj=$("#"+parentNode.tId+consts.id.UL);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent)},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(this.setting),nodes=root[this.setting.data.key.children];data.initRoot(this.setting);root[this.setting.data.key.children]=nodes;data.initCache(this.setting);view.createNodes(this.setting,0,root[this.setting.data.key.children])},removeChildNodes:function(node){if(!node){return null}var childKey=setting.data.key.children,nodes=node[childKey];view.removeChildNodes(setting,node);return nodes?nodes:null},removeNode:function(node,callbackFlag){if(!node){return}callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false){return}view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])}},selectNode:function(node,addFlag){if(!node){return}if(tools.uCanDo(this.setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(this.setting,node.getParentNode(),true,false,function(){try{$("#"+node.tId).focus().blur()}catch(e){}})}else{try{$("#"+node.tId).focus().blur()}catch(e){}}view.selectNode(this.setting,node,addFlag)}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(this.setting,simpleNodes)},transformToArray:function(nodes){return data.transformToArrayFormat(this.setting,nodes)},updateNode:function(node,checkTypeFlag){if(!node){return}var nObj=$("#"+node.tId);if(nObj.get(0)&&tools.uCanDo(this.setting)){view.setNodeName(this.setting,node);view.setNodeTarget(node);view.setNodeUrl(this.setting,node);view.setNodeLineIcos(this.setting,node);view.setNodeFontCss(this.setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);if(root[childKey]&&root[childKey].length>0){view.createNodes(setting,0,root[childKey])}else{if(setting.async.enable&&setting.async.url&&setting.async.url!==""){view.asyncNode(setting)}}return zTreeTools}};var zt=$.fn.zTree,consts=zt.consts})(jQuery);(function(f){var z={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},m={check:{enable:false,autoCheckTrigger:false,chkStyle:z.checkbox.STYLE,nocheckInherit:false,chkDisabledInherit:false,radioType:z.radio.TYPE_LEVEL,chkboxType:{Y:"ps",N:"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},v=function(A){var B=y.getRoot(A);B.radioCheckedList=[]},d=function(A){},n=function(A){var B=A.treeObj,C=q.event;B.bind(C.CHECK,function(F,E,G,D){t.apply(A.callback.onCheck,[!!E?E:F,G,D])})},x=function(A){var B=A.treeObj,C=q.event;B.unbind(C.CHECK)},o=function(G){var H=G.target,J=y.getSetting(G.data.treeId),E="",B=null,C="",F="",A=null,D=null;if(t.eqs(G.type,"mouseover")){if(J.check.enable&&t.eqs(H.tagName,"span")&&H.getAttribute("treeNode"+q.id.CHECK)!==null){E=H.parentNode.id;C="mouseoverCheck"}}else{if(t.eqs(G.type,"mouseout")){if(J.check.enable&&t.eqs(H.tagName,"span")&&H.getAttribute("treeNode"+q.id.CHECK)!==null){E=H.parentNode.id;C="mouseoutCheck"}}else{if(t.eqs(G.type,"click")){if(J.check.enable&&t.eqs(H.tagName,"span")&&H.getAttribute("treeNode"+q.id.CHECK)!==null){E=H.parentNode.id;C="checkNode"}}}}if(E.length>0){B=y.getNodeCache(J,E);switch(C){case"checkNode":A=l.onCheckNode;break;case"mouseoverCheck":A=l.onMouseoverCheck;break;case"mouseoutCheck":A=l.onMouseoutCheck;break}}var I={stop:false,node:B,nodeEventType:C,nodeEventCallback:A,treeEventType:F,treeEventCallback:D};return I},u=function(D,H,G,A,F,C,E){if(!G){return}var B=D.data.key.checked;if(typeof G[B]=="string"){G[B]=t.eqs(G[B],"true")}G[B]=!!G[B];G.checkedOld=G[B];if(typeof G.nocheck=="string"){G.nocheck=t.eqs(G.nocheck,"true")}G.nocheck=!!G.nocheck||(D.check.nocheckInherit&&A&&!!A.nocheck);if(typeof G.chkDisabled=="string"){G.chkDisabled=t.eqs(G.chkDisabled,"true")}G.chkDisabled=!!G.chkDisabled||(D.check.chkDisabledInherit&&A&&!!A.chkDisabled);if(typeof G.halfCheck=="string"){G.halfCheck=t.eqs(G.halfCheck,"true")}G.halfCheck=!!G.halfCheck;G.check_Child_State=-1;G.check_Focus=false;G.getCheckStatus=function(){return y.getCheckStatus(D,G)}},a=function(C,E,B){var A=C.data.key.checked;if(C.check.enable){y.makeChkFlag(C,E);if(C.check.chkStyle==q.radio.STYLE&&C.check.radioType==q.radio.TYPE_ALL&&E[A]){var D=y.getRoot(C);D.radioCheckedList.push(E)}B.push("<span ID='",E.tId,q.id.CHECK,"' class='",j.makeChkClass(C,E),"' treeNode",q.id.CHECK,(E.nocheck===true?" style='display:none;'":""),"></span>")}},k=function(C,B){B.checkNode=function(H,G,I,F){var D=this.setting.data.key.checked;if(H.chkDisabled===true){return}if(G!==true&&G!==false){G=!H[D]}F=!!F;if(H[D]===G&&!I){return}else{if(F&&t.apply(this.setting.callback.beforeCheck,[this.setting.treeId,H],true)==false){return}}if(t.uCanDo(this.setting)&&this.setting.check.enable&&H.nocheck!==true){H[D]=G;var E=f("#"+H.tId+q.id.CHECK);if(I||this.setting.check.chkStyle===q.radio.STYLE){j.checkNodeRelation(this.setting,H)}j.setChkClass(this.setting,E,H);j.repairParentChkClassWithSelf(this.setting,H);if(F){C.treeObj.trigger(q.event.CHECK,[null,C.treeId,H])}}};B.checkAllNodes=function(D){j.repairAllChk(this.setting,!!D)};B.getCheckedNodes=function(E){var D=this.setting.data.key.children;E=(E!==false);return y.getTreeCheckedNodes(this.setting,y.getRoot(C)[D],E)};B.getChangeCheckedNodes=function(){var D=this.setting.data.key.children;return y.getTreeChangeCheckedNodes(this.setting,y.getRoot(C)[D])};B.setChkDisabled=function(E,D,F,G){D=!!D;F=!!F;G=!!G;j.repairSonChkDisabled(this.setting,E,D,G);j.repairParentChkDisabled(this.setting,E.getParentNode(),D,F)};var A=B.updateNode;B.updateNode=function(F,G){if(A){A.apply(B,arguments)}if(!F||!this.setting.check.enable){return}var D=f("#"+F.tId);if(D.get(0)&&t.uCanDo(this.setting)){var E=f("#"+F.tId+q.id.CHECK);if(G==true||this.setting.check.chkStyle===q.radio.STYLE){j.checkNodeRelation(this.setting,F)}j.setChkClass(this.setting,E,F);j.repairParentChkClassWithSelf(this.setting,F)}}},p={getRadioCheckedList:function(D){var C=y.getRoot(D).radioCheckedList;for(var B=0,A=C.length;B<A;B++){if(!y.getNodeCache(D,C[B].tId)){C.splice(B,1);B--;A--}}return C},getCheckStatus:function(B,D){if(!B.check.enable||D.nocheck||D.chkDisabled){return null}var A=B.data.key.checked,C={checked:D[A],half:D.halfCheck?D.halfCheck:(B.check.chkStyle==q.radio.STYLE?(D.check_Child_State===2):(D[A]?(D.check_Child_State>-1&&D.check_Child_State<2):(D.check_Child_State>0)))};return C},getTreeCheckedNodes:function(I,B,H,E){if(!B){return[]}var C=I.data.key.children,A=I.data.key.checked,G=(H&&I.check.chkStyle==q.radio.STYLE&&I.check.radioType==q.radio.TYPE_ALL);E=!E?[]:E;for(var F=0,D=B.length;F<D;F++){if(B[F].nocheck!==true&&B[F].chkDisabled!==true&&B[F][A]==H){E.push(B[F]);if(G){break}}y.getTreeCheckedNodes(I,B[F][C],H,E);if(G&&E.length>0){break}}return E},getTreeChangeCheckedNodes:function(F,C,E){if(!C){return[]}var G=F.data.key.children,B=F.data.key.checked;E=!E?[]:E;for(var D=0,A=C.length;D<A;D++){if(C[D].nocheck!==true&&C[D].chkDisabled!==true&&C[D][B]!=C[D].checkedOld){E.push(C[D])}y.getTreeChangeCheckedNodes(F,C[D][G],E)}return E},makeChkFlag:function(H,C){if(!C){return}var B=H.data.key.children,A=H.data.key.checked,E=-1;if(C[B]){for(var G=0,D=C[B].length;G<D;G++){var I=C[B][G];var F=-1;if(H.check.chkStyle==q.radio.STYLE){if(I.nocheck===true||I.chkDisabled===true){F=I.check_Child_State}else{if(I.halfCheck===true){F=2}else{if(I[A]){F=2}else{F=I.check_Child_State>0?2:0}}}if(F==2){E=2;break}else{if(F==0){E=0}}}else{if(H.check.chkStyle==q.checkbox.STYLE){if(I.nocheck===true||I.chkDisabled===true){F=I.check_Child_State}else{if(I.halfCheck===true){F=1}else{if(I[A]){F=(I.check_Child_State===-1||I.check_Child_State===2)?2:1}else{F=(I.check_Child_State>0)?1:0}}}if(F===1){E=1;break}else{if(F===2&&E>-1&&G>0&&F!==E){E=1;break}else{if(E===2&&F>-1&&F<2){E=1;break}else{if(F>-1){E=F}}}}}}}}C.check_Child_State=E}},h={},l={onCheckNode:function(E,D){if(D.chkDisabled===true){return false}var C=y.getSetting(E.data.treeId),A=C.data.key.checked;if(t.apply(C.callback.beforeCheck,[C.treeId,D],true)==false){return true}D[A]=!D[A];j.checkNodeRelation(C,D);var B=f("#"+D.tId+q.id.CHECK);j.setChkClass(C,B,D);j.repairParentChkClassWithSelf(C,D);C.treeObj.trigger(q.event.CHECK,[E,C.treeId,D]);return true},onMouseoverCheck:function(D,C){if(C.chkDisabled===true){return false}var B=y.getSetting(D.data.treeId),A=f("#"+C.tId+q.id.CHECK);C.check_Focus=true;j.setChkClass(B,A,C);return true},onMouseoutCheck:function(D,C){if(C.chkDisabled===true){return false}var B=y.getSetting(D.data.treeId),A=f("#"+C.tId+q.id.CHECK);C.check_Focus=false;j.setChkClass(B,A,C);return true}},i={},e={checkNodeRelation:function(J,D){var H,F,E,C=J.data.key.children,B=J.data.key.checked,A=q.radio;if(J.check.chkStyle==A.STYLE){var I=y.getRadioCheckedList(J);if(D[B]){if(J.check.radioType==A.TYPE_ALL){for(F=I.length-1;F>=0;F--){H=I[F];H[B]=false;I.splice(F,1);j.setChkClass(J,f("#"+H.tId+q.id.CHECK),H);if(H.parentTId!=D.parentTId){j.repairParentChkClassWithSelf(J,H)}}I.push(D)}else{var G=(D.parentTId)?D.getParentNode():y.getRoot(J);for(F=0,E=G[C].length;F<E;F++){H=G[C][F];if(H[B]&&H!=D){H[B]=false;j.setChkClass(J,f("#"+H.tId+q.id.CHECK),H)}}}}else{if(J.check.radioType==A.TYPE_ALL){for(F=0,E=I.length;F<E;F++){if(D==I[F]){I.splice(F,1);break}}}}}else{if(D[B]&&(!D[C]||D[C].length==0||J.check.chkboxType.Y.indexOf("s")>-1)){j.setSonNodeCheckBox(J,D,true)}if(!D[B]&&(!D[C]||D[C].length==0||J.check.chkboxType.N.indexOf("s")>-1)){j.setSonNodeCheckBox(J,D,false)}if(D[B]&&J.check.chkboxType.Y.indexOf("p")>-1){j.setParentNodeCheckBox(J,D,true)}if(!D[B]&&J.check.chkboxType.N.indexOf("p")>-1){j.setParentNodeCheckBox(J,D,false)}}},makeChkClass:function(B,E){var A=B.data.key.checked,G=q.checkbox,D=q.radio,F="";if(E.chkDisabled===true){F=G.DISABLED}else{if(E.halfCheck){F=G.PART}else{if(B.check.chkStyle==D.STYLE){F=(E.check_Child_State<1)?G.FULL:G.PART}else{F=E[A]?((E.check_Child_State===2||E.check_Child_State===-1)?G.FULL:G.PART):((E.check_Child_State<1)?G.FULL:G.PART)}}}var C=B.check.chkStyle+"_"+(E[A]?G.TRUE:G.FALSE)+"_"+F;C=(E.check_Focus&&E.chkDisabled!==true)?C+"_"+G.FOCUS:C;return q.className.BUTTON+" "+G.DEFAULT+" "+C},repairAllChk:function(E,H){if(E.check.enable&&E.check.chkStyle===q.checkbox.STYLE){var C=E.data.key.checked,G=E.data.key.children,B=y.getRoot(E);for(var D=0,A=B[G].length;D<A;D++){var F=B[G][D];if(F.nocheck!==true&&F.chkDisabled!==true){F[C]=H}j.setSonNodeCheckBox(E,F,H)}}},repairChkClass:function(B,C){if(!C){return}y.makeChkFlag(B,C);if(C.nocheck!==true){var A=f("#"+C.tId+q.id.CHECK);j.setChkClass(B,A,C)}},repairParentChkClass:function(B,C){if(!C||!C.parentTId){return}var A=C.getParentNode();j.repairChkClass(B,A);j.repairParentChkClass(B,A)},repairParentChkClassWithSelf:function(A,C){if(!C){return}var B=A.data.key.children;if(C[B]&&C[B].length>0){j.repairParentChkClass(A,C[B][0])}else{j.repairParentChkClass(A,C)}},repairSonChkDisabled:function(F,H,E,C){if(!H){return}var G=F.data.key.children;if(H.chkDisabled!=E){H.chkDisabled=E}j.repairChkClass(F,H);if(H[G]&&C){for(var D=0,B=H[G].length;D<B;D++){var A=H[G][D];j.repairSonChkDisabled(F,A,E,C)}}},repairParentChkDisabled:function(C,D,B,A){if(!D){return}if(D.chkDisabled!=B&&A){D.chkDisabled=B}j.repairChkClass(C,D);j.repairParentChkDisabled(C,D.getParentNode(),B,A)},setChkClass:function(A,C,B){if(!C){return}if(B.nocheck===true){C.hide()}else{C.show()}C.removeClass();C.addClass(j.makeChkClass(A,B))},setParentNodeCheckBox:function(K,D,J,G){var C=K.data.key.children,A=K.data.key.checked,H=f("#"+D.tId+q.id.CHECK);if(!G){G=D}y.makeChkFlag(K,D);if(D.nocheck!==true&&D.chkDisabled!==true){D[A]=J;j.setChkClass(K,H,D);if(K.check.autoCheckTrigger&&D!=G){K.treeObj.trigger(q.event.CHECK,[null,K.treeId,D])}}if(D.parentTId){var I=true;if(!J){var B=D.getParentNode()[C];for(var F=0,E=B.length;F<E;F++){if((B[F].nocheck!==true&&B[F].chkDisabled!==true&&B[F][A])||((B[F].nocheck===true||B[F].chkDisabled===true)&&B[F].check_Child_State>0)){I=false;break}}}if(I){j.setParentNodeCheckBox(K,D.getParentNode(),J,G)}}},setSonNodeCheckBox:function(K,D,J,G){if(!D){return}var C=K.data.key.children,A=K.data.key.checked,H=f("#"+D.tId+q.id.CHECK);if(!G){G=D}var B=false;if(D[C]){for(var F=0,E=D[C].length;F<E&&D.chkDisabled!==true;F++){var I=D[C][F];j.setSonNodeCheckBox(K,I,J,G);if(I.chkDisabled===true){B=true}}}if(D!=y.getRoot(K)&&D.chkDisabled!==true){if(B&&D.nocheck!==true){y.makeChkFlag(K,D)}if(D.nocheck!==true&&D.chkDisabled!==true){D[A]=J;if(!B){D.check_Child_State=(D[C]&&D[C].length>0)?(J?2:0):-1}}else{D.check_Child_State=-1}j.setChkClass(K,H,D);if(K.check.autoCheckTrigger&&D!=G&&D.nocheck!==true&&D.chkDisabled!==true){K.treeObj.trigger(q.event.CHECK,[null,K.treeId,D])}}}},s={tools:i,view:e,event:h,data:p};f.extend(true,f.fn.zTree.consts,z);f.extend(true,f.fn.zTree._z,s);var c=f.fn.zTree,t=c._z.tools,q=c.consts,j=c._z.view,y=c._z.data,r=c._z.event;y.exSetting(m);y.addInitBind(n);y.addInitUnBind(x);y.addInitCache(d);y.addInitNode(u);y.addInitProxy(o);y.addInitRoot(v);y.addBeforeA(a);y.addZTreeTools(k);var w=j.createNodes;j.createNodes=function(C,D,B,A){if(w){w.apply(j,arguments)}if(!B){return}j.repairParentChkClassWithSelf(C,A)};var b=j.removeNode;j.removeNode=function(B,C){var A=C.getParentNode();if(b){b.apply(j,arguments)}if(!C||!A){return}j.repairChkClass(B,A);j.repairParentChkClass(B,A)};var g=j.appendNodes;j.appendNodes=function(E,G,B,A,D,F){var C="";if(g){C=g.apply(j,arguments)}if(A){y.makeChkFlag(E,A)}return C}})(jQuery);(function(f){var B={event:{DRAG:"ztree_drag",DROP:"ztree_drop",REMOVE:"ztree_remove",RENAME:"ztree_rename"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},l={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDrop:null,onRename:null}},w=function(C){var D=z.getRoot(C);D.curEditNode=null;D.curEditInput=null;D.curHoverNode=null;D.dragFlag=0;D.dragNodeShowBefore=[];D.dragMaskList=new Array();D.showHoverDom=true},c=function(C){},m=function(C){var D=C.treeObj;var E=p.event;D.bind(E.RENAME,function(F,H,G){u.apply(C.callback.onRename,[F,H,G])});D.bind(E.REMOVE,function(F,H,G){u.apply(C.callback.onRemove,[F,H,G])});D.bind(E.DRAG,function(G,F,I,H){u.apply(C.callback.onDrag,[F,I,H])});D.bind(E.DROP,function(I,H,K,J,L,G,F){u.apply(C.callback.onDrop,[H,K,J,L,G,F])})},y=function(C){var D=C.treeObj;var E=p.event;D.unbind(E.RENAME);D.unbind(E.REMOVE);D.unbind(E.DRAG);D.unbind(E.DROP)},n=function(J){var K=J.target,N=z.getSetting(J.data.treeId),L=J.relatedTarget,H="",D=null,E="",I="",C=null,G=null,F=null;if(u.eqs(J.type,"mouseover")){F=u.getMDom(N,K,[{tagName:"a",attrName:"treeNode"+p.id.A}]);if(F){H=F.parentNode.id;E="hoverOverNode"}}else{if(u.eqs(J.type,"mouseout")){F=u.getMDom(N,L,[{tagName:"a",attrName:"treeNode"+p.id.A}]);if(!F){H="remove";E="hoverOutNode"}}else{if(u.eqs(J.type,"mousedown")){F=u.getMDom(N,K,[{tagName:"a",attrName:"treeNode"+p.id.A}]);if(F){H=F.parentNode.id;E="mousedownNode"}}}}if(H.length>0){D=z.getNodeCache(N,H);switch(E){case"mousedownNode":C=k.onMousedownNode;break;case"hoverOverNode":C=k.onHoverOverNode;break;case"hoverOutNode":C=k.onHoverOutNode;break}}var M={stop:false,node:D,nodeEventType:E,nodeEventCallback:C,treeEventType:I,treeEventCallback:G};return M},v=function(E,I,H,C,G,D,F){if(!H){return}H.isHover=false;H.editNameFlag=false},j=function(D,C){C.cancelEditName=function(F){var E=z.getRoot(D),G=D.data.key.name,H=E.curEditNode;if(!E.curEditNode){return}i.cancelCurEditNode(D,F?F:H[G])};C.copyNode=function(I,H,G,J){if(!H){return null}if(I&&!I.isParent&&D.data.keep.leaf&&G===p.move.TYPE_INNER){return null}var E=u.clone(H);if(!I){I=null;G=p.move.TYPE_INNER}if(G==p.move.TYPE_INNER){function F(){i.addNodes(D,I,[E],J)}if(u.canAsync(D,I)){i.asyncNode(D,I,J,F)}else{F()}}else{i.addNodes(D,I.parentNode,[E],J);i.moveNode(D,I,E,G,false,J)}return E};C.editName=function(E){if(!E||!E.tId||E!==z.getNodeCache(D,E.tId)){return}if(E.parentTId){i.expandCollapseParentNode(D,E.getParentNode(),true)}i.editNode(D,E)};C.moveNode=function(G,F,E,I){if(!F){return F}if(G&&!G.isParent&&D.data.keep.leaf&&E===p.move.TYPE_INNER){return null}else{if(G&&((F.parentTId==G.tId&&E==p.move.TYPE_INNER)||f("#"+F.tId).find("#"+G.tId).length>0)){return null}else{if(!G){G=null}}}function H(){i.moveNode(D,G,F,E,false,I)}if(u.canAsync(D,G)&&E===p.move.TYPE_INNER){i.asyncNode(D,G,I,H)}else{H()}return F};C.setEditable=function(E){D.edit.enable=E;return this.refresh()}},o={setSonNodeLevel:function(F,C,H){if(!H){return}var G=F.data.key.children;H.level=(C)?C.level+1:0;if(!H[G]){return}for(var E=0,D=H[G].length;E<D;E++){if(H[G][E]){z.setSonNodeLevel(F,H,H[G][E])}}}},g={},k={onHoverOverNode:function(F,E){var D=z.getSetting(F.data.treeId),C=z.getRoot(D);if(C.curHoverNode!=E){k.onHoverOutNode(F)}C.curHoverNode=E;i.addHoverDom(D,E)},onHoverOutNode:function(F,E){var D=z.getSetting(F.data.treeId),C=z.getRoot(D);if(C.curHoverNode&&!z.isSelectedNode(D,C.curHoverNode)){i.removeTreeDom(D,C.curHoverNode);C.curHoverNode=null}},onMousedownNode:function(O,I){var W,T,N=z.getSetting(O.data.treeId),S=z.getRoot(N);if(O.button==2||!N.edit.enable||(!N.edit.drag.isCopy&&!N.edit.drag.isMove)){return true}var Z=O.target,H=z.getRoot(N).curSelectedList,P=[];if(!z.isSelectedNode(N,I)){P=[I]}else{for(W=0,T=H.length;W<T;W++){if(H[W].editNameFlag&&u.eqs(Z.tagName,"input")&&Z.getAttribute("treeNode"+p.id.INPUT)!==null){return true}P.push(H[W]);if(P[0].parentTId!==H[W].parentTId){P=[I];break}}}i.editNodeBlur=true;i.cancelCurEditNode(N,null,true);var ac=f(document),V,J,X,Y=false,aa=N,C,G,Q=null,F=null,M=null,D=p.move.TYPE_INNER,U=O.clientX,R=O.clientY,K=(new Date()).getTime();if(u.uCanDo(N)){ac.bind("mousemove",L)}function L(a1){if(S.dragFlag==0&&Math.abs(U-a1.clientX)<N.edit.drag.minMoveSize&&Math.abs(R-a1.clientY)<N.edit.drag.minMoveSize){return true}var aW,aS,au,aN,aF,aM=N.data.key.children;f("body").css("cursor","pointer");if(S.dragFlag==0){if(u.apply(N.callback.beforeDrag,[N.treeId,P],true)==false){ab(a1);return true}for(aW=0,aS=P.length;aW<aS;aW++){if(aW==0){S.dragNodeShowBefore=[]}au=P[aW];if(au.isParent&&au.open){i.expandCollapseNode(N,au,!au.open);S.dragNodeShowBefore[au.tId]=true}else{S.dragNodeShowBefore[au.tId]=false}}S.dragFlag=1;S.showHoverDom=false;u.showIfameMask(N,true);var ae=true,ah=-1;if(P.length>1){var ar=P[0].parentTId?P[0].getParentNode()[aM]:z.getNodes(N);aF=[];for(aW=0,aS=ar.length;aW<aS;aW++){if(S.dragNodeShowBefore[ar[aW].tId]!==undefined){if(ae&&ah>-1&&(ah+1)!==aW){ae=false}aF.push(ar[aW]);ah=aW}if(P.length===aF.length){P=aF;break}}}if(ae){C=P[0].getPreNode();G=P[P.length-1].getNextNode()}V=f("<ul class='zTreeDragUL'></ul>");for(aW=0,aS=P.length;aW<aS;aW++){au=P[aW];au.editNameFlag=false;i.selectNode(N,au,aW>0);i.removeTreeDom(N,au);aN=f("<li id='"+au.tId+"_tmp'></li>");aN.append(f("#"+au.tId+p.id.A).clone());aN.css("padding","0");aN.children("#"+au.tId+p.id.A).removeClass(p.node.CURSELECTED);V.append(aN);if(aW==N.edit.drag.maxShowNodeNum-1){aN=f("<li id='"+au.tId+"_moretmp'><a>  ...  </a></li>");V.append(aN);break}}V.attr("id",P[0].tId+p.id.UL+"_tmp");V.addClass(N.treeObj.attr("class"));V.appendTo("body");J=f("<span class='tmpzTreeMove_arrow'></span>");J.attr("id","zTreeMove_arrow_tmp");J.appendTo("body");N.treeObj.trigger(p.event.DRAG,[a1,N.treeId,P])}if(S.dragFlag==1){if(X&&J.attr("id")==a1.target.id&&M&&(a1.clientX+ac.scrollLeft()+2)>(f("#"+M+p.id.A,X).offset().left)){var a0=f("#"+M+p.id.A,X);a1.target=(a0.length>0)?a0.get(0):a1.target}else{if(X){X.removeClass(p.node.TMPTARGET_TREE);if(M){f("#"+M+p.id.A,X).removeClass(p.node.TMPTARGET_NODE+"_"+p.move.TYPE_PREV).removeClass(p.node.TMPTARGET_NODE+"_"+B.move.TYPE_NEXT).removeClass(p.node.TMPTARGET_NODE+"_"+B.move.TYPE_INNER)}}}X=null;M=null;Y=false;aa=N;var aX=z.getSettings();for(var aO in aX){if(aX[aO].treeId&&aX[aO].edit.enable&&aX[aO].treeId!=N.treeId&&(a1.target.id==aX[aO].treeId||f(a1.target).parents("#"+aX[aO].treeId).length>0)){Y=true;aa=aX[aO]}}var aq=ac.scrollTop(),aZ=ac.scrollLeft(),af=aa.treeObj.offset(),az=aa.treeObj.get(0).scrollHeight,aP=aa.treeObj.get(0).scrollWidth,aY=(a1.clientY+aq-af.top),aL=(aa.treeObj.height()+af.top-a1.clientY-aq),aG=(a1.clientX+aZ-af.left),ap=(aa.treeObj.width()+af.left-a1.clientX-aZ),at=(aY<N.edit.drag.borderMax&&aY>N.edit.drag.borderMin),a2=(aL<N.edit.drag.borderMax&&aL>N.edit.drag.borderMin),aJ=(aG<N.edit.drag.borderMax&&aG>N.edit.drag.borderMin),an=(ap<N.edit.drag.borderMax&&ap>N.edit.drag.borderMin),ag=aY>N.edit.drag.borderMin&&aL>N.edit.drag.borderMin&&aG>N.edit.drag.borderMin&&ap>N.edit.drag.borderMin,aD=(at&&aa.treeObj.scrollTop()<=0),aC=(a2&&(aa.treeObj.scrollTop()+aa.treeObj.height()+10)>=az),aj=(aJ&&aa.treeObj.scrollLeft()<=0),ax=(an&&(aa.treeObj.scrollLeft()+aa.treeObj.width()+10)>=aP);if(a1.target.id&&aa.treeObj.find("#"+a1.target.id).length>0){var ao=a1.target;while(ao&&ao.tagName&&!u.eqs(ao.tagName,"li")&&ao.id!=aa.treeId){ao=ao.parentNode}var aw=true;for(aW=0,aS=P.length;aW<aS;aW++){au=P[aW];if(ao.id===au.tId){aw=false;break}else{if(f("#"+au.tId).find("#"+ao.id).length>0){aw=false;break}}}if(aw){if(a1.target.id&&(a1.target.id==(ao.id+p.id.A)||f(a1.target).parents("#"+ao.id+p.id.A).length>0)){X=f(ao);M=ao.id}}}au=P[0];if(ag&&(a1.target.id==aa.treeId||f(a1.target).parents("#"+aa.treeId).length>0)){if(!X&&(a1.target.id==aa.treeId||aD||aC||aj||ax)&&(Y||(!Y&&au.parentTId))){X=aa.treeObj}if(at){aa.treeObj.scrollTop(aa.treeObj.scrollTop()-10)}else{if(a2){aa.treeObj.scrollTop(aa.treeObj.scrollTop()+10)}}if(aJ){aa.treeObj.scrollLeft(aa.treeObj.scrollLeft()-10)}else{if(an){aa.treeObj.scrollLeft(aa.treeObj.scrollLeft()+10)}}if(X&&X!=aa.treeObj&&X.offset().left<aa.treeObj.offset().left){aa.treeObj.scrollLeft(aa.treeObj.scrollLeft()+X.offset().left-aa.treeObj.offset().left)}}V.css({top:(a1.clientY+aq+3)+"px",left:(a1.clientX+aZ+3)+"px"});var aB=0;var aA=0;if(X&&X.attr("id")!=aa.treeId){var aK=M==null?null:z.getNodeCache(aa,M),aE=(a1.ctrlKey&&N.edit.drag.isMove&&N.edit.drag.isCopy)||(!N.edit.drag.isMove&&N.edit.drag.isCopy),al=!!(C&&M===C.tId),aI=!!(G&&M===G.tId),aU=(au.parentTId&&au.parentTId==M),aH=(aE||!aI)&&u.apply(aa.edit.drag.prev,[aa.treeId,P,aK],!!aa.edit.drag.prev),ak=(aE||!al)&&u.apply(aa.edit.drag.next,[aa.treeId,P,aK],!!aa.edit.drag.next),ad=(aE||!aU)&&!(aa.data.keep.leaf&&!aK.isParent)&&u.apply(aa.edit.drag.inner,[aa.treeId,P,aK],!!aa.edit.drag.inner);if(!aH&&!ak&&!ad){X=null;M="";D=p.move.TYPE_INNER;J.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}else{var ay=f("#"+M+p.id.A,X),aR=aK.isLastNode?null:f("#"+aK.getNextNode().tId+p.id.A,X.next()),aT=ay.offset().top,aV=ay.offset().left,aQ=aH?(ad?0.25:(ak?0.5:1)):-1,am=ak?(ad?0.75:(aH?0.5:0)):-1,ai=(a1.clientY+aq-aT)/ay.height();if((aQ==1||ai<=aQ&&ai>=-0.2)&&aH){aB=1-J.width();aA=aT-J.height()/2;D=p.move.TYPE_PREV}else{if((am==0||ai>=am&&ai<=1.2)&&ak){aB=1-J.width();aA=(aR==null||(aK.isParent&&aK.open))?(aT+ay.height()-J.height()/2):(aR.offset().top-J.height()/2);D=p.move.TYPE_NEXT}else{aB=5-J.width();aA=aT;D=p.move.TYPE_INNER}}J.css({display:"block",top:aA+"px",left:(aV+aB)+"px"});ay.addClass(p.node.TMPTARGET_NODE+"_"+D);if(Q!=M||F!=D){K=(new Date()).getTime()}if(aK&&aK.isParent&&D==p.move.TYPE_INNER){var av=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==aK.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else{if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===aK.tId){av=false}}if(av){window.zTreeMoveTimer=setTimeout(function(){if(D!=p.move.TYPE_INNER){return}if(aK&&aK.isParent&&!aK.open&&(new Date()).getTime()-K>aa.edit.drag.autoOpenTime&&u.apply(aa.callback.beforeDragOpen,[aa.treeId,aK],true)){i.switchNode(aa,aK);if(aa.edit.drag.autoExpandTrigger){aa.treeObj.trigger(p.event.EXPAND,[aa.treeId,aK])}}},aa.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=aK.tId}}}}else{D=p.move.TYPE_INNER;if(X&&u.apply(aa.edit.drag.inner,[aa.treeId,P,null],!!aa.edit.drag.inner)){X.addClass(p.node.TMPTARGET_TREE)}else{X=null}J.css({display:"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}Q=M;F=D}return false}ac.bind("mouseup",ab);function ab(ak){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}Q=null;F=null;ac.unbind("mousemove",L);ac.unbind("mouseup",ab);ac.unbind("selectstart",E);f("body").css("cursor","auto");if(X){X.removeClass(p.node.TMPTARGET_TREE);if(M){f("#"+M+p.id.A,X).removeClass(p.node.TMPTARGET_NODE+"_"+p.move.TYPE_PREV).removeClass(p.node.TMPTARGET_NODE+"_"+B.move.TYPE_NEXT).removeClass(p.node.TMPTARGET_NODE+"_"+B.move.TYPE_INNER)}}u.showIfameMask(N,false);S.showHoverDom=true;if(S.dragFlag==0){return}S.dragFlag=0;var ai,ae,aj;for(ai=0,ae=P.length;ai<ae;ai++){aj=P[ai];if(aj.isParent&&S.dragNodeShowBefore[aj.tId]&&!aj.open){i.expandCollapseNode(N,aj,!aj.open);delete S.dragNodeShowBefore[aj.tId]}}if(V){V.remove()}if(J){J.remove()}var ad=(ak.ctrlKey&&N.edit.drag.isMove&&N.edit.drag.isCopy)||(!N.edit.drag.isMove&&N.edit.drag.isCopy);if(!ad&&X&&M&&P[0].parentTId&&M==P[0].parentTId&&D==p.move.TYPE_INNER){X=null}if(X){var af=M==null?null:z.getNodeCache(aa,M);if(u.apply(N.callback.beforeDrop,[aa.treeId,P,af,D,ad],true)==false){return}var ag=ad?u.clone(P):P;function ah(){if(Y){if(!ad){for(var am=0,al=P.length;am<al;am++){i.removeNode(N,P[am])}}if(D==p.move.TYPE_INNER){i.addNodes(aa,af,ag)}else{i.addNodes(aa,af.getParentNode(),ag);if(D==p.move.TYPE_PREV){for(am=0,al=ag.length;am<al;am++){i.moveNode(aa,af,ag[am],D,false)}}else{for(am=-1,al=ag.length-1;am<al;al--){i.moveNode(aa,af,ag[al],D,false)}}}}else{if(ad&&D==p.move.TYPE_INNER){i.addNodes(aa,af,ag)}else{if(ad){i.addNodes(aa,af.getParentNode(),ag)}if(D!=p.move.TYPE_NEXT){for(am=0,al=ag.length;am<al;am++){i.moveNode(aa,af,ag[am],D,false)}}else{for(am=-1,al=ag.length-1;am<al;al--){i.moveNode(aa,af,ag[al],D,false)}}}}for(am=0,al=ag.length;am<al;am++){i.selectNode(aa,ag[am],am>0)}f("#"+ag[0].tId).focus().blur();N.treeObj.trigger(p.event.DROP,[ak,aa.treeId,ag,af,D,ad])}if(D==p.move.TYPE_INNER&&u.canAsync(aa,af)){i.asyncNode(aa,af,false,ah)}else{ah()}}else{for(ai=0,ae=P.length;ai<ae;ai++){i.selectNode(aa,P[ai],ai>0)}N.treeObj.trigger(p.event.DROP,[ak,N.treeId,P,null,null,null])}}ac.bind("selectstart",E);function E(){return false}if(O.preventDefault){O.preventDefault()}return true}},h={getAbs:function(C){var D=C.getBoundingClientRect();return[D.left,D.top]},inputFocus:function(C){if(C.get(0)){C.focus();u.setCursorPosition(C.get(0),C.val().length)}},inputSelect:function(C){if(C.get(0)){C.focus();C.select()}},setCursorPosition:function(D,E){if(D.setSelectionRange){D.focus();D.setSelectionRange(E,E)}else{if(D.createTextRange){var C=D.createTextRange();C.collapse(true);C.moveEnd("character",E);C.moveStart("character",E);C.select()}}},showIfameMask:function(J,H){var G=z.getRoot(J);while(G.dragMaskList.length>0){G.dragMaskList[0].remove();G.dragMaskList.shift()}if(H){var K=f("iframe");for(var F=0,D=K.length;F<D;F++){var E=K.get(F),C=u.getAbs(E),I=f("<div id='zTreeMask_"+F+"' class='zTreeMask' style='top:"+C[1]+"px; left:"+C[0]+"px; width:"+E.offsetWidth+"px; height:"+E.offsetHeight+"px;'></div>");I.appendTo("body");G.dragMaskList.push(I)}}}},d={addEditBtn:function(D,E){if(E.editNameFlag||f("#"+E.tId+p.id.EDIT).length>0){return}if(!u.apply(D.edit.showRenameBtn,[D.treeId,E],D.edit.showRenameBtn)){return}var F=f("#"+E.tId+p.id.A),C="<span class='"+p.className.BUTTON+" edit' id='"+E.tId+p.id.EDIT+"' title='"+u.apply(D.edit.renameTitle,[D.treeId,E],D.edit.renameTitle)+"' treeNode"+p.id.EDIT+" style='display:none;'></span>";F.append(C);f("#"+E.tId+p.id.EDIT).bind("click",function(){if(!u.uCanDo(D)||u.apply(D.callback.beforeEditName,[D.treeId,E],true)==false){return false}i.editNode(D,E);return false}).show()},addRemoveBtn:function(C,D){if(D.editNameFlag||f("#"+D.tId+p.id.REMOVE).length>0){return}if(!u.apply(C.edit.showRemoveBtn,[C.treeId,D],C.edit.showRemoveBtn)){return}var F=f("#"+D.tId+p.id.A),E="<span class='"+p.className.BUTTON+" remove' id='"+D.tId+p.id.REMOVE+"' title='"+u.apply(C.edit.removeTitle,[C.treeId,D],C.edit.removeTitle)+"' treeNode"+p.id.REMOVE+" style='display:none;'></span>";F.append(E);f("#"+D.tId+p.id.REMOVE).bind("click",function(){if(!u.uCanDo(C)||u.apply(C.callback.beforeRemove,[C.treeId,D],true)==false){return false}i.removeNode(C,D);C.treeObj.trigger(p.event.REMOVE,[C.treeId,D]);return false}).bind("mousedown",function(G){return true}).show()},addHoverDom:function(C,D){if(z.getRoot(C).showHoverDom){D.isHover=true;if(C.edit.enable){i.addEditBtn(C,D);i.addRemoveBtn(C,D)}u.apply(C.view.addHoverDom,[C.treeId,D])}},cancelCurEditNode:function(H,F){var D=z.getRoot(H),G=H.data.key.name,I=D.curEditNode;if(I){var E=D.curEditInput;var C=F?F:E.val();if(!F&&u.apply(H.callback.beforeRename,[H.treeId,I,C],true)===false){return false}else{I[G]=C?C:E.val();if(!F){H.treeObj.trigger(p.event.RENAME,[H.treeId,I])}}var J=f("#"+I.tId+p.id.A);J.removeClass(p.node.CURSELECTED_EDIT);E.unbind();i.setNodeName(H,I);I.editNameFlag=false;D.curEditNode=null;D.curEditInput=null;i.selectNode(H,I,false)}D.noSelection=true;return true},editNode:function(F,G){var C=z.getRoot(F);i.editNodeBlur=false;if(z.isSelectedNode(F,G)&&C.curEditNode==G&&G.editNameFlag){setTimeout(function(){u.inputFocus(C.curEditInput)},0);return}var E=F.data.key.name;G.editNameFlag=true;i.removeTreeDom(F,G);i.cancelCurEditNode(F);i.selectNode(F,G,false);f("#"+G.tId+p.id.SPAN).html("<input type=text class='rename' id='"+G.tId+p.id.INPUT+"' treeNode"+p.id.INPUT+" >");var D=f("#"+G.tId+p.id.INPUT);D.attr("value",G[E]);if(F.edit.editNameSelectAll){u.inputSelect(D)}else{u.inputFocus(D)}D.bind("blur",function(H){if(!i.editNodeBlur){i.cancelCurEditNode(F)}}).bind("keydown",function(H){if(H.keyCode=="13"){i.editNodeBlur=true;i.cancelCurEditNode(F,null,true)}else{if(H.keyCode=="27"){i.cancelCurEditNode(F,G[E])}}}).bind("click",function(H){return false}).bind("dblclick",function(H){return false});f("#"+G.tId+p.id.A).addClass(p.node.CURSELECTED_EDIT);C.curEditInput=D;C.noSelection=false;C.curEditNode=G},moveNode:function(M,F,P,E,aa,G){var R=z.getRoot(M),K=M.data.key.children;if(F==P){return}if(M.data.keep.leaf&&F&&!F.isParent&&E==p.move.TYPE_INNER){return}var U=(P.parentTId?P.getParentNode():R),O=(F===null||F==R);if(O&&F===null){F=R}if(O){E=p.move.TYPE_INNER}var C=(F.parentTId?F.getParentNode():R);if(E!=p.move.TYPE_PREV&&E!=p.move.TYPE_NEXT){E=p.move.TYPE_INNER}if(E==p.move.TYPE_INNER){if(O){P.parentTId=null}else{if(!F.isParent){F.isParent=true;F.open=!!F.open;i.setNodeLineIcos(M,F)}P.parentTId=F.tId}}var H,J;if(O){H=M.treeObj;J=H}else{if(!G&&E==p.move.TYPE_INNER){i.expandCollapseNode(M,F,true,false)}else{if(!G){i.expandCollapseNode(M,F.getParentNode(),true,false)}}H=f("#"+F.tId);J=f("#"+F.tId+p.id.UL);if(!!H.get(0)&&!J.get(0)){var Y=[];i.makeUlHtml(M,F,Y,"");H.append(Y.join(""))}J=f("#"+F.tId+p.id.UL)}var W=f("#"+P.tId);if(!W.get(0)){W=i.appendNodes(M,P.level,[P],null,false,true).join("")}else{if(!H.get(0)){W.remove()}}if(J.get(0)&&E==p.move.TYPE_INNER){J.append(W)}else{if(H.get(0)&&E==p.move.TYPE_PREV){H.before(W)}else{if(H.get(0)&&E==p.move.TYPE_NEXT){H.after(W)}}}var T,S,I=-1,V=0,Z=null,D=null,X=P.level;if(P.isFirstNode){I=0;if(U[K].length>1){Z=U[K][1];Z.isFirstNode=true}}else{if(P.isLastNode){I=U[K].length-1;Z=U[K][I-1];Z.isLastNode=true}else{for(T=0,S=U[K].length;T<S;T++){if(U[K][T].tId==P.tId){I=T;break}}}}if(I>=0){U[K].splice(I,1)}if(E!=p.move.TYPE_INNER){for(T=0,S=C[K].length;T<S;T++){if(C[K][T].tId==F.tId){V=T}}}if(E==p.move.TYPE_INNER){if(!F[K]){F[K]=new Array()}if(F[K].length>0){D=F[K][F[K].length-1];D.isLastNode=false}F[K].splice(F[K].length,0,P);P.isLastNode=true;P.isFirstNode=(F[K].length==1)}else{if(F.isFirstNode&&E==p.move.TYPE_PREV){C[K].splice(V,0,P);D=F;D.isFirstNode=false;P.parentTId=F.parentTId;P.isFirstNode=true;P.isLastNode=false}else{if(F.isLastNode&&E==p.move.TYPE_NEXT){C[K].splice(V+1,0,P);D=F;D.isLastNode=false;P.parentTId=F.parentTId;P.isFirstNode=false;P.isLastNode=true}else{if(E==p.move.TYPE_PREV){C[K].splice(V,0,P)}else{C[K].splice(V+1,0,P)}P.parentTId=F.parentTId;P.isFirstNode=false;P.isLastNode=false}}}z.fixPIdKeyValue(M,P);z.setSonNodeLevel(M,P.getParentNode(),P);i.setNodeLineIcos(M,P);i.repairNodeLevelClass(M,P,X);if(!M.data.keep.parent&&U[K].length<1){U.isParent=false;U.open=false;var N=f("#"+U.tId+p.id.UL),Q=f("#"+U.tId+p.id.SWITCH),L=f("#"+U.tId+p.id.ICON);i.replaceSwitchClass(U,Q,p.folder.DOCU);i.replaceIcoClass(U,L,p.folder.DOCU);N.css("display","none")}else{if(Z){i.setNodeLineIcos(M,Z)}}if(D){i.setNodeLineIcos(M,D)}if(!!M.check&&M.check.enable&&i.repairChkClass){i.repairChkClass(M,U);i.repairParentChkClassWithSelf(M,U);if(U!=P.parent){i.repairParentChkClassWithSelf(M,P)}}if(!G){i.expandCollapseParentNode(M,P.getParentNode(),true,aa)}},removeEditBtn:function(C){f("#"+C.tId+p.id.EDIT).unbind().remove()},removeRemoveBtn:function(C){f("#"+C.tId+p.id.REMOVE).unbind().remove()},removeTreeDom:function(C,D){D.isHover=false;i.removeEditBtn(D);i.removeRemoveBtn(D);u.apply(C.view.removeHoverDom,[C.treeId,D])},repairNodeLevelClass:function(D,F,E){if(E===F.level){return}var G=f("#"+F.tId),J=f("#"+F.tId+p.id.A),I=f("#"+F.tId+p.id.UL),C=p.className.LEVEL+E,H=p.className.LEVEL+F.level;G.removeClass(C);G.addClass(H);J.removeClass(C);J.addClass(H);I.removeClass(C);I.addClass(H)}},s={tools:h,view:d,event:g,data:o};f.extend(true,f.fn.zTree.consts,B);f.extend(true,f.fn.zTree._z,s);var b=f.fn.zTree,u=b._z.tools,p=b.consts,i=b._z.view,z=b._z.data,r=b._z.event;z.exSetting(l);z.addInitBind(m);z.addInitUnBind(y);z.addInitCache(c);z.addInitNode(v);z.addInitProxy(n);z.addInitRoot(w);z.addZTreeTools(j);var t=i.cancelPreSelectedNode;i.cancelPreSelectedNode=function(E,F){var G=z.getRoot(E).curSelectedList;for(var D=0,C=G.length;D<C;D++){if(!F||F===G[D]){i.removeTreeDom(E,G[D]);if(F){break}}}if(t){t.apply(i,arguments)}};var x=i.createNodes;i.createNodes=function(E,F,D,C){if(x){x.apply(i,arguments)}if(!D){return}if(i.repairParentChkClassWithSelf){i.repairParentChkClassWithSelf(E,C)}};var q=i.makeNodeUrl;i.makeNodeUrl=function(C,D){return C.edit.enable?null:(q.apply(i,arguments))};var a=i.removeNode;i.removeNode=function(D,E){var C=z.getRoot(D);if(C.curEditNode===E){C.curEditNode=null}if(a){a.apply(i,arguments)}};var A=i.selectNode;i.selectNode=function(E,F,D){var C=z.getRoot(E);if(z.isSelectedNode(E,F)&&C.curEditNode==F&&F.editNameFlag){return false}if(A){A.apply(i,arguments)}i.addHoverDom(E,F);return true};var e=u.uCanDo;u.uCanDo=function(D,E){var C=z.getRoot(D);if(E&&(u.eqs(E.type,"mouseover")||u.eqs(E.type,"mouseout")||u.eqs(E.type,"mousedown")||u.eqs(E.type,"mouseup"))){return true}return(!C.curEditNode)&&(e?e.apply(i,arguments):true)}})(jQuery);(function($){$.fn.UED_tree=function(option){function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _box=$(n),_rel=strToJson(_box.attr("data-rel"));if(!_box.attr("id")){_box.attr("id","zt"+Math.round(Math.random()*10000))}var option=$.extend(true,{},option,_rel,{data:{simpleData:{enable:true}},callback:{onClick:function(event,treeId,treeNode,clickFlag){window.dealTreeAction&&dealTreeAction(treeId,treeNode.id||treeNode.tId,treeNode.isParent,treeNode.name)}}});var nodes=[{id:1,pId:0,name:"父节点1 - 展开",open:true},{id:11,pId:1,name:"父节点11 - 折叠"},{id:111,pId:11,name:"叶子节点111"},{id:112,pId:11,name:"叶子节点112"},{id:113,pId:11,name:"叶子节点113"},{id:114,pId:11,name:"叶子节点114"},{id:12,pId:1,name:"父节点12 - 折叠"},{id:121,pId:12,name:"叶子节点121"},{id:122,pId:12,name:"叶子节点122"},{id:123,pId:12,name:"叶子节点123"},{id:124,pId:12,name:"叶子节点124"},{id:13,pId:1,name:"父节点13 - 没有子节点",isParent:true},{id:2,pId:0,name:"父节点2 - 折叠"},{id:21,pId:2,name:"父节点21 - 展开",open:true},{id:211,pId:21,name:"叶子节点211"},{id:212,pId:21,name:"叶子节点212"},{id:213,pId:21,name:"叶子节点213"},{id:214,pId:21,name:"叶子节点214"},{id:22,pId:2,name:"父节点22 - 折叠"},{id:221,pId:22,name:"叶子节点221"},{id:222,pId:22,name:"叶子节点222"},{id:223,pId:22,name:"叶子节点223"},{id:224,pId:22,name:"叶子节点224"},{id:23,pId:2,name:"父节点23 - 折叠"},{id:231,pId:23,name:"叶子节点231"},{id:232,pId:23,name:"叶子节点232"},{id:233,pId:23,name:"叶子节点233"},{id:234,pId:23,name:"叶子节点234"},{id:3,pId:0,name:"父节点3 - 没有子节点",isParent:true}];if(_box.attr("data-url")){var url;try{url=eval(_box.attr("data-url"))}catch(err){url=_box.attr("data-url")}$.ajax({type:"POST",url:url,complete:function(XMLHttpRequest,textStatus){if(textStatus=="success"){option=$.extend(option,{async:{enable:true,url:url,autoParam:["id=nodeId","name","level"],otherParam:{treeId:function(){return _box.attr("id")||0}}}});$.fn.zTree.init(_box,option)}else{$.fn.zTree.init(_box,option,nodes)}}})}else{if(_box.attr("data-zNodes")){var nodes=window[_box.attr("data-zNodes")]||[];nodes&&$.fn.zTree.init(_box,option,nodes)}else{$.fn.zTree.init(_box,option,nodes)}}})};$(function(){$("*[data-role='ued_tree']").UED_tree()})})(jQuery);(function($){$.fn.UED_nav=function(option){var defaults={childMenu:"ul",activeClass:"on"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}var option=$.extend(true,{},defaults,option);return this.each(function(i,n){var _this=$(n),_rel=strToJson(_this.attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);_this.find(">ul>li").hover(function(){$(this).addClass(option.activeClass)},function(){$(this).removeClass(option.activeClass)})})};$(function(){$("*[data-role='ued-nav']").UED_nav()})})(jQuery);(function($){$.fn.UED_panel=function(option){var defaults={open:true,headerCollapse:false,header:">h3",content:".ued-content",min:".min",max:".max",restore:".restore",collapse:".collapse",expand:".expand",close:".close"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}function _init(o){var _o=o;var option=_o.data("option");var header=_o.find(option.header);var content=_o.find(option.content);if(option.open!=true){_o.find(option.content).hide()}header.delegate(option.max,"click",function(){var w=$(window).width()-4,h=$(window).height()-header.height(),top=$(window).scrollTop();_o.css({position:"absolute",top:top,left:1,width:w,zIndex:9999});content.height(h);$(this).removeClass(option.max.substr(1)).addClass(option.restore.substr(1))});header.delegate(option.restore,"click",function(){_o.removeAttr("style");content.removeAttr("style");$(this).removeClass(option.restore.substr(1)).addClass(option.max.substr(1))});header.delegate(option.collapse,"click",function(){content.slideUp("fast");$(this).removeClass(option.collapse.substr(1)).addClass(option.expand.substr(1))});header.delegate(option.expand,"click",function(){content.slideDown("fast");$(this).removeClass(option.expand.substr(1)).addClass(option.collapse.substr(1))});header.delegate(option.close,"click",function(){_o.remove()})}return this.each(function(i,n){var _box=$(n),_rel=strToJson(_box.attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);_box.data("option",option);_init(_box)})};$(function(){$("*[data-role='ued-panel']").UED_panel()})})(jQuery);(function($){$.fn.UED_passwStrength=function(option){var defaults={targetDiv:"#passwordStrengthDiv"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}function getPasswordStrength(H){var D=(H.length);if(D>5){D=5}var F=H.replace(/[0-9]/g,"");var G=(H.length-F.length);if(G>3){G=3}var A=H.replace(/\W/g,"");var C=(H.length-A.length);if(C>3){C=3}var B=H.replace(/[A-Z]/g,"");var I=(H.length-B.length);if(I>3){I=3}var E=((D*10)-20)+(G*10)+(C*15)+(I*10);if(E<0){E=0}if(E>100){E=100}return E}function showPrompter(s,t){t.text(s)}return this.each(function(i,n){var _o=$(n),_rel=strToJson(_o.attr("data-rel"));_o.data("option",$.extend(true,{},defaults,option,_rel));_o.bind("keyup",function(e){var _value=_o.val();var strength=getPasswordStrength(_value);showPrompter(strength,$(_o.data("option").targetDiv))})})};$(function(){$("*[data-role='ued-passwStrength']").UED_passwStrength()})})(jQuery);(function($){$.fn.UED_placeholder=function(option){var defaults={value:"&#x8BF7;&#x8F93;&#x5165;...",color:"#999999",fontSize:"12px",fontWeight:"normal",focusBgColor:"#FCF405"};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}function _init(o){var _o=o;var option=_o.data("option");if(option.value){var val=option.value;_o.val(val).css({color:option.color,"font-size":option.fontSize,"font-weight":option.fontWeight});_o.focus(function(){if(_o.val()==val){_o.val("").css({color:"","font-size":"","font-weight":""})}_o.css({"background-color":option.focusBgColor})}).blur(function(){if(!_o.val()){_o.val(val).css({"background-color":"",color:option.color,"font-size":option.fontSize,"font-weight":option.fontWeight})}else{_o.css({"background-color":"",color:"","font-size":"","font-weight":""})}})}}return this.each(function(i,n){var _this=$(n),_rel=strToJson(_this.attr("data-rel"));var options=$.extend(true,{},defaults,option,_rel);_this.data("option",options);_init(_this)})};$(function(){$("*[data-role='ued-placeholder']").UED_placeholder()})})(jQuery);(function($){$.fn.UED_progressBar=function(option){var uedSkin=function(){var uedSkin=$.cookie&&$.cookie("UED_skin")!="undefined"&&$.cookie("UED_skin")!=null?$.cookie("UED_skin"):"skin1";return uedSkin}();var defaults={val:null,steps:20,stepDuration:20,max:100,showText:true,textFormat:"percentage",width:120,height:12,callback:null,boxImage:"../css/"+uedSkin+"/images/progressbar/progressbar.gif",barImage:{0:"../css/"+uedSkin+"/images/progressbar/progressbg_red.gif",30:"../css/"+uedSkin+"/images/progressbar/progressbg_orange.gif",70:"../css/"+uedSkin+"/images/progressbar/progressbg_green.gif"},running_value:0,value:0,image:null};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _this=$(n),_rel=strToJson(_this.attr("data-rel"));var option=$.extend(true,{},defaults,option,_rel);var argvalue=option.val;var argconfig=option;construct(_this,argvalue,argconfig,option)});function construct(o,argvalue,argconfig,option){var pb=this;var config=this.config;if(argvalue!=null&&this.bar!=null&&this.config!=null){this.config.value=parseInt(argvalue);if(argconfig!=null){pb.config=$.extend(this.config,argconfig)}config=pb.config}else{var $this=o;var config=$.extend({},defaults,argconfig);config.id=$this.attr("id")?$this.attr("id"):Math.ceil(Math.random()*100000);if(argvalue==null){argvalue=$this.html().replace("%","")}config.value=parseInt(argvalue);config.running_value=0;config.image=getBarImage(config);var numeric=["steps","stepDuration","max","width","height","running_value","value"];for(var i=0;i<numeric.length;i++){config[numeric[i]]=parseInt(config[numeric[i]])}$this.html("");var bar=document.createElement("img");var text=document.createElement("span");var $bar=$(bar);var $text=$(text);pb.bar=$bar;$bar.attr("id",config.id+"_pbImage");$text.attr("id",config.id+"_pbText");$text.html(getText(config));$bar.attr("title",getText(config));$bar.attr("alt",getText(config));$bar.attr("src",config.boxImage);$bar.attr("width",config.width);$bar.css("width",config.width+"px");$bar.css("height",config.height+"px");$bar.css("background-image","url("+config.image+")");$bar.css("background-position",((config.width*-1))+"px 50%");$bar.css("padding","0");$bar.css("margin","0");$this.append($bar);$this.append($text)}function getPercentage(config){return config.running_value*100/config.max}function getBarImage(config){var image=config.barImage;if(typeof(config.barImage)=="object"){for(var i in config.barImage){if(config.running_value>=parseInt(i)){image=config.barImage[i]}else{break}}}return image}function getText(config){if(config.showText){if(config.textFormat=="percentage"){return" "+Math.round(config.running_value)+"%"}else{if(config.textFormat=="fraction"){return" "+config.running_value+"/"+config.max}}}}config.increment=Math.round((config.value-config.running_value)/config.steps);if(config.increment<0){config.increment*=-1}if(config.increment<1){config.increment=1}var t=setInterval(function(){var pixels=config.width/100;if(config.running_value>config.value){if(config.running_value-config.increment<config.value){config.running_value=config.value}else{config.running_value-=config.increment}}else{if(config.running_value<config.value){if(config.running_value+config.increment>config.value){config.running_value=config.value}else{config.running_value+=config.increment}}}if(config.running_value==config.value){clearInterval(t)}var $bar=$("#"+config.id+"_pbImage");var $text=$("#"+config.id+"_pbText");var image=getBarImage(config);if(image!=config.image){$bar.css("background-image","url("+image+")");config.image=image}$bar.css("background-position",(((config.width*-1))+(getPercentage(config)*pixels))+"px 50%");$bar.attr("title",getText(config));$text.html(getText(config));if(config.callback!=null&&typeof(config.callback)=="function"){config.callback(config)}pb.config=config},config.stepDuration)}};$(function(){$("*[data-role='ued-progressbar']").UED_progressBar()})})(jQuery);if(window.jQuery){(function($){if($.browser.msie){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}$.fn.rating=function(options){if(this.length==0){return this}if(typeof arguments[0]=="string"){if(this.length>1){var args=arguments;return this.each(function(){$.fn.rating.apply($(this),args)})}$.fn.rating[arguments[0]].apply(this,$.makeArray(arguments).slice(1)||[]);return this}var options=$.extend(true,{},$.fn.rating.options,options);$.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var control,input=$(this);var eid=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var context=$(this.form||document.body);var raters=context.data("rating");if(!raters||raters.call!=$.fn.rating.calls){raters={count:0,call:$.fn.rating.calls}}var rater=raters[eid];if(rater){control=rater.data("rating")}if(rater&&control){control.count++}else{control=$.extend({},options||{},($.metadata?input.metadata():($.meta?input.data():null))||{},{count:0,stars:[],inputs:[]});control.serial=raters.count++;rater=$('<span class="star-rating-control"/>');input.before(rater);rater.addClass("rating-to-be-drawn");if(input.attr("disabled")||input.hasClass("disabled")){control.readOnly=true}if(input.hasClass("required")){control.required=true}rater.append(control.cancel=$('<div class="rating-cancel"><a title="'+control.cancel+'">'+control.cancelValue+"</a></div>").mouseover(function(){$(this).rating("drain");$(this).addClass("star-rating-hover")}).mouseout(function(){$(this).rating("draw");$(this).removeClass("star-rating-hover")}).click(function(){$(this).rating("select")}).data("rating",control))}var star=$('<div class="star-rating rater-'+control.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");rater.append(star);if(this.id){star.attr("id",this.id)}if(this.className){star.addClass(this.className)}if(control.half){control.split=2}if(typeof control.split=="number"&&control.split>0){var stw=($.fn.width?star.width():0)||control.starWidth;var spi=(control.count%control.split),spw=Math.floor(stw/control.split);star.width(spw).find("a").css({"margin-left":"-"+(spi*spw)+"px"})}if(control.readOnly||!control.enable){star.addClass("star-rating-readonly")}else{star.addClass("star-rating-live").mouseover(function(){$(this).rating("fill");$(this).rating("focus")}).mouseout(function(){$(this).rating("draw");$(this).rating("blur")}).click(function(){$(this).rating("select")})}$(this).rating("enable",control.enable);if(this.checked){control.current=star}if(this.nodeName=="A"){if($(this).hasClass("selected")){control.current=star}}input.hide();input.change(function(){$(this).rating("select")});star.data("rating.input",input.data("rating.star",star));control.stars[control.stars.length]=star[0];control.inputs[control.inputs.length]=input[0];control.rater=raters[eid]=rater;control.context=context;input.data("rating",control);rater.data("rating",control);star.data("rating",control);context.data("rating",raters)});$(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};$.extend($.fn.rating,{calls:0,focus:function(){var control=this.data("rating");if(!control){return this}if(!control.focus){return this}var input=$(this).data("rating.input")||$(this.tagName=="INPUT"?this:null);if(control.focus){control.focus.apply(input[0],[input.val(),$("a",input.data("rating.star"))[0]])}},blur:function(){var control=this.data("rating");if(!control){return this}if(!control.blur){return this}var input=$(this).data("rating.input")||$(this.tagName=="INPUT"?this:null);if(control.blur){control.blur.apply(input[0],[input.val(),$("a",input.data("rating.star"))[0]])}},fill:function(){var control=this.data("rating");if(!control){return this}if(control.readOnly){return}this.rating("drain");this.prevAll().andSelf().filter(".rater-"+control.serial).addClass("star-rating-hover")},drain:function(){var control=this.data("rating");if(!control){return this}if(control.readOnly||!control.enable){return}control.rater.children().filter(".rater-"+control.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var control=this.data("rating");if(!control){return this}this.rating("drain");if(control.current){control.current.data("rating.input").attr("checked","checked");control.current.prevAll().andSelf().filter(".rater-"+control.serial).addClass("star-rating-on")}else{$(control.inputs).removeAttr("checked")}control.cancel[control.readOnly||control.required||!control.enable?"hide":"show"]();this.siblings()[control.readOnly||!control.enable?"addClass":"removeClass"]("star-rating-readonly")},select:function(value,wantCallBack){var control=this.data("rating");if(!control){return this}if(control.readOnly){return}control.current=null;if(typeof value!="undefined"){if(typeof value=="number"){return $(control.stars[value]).rating("select",undefined,wantCallBack)}if(typeof value=="string"){$.each(control.stars,function(){if($(this).data("rating.input").val()==value){$(this).rating("select",undefined,wantCallBack)}})}}else{control.current=this[0].tagName=="INPUT"?this.data("rating.star"):(this.is(".rater-"+control.serial)?this:null)}this.data("rating",control);this.rating("draw");var input=$(control.current?control.current.data("rating.input"):null);if((wantCallBack||wantCallBack==undefined)&&control.callback){control.callback.apply(input[0],[input.val(),$("a",control.current)[0]])}},readOnly:function(toggle,disable){var control=this.data("rating");if(!control){return this}control.readOnly=toggle||toggle==undefined?true:false;if(disable){$(control.inputs).attr("disabled","disabled")}else{$(control.inputs).removeAttr("disabled")}this.data("rating",control);this.rating("draw")},enable:function(value){if(value){this.rating("readOnly",false,false)}else{this.rating("readOnly",true,true)}}});$.fn.rating.options={cancel:"\u91CD\u7F6E\u8BC4\u5206",cancelValue:"",split:0,starWidth:16,required:false,enable:true};$.fn.UED_rating=function(){function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _this=$(n),_rel=strToJson(_this.attr("data-rel"));_this.find("input[type=radio].star").rating(_rel)})};$(function(){$("*[data-role='ued-rating']").UED_rating()})})(jQuery)}(function($){$.fn.UED_scrollText=function(option){var defaults={anim:"seesaw",speed:600,interval:2000,per:1};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}var uedAnimate={init:function(o){var _animation=$(o).data("option").anim;switch(_animation){case"seesaw":uedAnimate.seesaw(o);break;case"fadeToggle":uedAnimate.fadeToggle(o);break;default:break}},seesaw:function(o){var _o=$(o).children("ul"),_oChild=_o.find("li"),_oLiH=_oChild.eq(0).outerHeight(true),_oChildL=_oChild.length,_option=$(o).data("option");$(o).css({height:_oLiH*_option.per+"px",marginTop:"0px"});var timer=setInterval(function(){_show()},_option.interval);_oChild.hover(function(){_o.stop();clearInterval(timer)},function(){timer=setInterval(function(){_show()},_option.interval)});function _show(){_o.animate({marginTop:-_oLiH*_option.per+"px"},_option.speed,function(){_o.css({marginTop:"0px"}).find("li:lt("+_option.per+")").appendTo(_o)})}},fadeToggle:function(o){var _o=$(o).children("ul"),_oChild=_o.find("li"),_oLiH=_oChild.eq(0).outerHeight(true),_oChildL=_oChild.length,_option=$(o).data("option");$(o).css({height:_oLiH*_option.per+"px"});_oChild.hide();var timer=setInterval(function(){_show()},_option.interval);_oChild.hover(function(){_o.stop();clearInterval(timer)},function(){timer=setInterval(function(){_show()},_option.interval)});function _show(){_o.find("li:lt("+_option.per+")").appendTo(_o).fadeIn(_option.speed).siblings("li").fadeOut()}}};return this.each(function(i,n){var _o=$(n).children("ul"),_rel=strToJson($(n).attr("data-rel"));$(n).data("option",$.extend(true,{},defaults,option,_rel));uedAnimate.init(n)})};$(function(){$("*[data-role='ued-scrollText']").UED_scrollText()})})(jQuery);(function($){$.fn.UED_tableInterlace=function(option){var defaults={oddClass:"ued-tr-odd",evenClass:"ued-tr-even",trHover:"ued-tr-hover",trClick:function(){}};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _tbody=$(n).children("tbody").length>0?$(n).children("tbody"):$(n),_tr=_tbody.children("tr"),_rel=strToJson($(n).attr("data-rel"));option=$.extend(true,{},defaults,option,_rel);for(var i=0;i<_tr.length;i++){var _class;if(i%2==0){_class=option.evenClass}else{_class=option.oddClass}_tr.eq(i).addClass(_class)}_tr.hover(function(){$(this).addClass(option.trHover)},function(){$(this).removeClass(option.trHover)}).click(option.trClick)})};$(function(){$("*[data-role='ued-tableInterlace']").UED_tableInterlace()})})(jQuery);(function($){$.fn.UED_tabs=function(option){var defaults={activeClass:"active",activeIndex:0,trigger:"click"};function _setActive(o){var _o=$(o),_targetConId=_o.children("a").attr("href");var oDiv=_o.parent("ul").parent("div.title-bg").next("div.tab-content");if(_targetConId==="#"||_targetConId==="javascript:;"||_targetConId==="javascript:void(0);"){_o.addClass(option.activeClass).siblings("li").removeClass(option.activeClass);var i=_o.index();oDiv.find("div.tab-pane").eq(i).addClass(option.activeClass).siblings(".tab-pane").removeClass(option.activeClass)}else{if(oDiv.find($(_targetConId)).length==1){_o.addClass(option.activeClass).siblings("li").removeClass(option.activeClass);$(_targetConId).addClass(option.activeClass).siblings(".tab-pane").removeClass(option.activeClass)}else{if(oDiv.find($(_targetConId)).length==0){if(_o.children("a").attr("target")){}else{_o.addClass(option.activeClass).siblings("li").removeClass(option.activeClass);var i=_o.index();oDiv.find("div.tab-pane").eq(i).addClass(option.activeClass).siblings(".tab-pane").removeClass(option.activeClass);var reg=/^#\w{1,}$/g;if(reg.test(_targetConId)){}else{$.ajax({url:_targetConId,type:"GET",dataType:"html",success:function(html){oDiv.find("div.tab-pane").eq(i).empty().append(html)},beforeSend:function(){oDiv.find("div.tab-pane").eq(i).empty().append("正在加载中...")},error:function(){oDiv.find("div.tab-pane").eq(i).empty().append("加载失败，请检查请求链接，或者稍后重试!")}})}}}else{alert("页面中id为"+_targetConId+"的div存在"+oDiv.find($(_targetConId)).length+"个，页面中id是唯一的，请检查后重新配置！")}}}}function _init(_ul,_li){if(_li.hasClass(option.activeClass)){_setActive(_ul.find("li."+option.activeClass+":first"))}else{if(option.activeIndex>=0){_setActive(_li.eq(option.activeIndex))}}}function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _ul=$(n).children("div.title-bg").children("ul:first"),_li=_ul.children("li"),_rel=strToJson($(n).attr("data-rel"));option=$.extend(true,{},defaults,option,_rel);_init(_ul,_li);_li.bind(option.trigger?option.trigger:option.trigger,function(e){_setActive($(this));if($(this).children("a").attr("target")==undefined){e.preventDefault()}})})};$(function(){$("*[data-role='ued-tabs']").UED_tabs()})})(jQuery);(function($){$.fn.UED_wordCount=function(option){var defaults={maxLength:140,prompt1:"\u8FD8\u53EF\u4EE5\u8F93\u5165",prompt2:"\u8D85\u51FA",symbol:""};function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _Ele=$(n),_value="",_surplus=0,_rel=strToJson(_Ele.attr("data-rel"));option=$.extend(true,{},defaults,option,_rel);var _tipEle=$(option.symbol);_Ele.keyup(function(){_value=$(this).val();_surplus=option.maxLength-_value.length;var prompt=(_surplus>=0?option.prompt1+_surplus:option.prompt2+Math.abs(_surplus))+"\u5B57";if(_tipEle.length){_tipEle.text(prompt)}})})};$(function(){$("*[data-role='ued-wordCount']").UED_wordCount()})})(jQuery);(function(){function av(p,n){var r;p||(p={});for(r in n){p[r]=n[r]}return p}function ap(){var p,n=arguments.length,s={},r=function(u,t){var w,v;typeof u!=="object"&&(u={});for(v in t){t.hasOwnProperty(v)&&(w=t[v],u[v]=w&&typeof w==="object"&&Object.prototype.toString.call(w)!=="[object Array]"&&typeof w.nodeType!=="number"?r(u[v]||{},w):t[v])}return u};for(p=0;p<n;p++){s=r(s,arguments[p])}return s}function bm(p,n){return parseInt(p,n||10)}function g(n){return typeof n==="string"}function aU(n){return typeof n==="object"}function bD(n){return Object.prototype.toString.call(n)==="[object Array]"}function m(n){return typeof n==="number"}function bh(n){return aW.log(n)/aW.LN10}function bQ(n){return aW.pow(10,n)}function by(p,n){for(var r=p.length;r--;){if(p[r]===n){p.splice(r,1);break}}}function au(n){return n!==ar&&n!==null}function aq(p,n,t){var s,r;if(g(n)){au(t)?p.setAttribute(n,t):p&&p.getAttribute&&(r=p.getAttribute(n))}else{if(au(n)&&aU(n)){for(s in n){p.setAttribute(s,n[s])}}}return r}function aD(n){return bD(n)?n:[n]}function ax(){var p=arguments,n,s,r=p.length;for(n=0;n<r;n++){if(s=p[n],typeof s!=="undefined"&&s!==null){return s}}}function a4(p,n){if(bX&&n&&n.opacity!==ar){n.filter="alpha(opacity="+n.opacity*100+")"}av(p.style,n)}function aT(p,n,t,s,r){p=am.createElement(p);n&&av(p,n);r&&a4(p,{padding:0,border:aV,margin:0});t&&a4(p,t);s&&s.appendChild(p);return p}function a9(p,n){var r=function(){};r.prototype=new p;av(r.prototype,n);return r}function bs(p,n,v,u){var t=a3.lang,p=+p||0,s=n===-1?(p.toString().split(".")[1]||"").length:isNaN(n=a1(n))?2:n,n=v===void 0?t.decimalPoint:v,u=u===void 0?t.thousandsSep:u,t=p<0?"-":"",v=String(bm(p=a1(p).toFixed(s))),r=v.length>3?v.length%3:0;return t+(r?v.substr(0,r)+u:"")+v.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+u)+(s?n+a1(p-v).toFixed(s).slice(2):"")}function bR(p,n){return Array((n||2)+1-String(p).length).join(0)+p}function bx(p,n,s){var r=p[n];p[n]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(r);return s.apply(this,t)}}function bz(z,x){for(var w="{",v=!1,u,t,s,r,p,n=[];(w=z.indexOf(w))!==-1;){u=z.slice(0,w);if(v){t=u.split(":");s=t.shift().split(".");p=s.length;u=x;for(r=0;r<p;r++){u=u[s[r]]}if(t.length){t=t.join(":"),s=/\.([0-9])/,r=a3.lang,p=void 0,/f$/.test(t)?(p=(p=t.match(s))?p[1]:-1,u=bs(u,p,r.decimalPoint,t.indexOf(",")>-1?r.thousandsSep:"")):u=G(t,u)}}n.push(u);z=z.slice(w+1);w=(v=!v)?"}":"{"}n.push(z);return n.join("")}function bS(n){return aW.pow(10,aZ(aW.log(n)/aW.LN10))}function bA(p,n,t,s){var r,t=ax(t,1);r=p/t;n||(n=[1,2,2.5,5,10],s&&s.allowDecimals===!1&&(t===1?n=[1,2,5,10]:t<=0.1&&(n=[1/t])));for(s=0;s<n.length;s++){if(p=n[s],r<=(n[s]+(n[s+1]||n[s]))/2){break}}p*=t;return p}function a8(p,n){var v=n||[[aC,[1,2,5,10,20,25,50,100,200,500]],[bf,[1,2,5,10,15,30]],[e,[1,2,5,10,15,30]],[al,[1,2,3,4,6,8,12]],[bG,[1,2]],[bN,[1,2]],[E,[1,2,3,4,6]],[bo,null]],u=v[v.length-1],t=bd[u[0]],s=u[1],r;for(r=0;r<v.length;r++){if(u=v[r],t=bd[u[0]],s=u[1],v[r+1]&&p<=(t*s[s.length-1]+bd[v[r+1][0]])/2){break}}t===bd[bo]&&p<5*t&&(s=[1,2,5]);t===bd[bo]&&p<5*t&&(s=[1,2,5]);v=bA(p/t,s,u[0]===bo?bS(p/t):1);return{unitRange:t,count:v,unitName:u[0]}}function V(F,D,C,A){var z=[],x={},w=a3.global.useUTC,v,u=new Date(D),t=F.unitRange,s=F.count;if(au(D)){t>=bd[bf]&&(u.setMilliseconds(0),u.setSeconds(t>=bd[e]?0:s*aZ(u.getSeconds()/s)));if(t>=bd[e]){u[h](t>=bd[al]?0:s*aZ(u[aF]()/s))}if(t>=bd[al]){u[bT](t>=bd[bG]?0:s*aZ(u[ae]()/s))}if(t>=bd[bG]){u[k](t>=bd[E]?1:s*aZ(u[d]()/s))}t>=bd[E]&&(u[bC](t>=bd[bo]?0:s*aZ(u[bk]()/s)),v=u[bu]());t>=bd[bo]&&(v-=v%s,u[bg](v));if(t===bd[bN]){u[k](u[d]()-u[bV]()+ax(A,1))}D=1;v=u[bu]();for(var A=u.getTime(),r=u[bk](),p=u[d](),n=w?0:(86400000+u.getTimezoneOffset()*60000)%86400000;A<C;){z.push(A),t===bd[bo]?A=aY(v+D*s,0):t===bd[E]?A=aY(v,r+D*s):!w&&(t===bd[bG]||t===bd[bN])?A=aY(v,r,p+D*s*(t===bd[bG]?1:7)):A+=t*s,D++}z.push(A);az(bF(z,function(H){return t<=bd[al]&&H%bd[bG]===n}),function(H){x[H]=bG})}z.info=av(F,{higherRanks:x,totalRange:t*s});return z}function aH(){this.symbol=this.color=0}function ag(p,n){var t=p.length,s,r;for(r=0;r<t;r++){p[r].ss_i=r}p.sort(function(u,v){s=n(u,v);return s===0?u.ss_i-v.ss_i:s});for(r=0;r<t;r++){delete p[r].ss_i}}function bj(p){for(var n=p.length,r=p[0];n--;){p[n]<r&&(r=p[n])}return r}function aL(p){for(var n=p.length,r=p[0];n--;){p[n]>r&&(r=p[n])}return r}function aI(p,n){for(var r in p){p[r]&&p[r]!==n&&p[r].destroy&&p[r].destroy(),delete p[r]}}function bM(n){ay||(ay=aT(bc));n&&ay.appendChild(n);ay.innerHTML=""}function ac(p,n){var r="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(n){throw r}else{a2.console&&console.log(r)}}function i(n){return parseFloat(n.toPrecision(14))}function ah(p,n){aE=ax(p,n.animation)}function l(){var p=a3.global.useUTC,n=p?"getUTC":"get",r=p?"setUTC":"set";aY=p?Date.UTC:function(t,s,x,w,v,u){return(new Date(t,s,ax(x,1),ax(w,0),ax(v,0),ax(u,0))).getTime()};aF=n+"Minutes";ae=n+"Hours";bV=n+"Day";d=n+"Date";bk=n+"Month";bu=n+"FullYear";h=r+"Minutes";bT=r+"Hours";k=r+"Date";bC=r+"Month";bg=r+"FullYear"}function ak(){}function o(p,n,s,r){this.axis=p;this.pos=n;this.type=s||"";this.isNew=!0;!s&&!r&&this.addLabel()}function bn(p,n){this.axis=p;if(n){this.options=n,this.id=n.id}}function bW(p,n,v,u,t,s){var r=p.chart.inverted;this.axis=p;this.isNegative=v;this.options=n;this.x=u;this.total=null;this.points={};this.stack=t;this.percent=s==="percent";this.alignOptions={align:n.align||(r?v?"left":"right":"center"),verticalAlign:n.verticalAlign||(r?"middle":v?"bottom":"top"),y:ax(n.y,r?4:v?14:-6),x:ax(n.x,r?v?-6:6:0)};this.textAlign=n.textAlign||(r?v?"right":"left":"center")}function I(){this.init.apply(this,arguments)}function aJ(){this.init.apply(this,arguments)}function ai(p,n){this.init(p,n)}function q(p,n){this.init(p,n)}function a(){this.init.apply(this,arguments)}var ar,am=document,a2=window,aW=Math,at=aW.round,aZ=aW.floor,B=aW.ceil,aw=aW.max,bl=aW.min,a1=aW.abs,aS=aW.cos,aA=aW.sin,bY=aW.PI,bt=bY*2/360,ad=navigator.userAgent,bH=a2.opera,bX=/msie/i.test(ad)&&!bH,f=am.documentMode===8,bO=/AppleWebKit/.test(ad),bw=/Firefox/.test(ad),bp=/(Mobile|Android|Windows Phone)/.test(ad),c="http://www.w3.org/2000/svg",aO=!!am.createElementNS&&!!am.createElementNS(c,"svg").createSVGRect,br=bw&&parseInt(ad.split("Firefox/")[1],10)<4,bE=!aO&&!bX&&!!am.createElement("canvas").getContext,aQ,a6=am.documentElement.ontouchstart!==ar,aK={},bJ=0,ay,a3,G,aE,bq,bd,bL=function(){},j=[],bc="div",aV="none",aj="rgba(192,192,192,"+(aO?0.0001:0.002)+")",aC="millisecond",bf="second",e="minute",al="hour",bG="day",bN="week",E="month",bo="year",y="stroke-width",aY,aF,ae,bV,d,bk,bu,h,bT,k,bC,bg,bv={};a2.Highcharts=a2.Highcharts?ac(16,!0):{};G=function(C,A,z){if(!au(A)||isNaN(A)){return"Invalid date"}var C=ax(C,"%Y-%m-%d %H:%M:%S"),x=new Date(A),w,v=x[ae](),u=x[bV](),t=x[d](),s=x[bk](),r=x[bu](),p=a3.lang,n=p.weekdays,x=av({a:n[u].substr(0,3),A:n[u],d:bR(t),e:t,b:p.shortMonths[s],B:p.months[s],m:bR(s+1),y:r.toString().substr(2,2),Y:r,H:bR(v),I:bR(v%12||12),l:v%12||12,M:bR(x[aF]()),p:v<12?"AM":"PM",P:v<12?"am":"pm",S:bR(x.getSeconds()),L:bR(at(A%1000),3)},Highcharts.dateFormats);for(w in x){for(;C.indexOf("%"+w)!==-1;){C=C.replace("%"+w,typeof x[w]==="function"?x[w](A):x[w])}}return z?C.substr(0,1).toUpperCase()+C.substr(1):C};aH.prototype={wrapColor:function(n){if(this.color>=n){this.color=0}},wrapSymbol:function(n){if(this.symbol>=n){this.symbol=0}}};bd=function(){for(var p=0,n=arguments,s=n.length,r={};p<s;p++){r[n[p++]]=n[p]}return r}(aC,1,bf,1000,e,60000,al,3600000,bG,86400000,bN,604800000,E,2678400000,bo,31556952000);bq={init:function(z,x,w){var x=x||"",v=z.shift,u=x.indexOf("C")>-1,t=u?7:3,s,x=x.split(" "),w=[].concat(w),r,p,n=function(A){for(s=A.length;s--;){A[s]==="M"&&A.splice(s+1,0,A[s+1],A[s+2],A[s+1],A[s+2])}};u&&(n(x),n(w));z.isArea&&(r=x.splice(x.length-6,6),p=w.splice(w.length-6,6));if(v<=w.length/t){for(;v--;){w=[].concat(w).splice(0,t).concat(w)}}z.shift=0;if(x.length){for(z=w.length;x.length<z;){v=[].concat(x).splice(x.length-t,t),u&&(v[t-6]=v[t-2],v[t-5]=v[t-1]),x=x.concat(v)}}r&&(x=x.concat(r),w=w.concat(p));return[x,w]},step:function(p,n,u,t){var s=[],r=p.length;if(u===1){s=t}else{if(r===n.length&&u<1){for(;r--;){t=parseFloat(p[r]),s[r]=isNaN(t)?p[r]:u*parseFloat(n[r]-t)+t}}else{s=n}}return s}};(function(n){a2.HighchartsAdapter=a2.HighchartsAdapter||n&&{init:function(p){var v=n.fx,u=v.step,t,s=n.Tween,r=s&&s.propHooks;t=n.cssHooks.opacity;n.extend(n.easing,{easeOutQuad:function(x,w,C,A,z){return -A*(w/=z)*(w-2)+C}});n.each(["cur","_default","width","height","opacity"],function(z,w){var C=u,A,x;w==="cur"?C=v.prototype:w==="_default"&&s&&(C=r[w],w="set");(A=C[w])&&(C[w]=function(D){D=z?D:this;x=D.elem;return x.attr?x.attr(D.prop,w==="cur"?ar:D.now):A.apply(this,arguments)})});bx(t,"get",function(x,w,z){return w.attr?w.opacity||0:x.call(this,w,z)});t=function(w){var z=w.elem,x;if(!w.started){x=p.init(z,z.d,z.toD),w.start=x[0],w.end=x[1],w.started=!0}z.attr("d",p.step(w.start,w.end,w.pos,z.toD))};s?r.d={set:t}:u.d=t;this.each=Array.prototype.forEach?function(x,w){return Array.prototype.forEach.call(x,w)}:function(x,w){for(var A=0,z=x.length;A<z;A++){if(w.call(x[A],x[A],A,x)===!1){return A}}};n.fn.highcharts=function(){var x="Chart",w=arguments,A,z;g(w[0])&&(x=w[0],w=Array.prototype.slice.call(w,1));A=w[0];if(A!==ar){A.chart=A.chart||{},A.chart.renderTo=this[0],new Highcharts[x](A,w[1]),z=this}A===ar&&(z=j[aq(this[0],"data-highcharts-chart")]);return z}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(p,r){return n(p)[r]()},grep:n.grep,map:function(p,u){for(var t=[],s=0,r=p.length;s<r;s++){t[s]=u.call(p[s],p[s],s,p)}return t},offset:function(p){return n(p).offset()},addEvent:function(p,s,r){n(p).bind(s,r)},removeEvent:function(p,t,s){var r=am.removeEventListener?"removeEventListener":"detachEvent";am[r]&&p&&!p[r]&&(p[r]=function(){});n(p).unbind(t,s)},fireEvent:function(p,w,v,u){var t=n.Event(w),s="detached"+w,r;!bX&&v&&(delete v.layerX,delete v.layerY);av(t,v);p[w]&&(p[s]=p[w],p[w]=null);n.each(["preventDefault","stopPropagation"],function(z,x){var A=t[x];t[x]=function(){try{A.call(t)}catch(C){x==="preventDefault"&&(r=!0)}}});n(p).trigger(t);p[s]&&(p[w]=p[s],p[s]=null);u&&!t.isDefaultPrevented()&&!r&&u(t)},washMouseEvent:function(p){var r=p.originalEvent||p;if(r.pageX===ar){r.pageX=p.pageX,r.pageY=p.pageY}return r},animate:function(p,t,s){var r=n(p);if(!p.style){p.style={}}if(t.d){p.toD=t.d,t.d=1}r.stop();t.opacity!==ar&&p.attr&&(t.opacity+="px");r.animate(t,s)},stop:function(p){n(p).stop()}}})(a2.jQuery);var aR=a2.HighchartsAdapter,be=aR||{};aR&&aR.init.call(aR,bq);var aB=be.adapterRun,aN=be.getScript,aG=be.inArray,az=be.each,bF=be.grep,an=be.offset,bI=be.map,a7=be.addEvent,a0=be.removeEvent,a5=be.fireEvent,b=be.washMouseEvent,bP=be.animate,ao=be.stop,be={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};a3={colors:"#6c98f1,#6bc213,#8bbc21,#910000,#1aadce,#492970,#f28f43,#77a1e5,#c42525,#0d233a".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.5/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"12px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:ap(be,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":bs(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:aO,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:bp?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var aP=a3.plotOptions,aR=aP.line;l();var af=function(p){var n=[],s,r;(function(t){t&&t.stops?r=bI(t.stops,function(u){return af(u[1])}):(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?n=[bm(s[1]),bm(s[2]),bm(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?n=[bm(s[1],16),bm(s[2],16),bm(s[3],16),1]:(s=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))&&(n=[bm(s[1]),bm(s[2]),bm(s[3]),1])})(p);return{get:function(u){var t;r?(t=ap(p),t.stops=[].concat(t.stops),az(r,function(w,v){t.stops[v]=[t.stops[v][0],w.get(u)]})):t=n&&!isNaN(n[0])?u==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":u==="a"?n[3]:"rgba("+n.join(",")+")":p;return t},brighten:function(t){if(r){az(r,function(v){v.brighten(t)})}else{if(m(t)&&t!==0){var u;for(u=0;u<3;u++){n[u]+=bm(t*255),n[u]<0&&(n[u]=0),n[u]>255&&(n[u]=255)}}}return this},rgba:n,setOpacity:function(t){n[3]=t;return this}}};ak.prototype={init:function(p,n){this.element=n==="span"?aT(n):am.createElementNS(c,n);this.renderer=p;this.attrSetters={}},opacity:1,animate:function(p,n,r){n=ax(n,aE,!0);ao(this);if(n){n=ap(n);if(r){n.complete=r}bP(this,p,n)}else{this.attr(p),r&&r()}},attr:function(H,F){var D,C,A,z,x=this.element,w=x.nodeName.toLowerCase(),v=this.renderer,u,t=this.attrSetters,s=this.shadows,r,p,n=this;g(H)&&au(F)&&(D=H,H={},H[D]=F);if(g(H)){D=H,w==="circle"?D={x:"cx",y:"cy"}[D]||D:D==="strokeWidth"&&(D="stroke-width"),n=aq(x,D)||this[D]||0,D!=="d"&&D!=="visibility"&&(n=parseFloat(n))}else{for(D in H){if(u=!1,C=H[D],A=t[D]&&t[D].call(this,C,D),A!==!1){A!==ar&&(C=A);if(D==="d"){C&&C.join&&(C=C.join(" ")),/(NaN| {2}|^$)/.test(C)&&(C="M 0 0")}else{if(D==="x"&&w==="text"){for(A=0;A<x.childNodes.length;A++){z=x.childNodes[A],aq(z,"x")===aq(x,"x")&&aq(z,"x",C)}}else{if(this.rotation&&(D==="x"||D==="y")){p=!0}else{if(D==="fill"){C=v.color(C,x,D)}else{if(w==="circle"&&(D==="x"||D==="y")){D={x:"cx",y:"cy"}[D]||D}else{if(w==="rect"&&D==="r"){aq(x,{rx:C,ry:C}),u=!0}else{if(D==="translateX"||D==="translateY"||D==="rotation"||D==="verticalAlign"||D==="scaleX"||D==="scaleY"){u=p=!0}else{if(D==="stroke"){C=v.color(C,x,D)}else{if(D==="dashstyle"){if(D="stroke-dasharray",C=C&&C.toLowerCase(),C==="solid"){C=aV}else{if(C){C=C.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(A=C.length;A--;){C[A]=bm(C[A])*ax(H["stroke-width"],this["stroke-width"])}C=C.join(",")}}}else{if(D==="width"){C=bm(C)}else{if(D==="align"){D="text-anchor",C={left:"start",center:"middle",right:"end"}[C]}else{if(D==="title"){A=x.getElementsByTagName("title")[0],A||(A=am.createElementNS(c,"title"),x.appendChild(A)),A.textContent=C}}}}}}}}}}}}D==="strokeWidth"&&(D="stroke-width");if(D==="stroke-width"||D==="stroke"){this[D]=C;if(this.stroke&&this["stroke-width"]){aq(x,"stroke",this.stroke),aq(x,"stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(D==="stroke-width"&&C===0&&this.hasStroke){x.removeAttribute("stroke"),this.hasStroke=!1}}u=!0}this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(D)&&(r||(this.symbolAttr(H),r=!0),u=!0);if(s&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(D)){for(A=s.length;A--;){aq(s[A],D,D==="height"?aw(C-(s[A].cutHeight||0),0):C)}}if((D==="width"||D==="height")&&w==="rect"&&C<0){C=0}this[D]=C;D==="text"?(C!==this.textStr&&delete this.bBox,this.textStr=C,this.added&&v.buildText(this)):u||aq(x,D,C)}}p&&this.updateTransform()}return n},addClass:function(p){var n=this.element,r=aq(n,"class")||"";r.indexOf(p)===-1&&aq(n,"class",r+" "+p);return this},symbolAttr:function(p){var n=this;az("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(r){n[r]=ax(p[r],n[r])});n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":aV)},crisp:function(x,w,v,u,t){var s,r={},p={},n,x=x||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;n=at(x)%2/2;p.x=aZ(w||this.x||0)+n;p.y=aZ(v||this.y||0)+n;p.width=aZ((u||this.width||0)-2*n);p.height=aZ((t||this.height||0)-2*n);p.strokeWidth=x;for(s in p){this[s]!==p[s]&&(this[s]=r[s]=p[s])}return r},css:function(p){var n=this.element,u=p&&p.width&&n.nodeName.toLowerCase()==="text",t,s="",r=function(w,v){return"-"+v.toLowerCase()};if(p&&p.color){p.fill=p.color}this.styles=p=av(this.styles,p);bE&&u&&delete p.width;if(bX&&!aO){u&&delete p.width,a4(this.element,p)}else{for(t in p){s+=t.replace(/([A-Z])/g,r)+":"+p[t]+";"}aq(n,"style",s)}u&&this.added&&this.renderer.buildText(this);return this},on:function(p,n){var r=this.element;if(a6&&p==="click"){r.ontouchstart=function(s){s.preventDefault();n.call(r,s)}}r["on"+p]=n;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(p,n){return this.attr({translateX:p,translateY:n})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(p){var n=this.element;if(n=p&&n.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=n,this.updateTransform()}this.styles=av(this.styles,p);a4(this.element,p);return this},htmlGetBBox:function(){var p=this.element,n=this.bBox;if(!n){if(p.nodeName==="text"){p.style.position="absolute"}n=this.bBox={x:p.offsetLeft,y:p.offsetTop,width:p.offsetWidth,height:p.offsetHeight}}return n},htmlUpdateTransform:function(){if(this.added){var N=this.renderer,M=this.element,L=this.translateX||0,K=this.translateY||0,J=this.x||0,H=this.y||0,F=this.textAlign||"left",D={left:0,center:0.5,right:1}[F],C=F&&F!=="left",A=this.shadows;a4(M,{marginLeft:L,marginTop:K});A&&az(A,function(r){a4(r,{marginLeft:L+1,marginTop:K+1})});this.inverted&&az(M.childNodes,function(r){N.invertChild(r,M)});if(M.tagName==="SPAN"){var z,w,A=this.rotation,v;z=0;var u=1,t=0,x;v=bm(this.textWidth);var p=this.xCorr||0,n=this.yCorr||0,s=[A,F,M.innerHTML,this.textWidth].join(",");if(s!==this.cTT){au(A)&&(z=A*bt,u=aS(z),t=aA(z),this.setSpanRotation(A,t,u));z=ax(this.elemWidth,M.offsetWidth);w=ax(this.elemHeight,M.offsetHeight);if(z>v&&/[ \-]/.test(M.textContent||M.innerText)){a4(M,{width:v+"px",display:"block",whiteSpace:"normal"}),z=v}v=N.fontMetrics(M.style.fontSize).b;p=u<0&&-z;n=t<0&&-w;x=u*t<0;p+=t*v*(x?1-D:D);n-=u*v*(A?x?D:1-D:1);C&&(p-=z*D*(u<0?-1:1),A&&(n-=w*D*(t<0?-1:1)),a4(M,{textAlign:F}));this.xCorr=p;this.yCorr=n}a4(M,{left:J+p+"px",top:H+n+"px"});if(bO){w=M.offsetHeight}this.cTT=s}}else{this.alignOnAdd=!0}},setSpanRotation:function(p){var n={};n[bX?"-ms-transform":bO?"-webkit-transform":bw?"MozTransform":bH?"-o-transform":""]=n.transform="rotate("+p+"deg)";a4(this.element,n)},updateTransform:function(){var p=this.translateX||0,n=this.translateY||0,u=this.scaleX,t=this.scaleY,s=this.inverted,r=this.rotation;s&&(p+=this.attr("width"),n+=this.attr("height"));p=["translate("+p+","+n+")"];s?p.push("rotate(90) scale(-1,1)"):r&&p.push("rotate("+r+" "+(this.x||0)+" "+(this.y||0)+")");(au(u)||au(t))&&p.push("scale("+ax(u,1)+" "+ax(t,1)+")");p.length&&aq(this.element,"transform",p.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(p,n,w){var v,u,t,s,r={};u=this.renderer;t=u.alignedObjects;if(p){if(this.alignOptions=p,this.alignByTranslate=n,!w||g(w)){this.alignTo=v=w||"renderer",by(t,this),t.push(this),w=null}}else{p=this.alignOptions,n=this.alignByTranslate,v=this.alignTo}w=ax(w,u[v],u);v=p.align;u=p.verticalAlign;t=(w.x||0)+(p.x||0);s=(w.y||0)+(p.y||0);if(v==="right"||v==="center"){t+=(w.width-(p.width||0))/{right:1,center:2}[v]}r[n?"translateX":"x"]=at(t);if(u==="bottom"||u==="middle"){s+=(w.height-(p.height||0))/({bottom:1,middle:2}[u]||1)}r[n?"translateY":"y"]=at(s);this[this.placed?"animate":"attr"](r);this.placed=!0;this.alignAttr=r;return this},getBBox:function(){var p=this.bBox,n=this.renderer,v,u=this.rotation;v=this.element;var t=this.styles,s=u*bt;if(!p){if(v.namespaceURI===c||n.forExport){try{p=v.getBBox?av({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight}}catch(r){}if(!p||p.width<0){p={width:0,height:0}}}else{p=this.htmlGetBBox()}if(n.isSVG){n=p.width;v=p.height;if(bX&&t&&t.fontSize==="11px"&&v.toPrecision(3)==="22.7"){p.height=v=14}if(u){p.width=a1(v*aA(s))+a1(n*aS(s)),p.height=a1(v*aS(s))+a1(n*aA(s))}}this.bBox=p}return p},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(p){var n=this;n.animate({opacity:0},{duration:p||150,complete:function(){n.hide()}})},add:function(p){var n=this.renderer,w=p||n,v=w.element||n.box,u=v.childNodes,t=this.element,s=aq(t,"zIndex"),r;if(p){this.parentGroup=p}this.parentInverted=p&&p.inverted;this.textStr!==void 0&&n.buildText(this);if(s){w.handleZ=!0,s=bm(s)}if(w.handleZ){for(w=0;w<u.length;w++){if(p=u[w],n=aq(p,"zIndex"),p!==t&&(bm(n)>s||!au(s)&&au(n))){v.insertBefore(t,p);r=!0;break}}}r||v.appendChild(t);this.added=!0;a5(this,"add");return this},safeRemoveChild:function(p){var n=p.parentNode;n&&n.removeChild(p)},destroy:function(){var p=this,n=p.element||{},u=p.shadows,t=p.renderer.isSVG&&n.nodeName==="SPAN"&&n.parentNode,s,r;n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null;ao(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(r=0;r<p.stops.length;r++){p.stops[r]=p.stops[r].destroy()}p.stops=null}p.safeRemoveChild(n);for(u&&az(u,function(v){p.safeRemoveChild(v)});t&&t.childNodes.length===0;){n=t.parentNode,p.safeRemoveChild(t),t=n}p.alignTo&&by(p.renderer.alignedObjects,p);for(s in p){delete p[s]}return null},shadow:function(A,z,x){var w=[],v,u,t=this.element,s,r,p,n;if(A){r=ax(A.width,3);p=(A.opacity||0.15)/r;n=this.parentInverted?"(-1,-1)":"("+ax(A.offsetX,1)+", "+ax(A.offsetY,1)+")";for(v=1;v<=r;v++){u=t.cloneNode(0);s=r*2+1-2*v;aq(u,{isShadow:"true",stroke:A.color||"black","stroke-opacity":p*v,"stroke-width":s,transform:"translate"+n,fill:aV});if(x){aq(u,"height",aw(aq(u,"height")-s,0)),u.cutHeight=s}z?z.element.appendChild(u):t.parentNode.insertBefore(u,t);w.push(u)}this.shadows=w}return this}};var bU=function(){this.init.apply(this,arguments)};bU.prototype={Element:ak,init:function(p,n,w,v){var u=location,t,s;t=this.createElement("svg").attr({version:"1.1"});s=t.element;p.appendChild(s);p.innerHTML.indexOf("xmlns")===-1&&aq(s,"xmlns",c);this.isSVG=!0;this.box=s;this.boxWrapper=t;this.alignedObjects=[];this.url=(bw||bO)&&am.getElementsByTagName("base").length?u.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(am.createTextNode("Created with Highcharts 3.0.5"));this.defs=this.createElement("defs").add();this.forExport=v;this.gradients={};this.setSize(n,w,!1);var r;if(bw&&p.getBoundingClientRect){this.subPixelFix=n=function(){a4(p,{left:0,top:0});r=p.getBoundingClientRect();a4(p,{left:B(r.left)-r.left+"px",top:B(r.top)-r.top+"px"})},n(),a7(a2,"resize",n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();aI(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&a0(a2,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(p){var n=new this.Element;n.init(this,p);return n},draw:function(){},buildText:function(D){for(var C=D.element,A=this,z=A.forExport,x=ax(D.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),w=C.childNodes,v=/style="([^"]+)"/,u=/href="(http[^"]+)"/,t=aq(C,"x"),s=D.styles,r=s&&s.width&&bm(s.width),p=s&&s.lineHeight,n=w.length;n--;){C.removeChild(w[n])}r&&!D.added&&this.box.appendChild(C);x[x.length-1]===""&&x.pop();az(x,function(K,H){var F,J=0,K=K.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");F=K.split("|||");az(F,function(O){if(O!==""||F.length===1){var P={},Q=am.createElementNS(c,"tspan"),N;v.test(O)&&(N=O.match(v)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),aq(Q,"style",N));u.test(O)&&!z&&(aq(Q,"onclick",'location.href="'+O.match(u)[1]+'"'),a4(Q,{cursor:"pointer"}));O=(O.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(O!==" "&&(Q.appendChild(am.createTextNode(O)),J?P.dx=0:P.x=t,aq(Q,P),!J&&H&&(!aO&&z&&a4(Q,{display:"block"}),aq(Q,"dy",p||A.fontMetrics(/px$/.test(Q.style.fontSize)?Q.style.fontSize:s.fontSize).h,bO&&Q.offsetHeight)),C.appendChild(Q),J++,r)){for(var O=O.replace(/([^\^])-/g,"$1- ").split(" "),M,L=[];O.length||L.length;){delete D.bBox,M=D.getBBox().width,P=M>r,!P||O.length===1?(O=L,L=[],O.length&&(Q=am.createElementNS(c,"tspan"),aq(Q,{dy:p||16,x:t}),N&&aq(Q,"style",N),C.appendChild(Q),M>r&&(r=M))):(Q.removeChild(Q.firstChild),L.unshift(O.pop())),O.length&&Q.appendChild(am.createTextNode(O.join(" ").replace(/- /g,"-")))}}}})})},button:function(K,J,H,F,D,C,A,z){var x=this.label(K,J,H,null,null,null,null,null,"button"),w=0,v,u,t,r,p,s,K={x1:0,y1:0,x2:0,y2:1},D=ap({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:K,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},D);t=D.style;delete D.style;C=ap(D,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#FFF"],[1,"#ACF"]]}},C);r=C.style;delete C.style;A=ap(D,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#9BD"],[1,"#CDF"]]}},A);p=A.style;delete A.style;z=ap(D,{style:{color:"#CCC"}},z);s=z.style;delete z.style;a7(x.element,bX?"mouseover":"mouseenter",function(){w!==3&&x.attr(C).css(r)});a7(x.element,bX?"mouseout":"mouseleave",function(){w!==3&&(v=[D,C,A][w],u=[t,r,p][w],x.attr(v).css(u))});x.setState=function(n){(x.state=w=n)?n===2?x.attr(A).css(p):n===3&&x.attr(z).css(s):x.attr(D).css(t)};return x.on("click",function(){w!==3&&F.call(x)}).attr(D).css(av({cursor:"default"},t))},crispLine:function(p,n){p[1]===p[4]&&(p[1]=p[4]=at(p[1])-n%2/2);p[2]===p[5]&&(p[2]=p[5]=at(p[2])+n%2/2);return p},path:function(p){var n={fill:aV};bD(p)?n.d=p:aU(p)&&av(n,p);return this.createElement("path").attr(n)},circle:function(p,n,r){p=aU(p)?p:{x:p,y:n,r:r};return this.createElement("circle").attr(p)},arc:function(p,n,u,t,s,r){if(aU(p)){n=p.y,u=p.r,t=p.innerR,s=p.start,r=p.end,p=p.x}p=this.symbol("arc",p||0,n||0,u||0,u||0,{innerR:t||0,start:s||0,end:r||0});p.r=u;return p},rect:function(p,n,u,t,s,r){s=aU(p)?p.r:s;s=this.createElement("rect").attr({rx:s,ry:s,fill:aV});return s.attr(aU(p)?p:s.crisp(r,p,n,aw(u,0),aw(t,0)))},setSize:function(p,n,t){var s=this.alignedObjects,r=s.length;this.width=p;this.height=n;for(this.boxWrapper[ax(t,!0)?"animate":"attr"]({width:p,height:n});r--;){s[r].align()}},g:function(p){var n=this.createElement("g");return au(p)?n.attr({"class":"highcharts-"+p}):n},image:function(p,n,u,t,s){var r={preserveAspectRatio:aV};arguments.length>1&&av(r,{x:n,y:u,width:t,height:s});r=this.createElement("image").attr(r);r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):r.element.setAttribute("hc-svg-href",p);return r},symbol:function(A,z,x,w,v,u){var t,s=this.symbols[A],s=s&&s(at(z),at(x),w,v,u),r=/^url\((.*?)\)$/,p,n;if(s){t=this.path(s),av(t,{symbolName:A,x:z,y:x,width:w,height:v}),u&&av(t,u)}else{if(r.test(A)){n=function(D,C){D.element&&(D.attr({width:C[0],height:C[1]}),D.alignByTranslate||D.translate(at((w-C[0])/2),at((v-C[1])/2)))},p=A.match(r)[1],A=aK[p],t=this.image(p).attr({x:z,y:x}),t.isImg=!0,A?n(t,A):(t.attr({width:0,height:0}),aT("img",{onload:function(){n(t,aK[p]=[this.width,this.height])},src:p}))}}return t},symbols:{circle:function(p,n,t,s){var r=0.166*t;return["M",p+t/2,n,"C",p+t+r,n,p+t+r,n+s,p+t/2,n+s,"C",p-r,n+s,p-r,n,p+t/2,n,"Z"]},square:function(p,n,s,r){return["M",p,n,"L",p+s,n,p+s,n+r,p,n+r,"Z"]},triangle:function(p,n,s,r){return["M",p+s/2,n,"L",p+s,n+r,p,n+r,"Z"]},"triangle-down":function(p,n,s,r){return["M",p,n,"L",p+s,n,p+s/2,n+r,"Z"]},diamond:function(p,n,s,r){return["M",p+s/2,n,"L",p+s,n+r/2,p+s/2,n+r,p,n+r/2,"Z"]},arc:function(A,z,x,w,v){var u=v.start,x=v.r||x||w,t=v.end-0.001,w=v.innerR,s=v.open,r=aS(u),p=aA(u),n=aS(t),t=aA(t),v=v.end-u<bY?0:1;return["M",A+x*r,z+x*p,"A",x,x,0,v,1,A+x*n,z+x*t,s?"M":"L",A+w*n,z+w*t,"A",w,w,0,v,0,A+w*r,z+w*p,s?"":"Z"]}},clipRect:function(p,n,u,t){var s="highcharts-"+bJ++,r=this.createElement("clipPath").attr({id:s}).add(this.defs),p=this.rect(p,n,u,t,0).add(r);p.id=s;p.clipPath=r;return p},color:function(F,D,C){var A=this,z,x=/^rgba/,w,v,u,t,s,r,p,n=[];F&&F.linearGradient?w="linearGradient":F&&F.radialGradient&&(w="radialGradient");if(w){C=F[w];v=A.gradients;t=F.stops;D=D.radialReference;bD(C)&&(F[w]=C={x1:C[0],y1:C[1],x2:C[2],y2:C[3],gradientUnits:"userSpaceOnUse"});w==="radialGradient"&&D&&!au(C.gradientUnits)&&(C=ap(C,{cx:D[0]-D[2]/2+C.cx*D[2],cy:D[1]-D[2]/2+C.cy*D[2],r:C.r*D[2],gradientUnits:"userSpaceOnUse"}));for(p in C){p!=="id"&&n.push(p,C[p])}for(p in t){n.push(t[p])}n=n.join(",");v[n]?F=v[n].id:(C.id=F="highcharts-"+bJ++,v[n]=u=A.createElement(w).attr(C).add(A.defs),u.stops=[],az(t,function(H){x.test(H[1])?(z=af(H[1]),s=z.get("rgb"),r=z.get("a")):(s=H[1],r=1);H=A.createElement("stop").attr({offset:H[0],"stop-color":s,"stop-opacity":r}).add(u);u.stops.push(H)}));return"url("+A.url+"#"+F+")"}else{return x.test(F)?(z=af(F),aq(D,C+"-opacity",z.get("a")),z.get("rgb")):(D.removeAttribute(C+"-opacity"),F)}},text:function(p,n,u,t){var s=a3.chart.style,r=bE||!aO&&this.forExport;if(t&&!this.forExport){return this.html(p,n,u)}n=at(ax(n,0));u=at(ax(u,0));p=this.createElement("text").attr({x:n,y:u,text:p}).css({fontFamily:s.fontFamily,fontSize:s.fontSize});r&&p.css({position:"absolute"});p.x=n;p.y=u;return p},html:function(p,n,w){var v=a3.chart.style,u=this.createElement("span"),t=u.attrSetters,s=u.element,r=u.renderer;t.text=function(x){x!==s.innerHTML&&delete this.bBox;s.innerHTML=x;return !1};t.x=t.y=t.align=function(z,x){x==="align"&&(x="textAlign");u[x]=z;u.htmlUpdateTransform();return !1};u.attr({text:p,x:at(n),y:at(w)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:v.fontFamily,fontSize:v.fontSize});u.css=u.htmlCss;if(r.isSVG){u.add=function(z){var x,C=r.box.parentNode,A=[];if(z){if(x=z.div,!x){for(;z;){A.push(z),z=z.parentGroup}az(A.reverse(),function(D){var F;x=D.div=D.div||aT(bc,{className:aq(D.element,"class")},{position:"absolute",left:(D.translateX||0)+"px",top:(D.translateY||0)+"px"},x||C);F=x.style;av(D.attrSetters,{translateX:function(H){F.left=H+"px"},translateY:function(H){F.top=H+"px"},visibility:function(J,H){F[H]=J}})})}}else{x=C}x.appendChild(s);u.added=!0;u.alignOnAdd&&u.htmlUpdateTransform();return u}}return u},fontMetrics:function(p){var p=bm(p||11),p=p<24?p+4:at(p*1.2),n=at(p*0.8);return{h:p,b:n}},label:function(ab,aa,Z,Y,X,W,T,S,R){function Q(){var r,p;r=L.element.style;n=(U===void 0||D===void 0||J.styles.textAlign)&&L.getBBox();J.width=(U||n.width||0)+2*ba+bb;J.height=(D||n.height||0)+2*ba;x=ba+M.fontMetrics(r&&r.fontSize).b;if(K){if(!u){r=at(-F*ba),p=S?-x:0,J.box=u=Y?M.symbol(Y,r,p,J.width,J.height):M.rect(r,p,J.width,J.height,0,s[y]),u.add(J)}u.isImg||u.attr(ap({width:J.width,height:J.height},s));s=null}}function P(){var r=J.styles,r=r&&r.textAlign,p=bb+ba*(1-F),w;w=S?0:x;if(au(U)&&(r==="center"||r==="right")){p+={center:0.5,right:1}[r]*(U-n.width)}(p!==L.x||w!==L.y)&&L.attr({x:p,y:w});L.x=p;L.y=w}function O(r,p){u?u.attr(r,p):s[r]=p}function N(){L.add(J);J.attr({text:ab,x:aa,y:Z});u&&au(X)&&J.attr({anchorX:X,anchorY:W})}var M=this,J=M.g(R),L=M.text("",0,0,T).attr({zIndex:1}),u,n,F=0,ba=3,bb=0,U,D,C,v,H=0,s={},x,T=J.attrSetters,K;a7(J,"add",N);T.width=function(p){U=p;return !1};T.height=function(p){D=p;return !1};T.padding=function(p){au(p)&&p!==ba&&(ba=p,P());return !1};T.paddingLeft=function(p){au(p)&&p!==bb&&(bb=p,P());return !1};T.align=function(p){F={left:0,center:0.5,right:1}[p];return !1};T.text=function(r,p){L.attr(p,r);Q();P();return !1};T[y]=function(r,p){K=!0;H=r%2/2;O(p,r);return !1};T.stroke=T.fill=T.r=function(r,p){p==="fill"&&(K=!0);O(p,r);return !1};T.anchorX=function(r,p){X=r;O(p,r+H-C);return !1};T.anchorY=function(r,p){W=r;O(p,r-v);return !1};T.x=function(p){J.x=p;p-=F*((U||n.width)+ba);C=at(p);J.attr("translateX",C);return !1};T.y=function(p){v=J.y=at(p);J.attr("translateY",v);return !1};var t=J.css;return av(J,{css:function(r){if(r){var p={},r=ap(r);az("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(w){r[w]!==ar&&(p[w]=r[w],delete r[w])});L.css(p)}return t.call(J,r)},getBBox:function(){return{width:n.width+2*ba,height:n.height+2*ba,x:n.x-ba,y:n.y-ba}},shadow:function(p){u&&u.shadow(p);return J},destroy:function(){a0(J,"add",N);a0(J.element,"mouseenter");a0(J.element,"mouseleave");L&&(L=L.destroy());u&&(u=u.destroy());ak.prototype.destroy.call(J);J=M=Q=P=O=N=null}})}};aQ=bU;var bi;if(!aO&&!bE){Highcharts.VMLElement=bi={init:function(p,n){var t=["<",n,' filled="f" stroked="f"'],s=["position: ","absolute",";"],r=n===bc;(n==="shape"||r)&&s.push("left:0;top:0;width:1px;height:1px;");s.push("visibility: ",r?"hidden":"visible");t.push(' style="',s.join(""),'"/>');if(n){t=r||n==="span"||n==="img"?t.join(""):p.prepVML(t),this.element=aT(t)}this.renderer=p;this.attrSetters={}},add:function(p){var n=this.renderer,s=this.element,r=n.box,r=p?p.element||p:r;p&&p.inverted&&n.invertChild(s,r);r.appendChild(s);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();a5(this,"add");return this},updateTransform:ak.prototype.htmlUpdateTransform,setSpanRotation:function(p,n,r){a4(this.element,{filter:p?["progid:DXImageTransform.Microsoft.Matrix(M11=",r,", M12=",-n,", M21=",n,", M22=",r,", sizingMethod='auto expand')"].join(""):aV})},pathToVML:function(p){for(var n=p.length,s=[],r;n--;){if(m(p[n])){s[n]=at(p[n]*10)-5}else{if(p[n]==="Z"){s[n]="x"}else{if(s[n]=p[n],p.isArc&&(p[n]==="wa"||p[n]==="at")){r=p[n]==="wa"?1:-1,s[n+5]===s[n+7]&&(s[n+7]-=r),s[n+6]===s[n+8]&&(s[n+8]-=r)}}}}return s.join(" ")||"x"},attr:function(H,F){var D,C,A,z=this.element||{},x=z.style,w=z.nodeName,v=this.renderer,u=this.symbolName,t,s=this.shadows,r,p=this.attrSetters,n=this;g(H)&&au(F)&&(D=H,H={},H[D]=F);if(g(H)){D=H,n=D==="strokeWidth"||D==="stroke-width"?this.strokeweight:this[D]}else{for(D in H){if(C=H[D],r=!1,A=p[D]&&p[D].call(this,C,D),A!==!1&&C!==null){A!==ar&&(C=A);if(u&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(D)){t||(this.symbolAttr(H),t=!0),r=!0}else{if(D==="d"){C=C||[];this.d=C.join(" ");z.path=C=this.pathToVML(C);if(s){for(A=s.length;A--;){s[A].path=s[A].cutOff?this.cutOffPath(C,s[A].cutOff):C}}r=!0}else{if(D==="visibility"){if(s){for(A=s.length;A--;){s[A].style[D]=C}}w==="DIV"&&(C=C==="hidden"?"-999em":0,f||(x[D]=C?"visible":"hidden"),D="top");x[D]=C;r=!0}else{if(D==="zIndex"){C&&(x[D]=C),r=!0}else{if(aG(D,["x","y","width","height"])!==-1){this[D]=C,D==="x"||D==="y"?D={x:"left",y:"top"}[D]:C=aw(0,C),this.updateClipping?(this[D]=C,this.updateClipping()):x[D]=C,r=!0}else{if(D==="class"&&w==="DIV"){z.className=C}else{if(D==="stroke"){C=v.color(C,z,D),D="strokecolor"}else{if(D==="stroke-width"||D==="strokeWidth"){z.stroked=C?!0:!1,D="strokeweight",this[D]=C,m(C)&&(C+="px")}else{if(D==="dashstyle"){(z.getElementsByTagName("stroke")[0]||aT(v.prepVML(["<stroke/>"]),null,null,z))[D]=C||"solid",this.dashstyle=C,r=!0}else{if(D==="fill"){if(w==="SPAN"){x.color=C}else{if(w!=="IMG"){z.filled=C!==aV?!0:!1,C=v.color(C,z,D,this),D="fillcolor"}}}else{if(D==="opacity"){r=!0}else{if(w==="shape"&&D==="rotation"){this[D]=z.style[D]=C,z.style.left=-at(aA(C*bt)+1)+"px",z.style.top=at(aS(C*bt))+"px"}else{if(D==="translateX"||D==="translateY"||D==="rotation"){this[D]=C,this.updateTransform(),r=!0}else{if(D==="text"){this.bBox=null,z.innerHTML=C,r=!0}}}}}}}}}}}}}}r||(f?z[D]=C:aq(z,D,C))}}}return n},clip:function(p){var n=this,r;p?(r=p.members,by(r,n),r.push(n),n.destroyClip=function(){by(r,n)},p=p.getCSS(n)):(n.destroyClip&&n.destroyClip(),p={clip:f?"inherit":"rect(auto)"});return n.css(p)},css:ak.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&bM(n)},destroy:function(){this.destroyClip&&this.destroyClip();return ak.prototype.destroy.apply(this)},on:function(p,n){this.element["on"+p]=function(){var r=a2.event;r.target=r.srcElement;n(r)};return this},cutOffPath:function(p,n){var r,p=p.split(/[ ,]/);r=p.length;if(r===9||r===11){p[r-4]=p[r-2]=bm(p[r-2])-10*n}return p.join(" ")},shadow:function(H,F,D){var C=[],A,z=this.element,x=this.renderer,w,v=z.style,u,t=z.path,s,r,p,n;t&&typeof t.value!=="string"&&(t="x");r=t;if(H){p=ax(H.width,3);n=(H.opacity||0.15)/p;for(A=1;A<=3;A++){s=p*2+1-2*A;D&&(r=this.cutOffPath(t.value,s+0.5));u=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',r,'" coordsize="10 10" style="',z.style.cssText,'" />'];w=aT(x.prepVML(u),null,{left:bm(v.left)+ax(H.offsetX,1),top:bm(v.top)+ax(H.offsetY,1)});if(D){w.cutOff=s+1}u=['<stroke color="',H.color||"black",'" opacity="',n*A,'"/>'];aT(x.prepVML(u),null,null,w);F?F.element.appendChild(w):z.parentNode.insertBefore(w,z);C.push(w)}this.shadows=C}return this}};bi=a9(ak,bi);var bB={Element:bi,isIE8:ad.indexOf("MSIE 8.0")>-1,init:function(p,n,t){var s,r;this.alignedObjects=[];s=this.createElement(bc);r=s.element;r.style.position="relative";p.appendChild(s.element);this.isVML=!0;this.box=r;this.boxWrapper=s;this.setSize(n,t,!1);if(!am.namespaces.hcv){am.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),am.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(p,n,u,t){var s=this.createElement(),r=aU(p);return av(s,{members:[],left:(r?p.x:p)+1,top:(r?p.y:n)+1,width:(r?p.width:u)-1,height:(r?p.height:t)-1,getCSS:function(w){var v=w.element,C=v.nodeName,w=w.inverted,A=this.top-(C==="shape"?v.offsetTop:0),z=this.left,v=z+this.width,x=A+this.height,A={clip:"rect("+at(w?z:A)+"px,"+at(w?x:v)+"px,"+at(w?v:x)+"px,"+at(w?A:z)+"px)"};!w&&f&&C==="DIV"&&av(A,{width:v+"px",height:x+"px"});return A},updateClipping:function(){az(s.members,function(v){v.css(s.getCSS(v))})}})},color:function(bZ,bb,ba,ab){var aa=this,Z,Y=/^rgba/,X,W,U=aV;bZ&&bZ.linearGradient?W="gradient":bZ&&bZ.radialGradient&&(W="pattern");if(W){var T,S,R=bZ.linearGradient||bZ.radialGradient,Q,O,P,n,M,K="",bZ=bZ.stops,H,F=[],L=function(){X=['<fill colors="'+F.join(",")+'" opacity="',P,'" o:opacity2="',O,'" type="',W,'" ',K,'focus="100%" method="any" />'];aT(aa.prepVML(X),null,null,bb)};Q=bZ[0];H=bZ[bZ.length-1];Q[0]>0&&bZ.unshift([0,Q[1]]);H[0]<1&&bZ.push([1,H[1]]);az(bZ,function(r,p){Y.test(r[1])?(Z=af(r[1]),T=Z.get("rgb"),S=Z.get("a")):(T=r[1],S=1);F.push(r[0]*100+"% "+T);p?(P=S,n=T):(O=S,M=T)});if(ba==="fill"){if(W==="gradient"){ba=R.x1||R[0]||0,bZ=R.y1||R[1]||0,Q=R.x2||R[2]||0,R=R.y2||R[3]||0,K='angle="'+(90-aW.atan((R-bZ)/(Q-ba))*180/bY)+'"',L()}else{var U=R.r,J=U*2,D=U*2,A=R.cx,N=R.cy,z=bb.radialReference,C,U=function(){z&&(C=ab.getBBox(),A+=(z[0]-C.x)/C.width-0.5,N+=(z[1]-C.y)/C.height-0.5,J*=z[2]/C.width,D*=z[2]/C.height);K='src="'+a3.global.VMLRadialGradientURL+'" size="'+J+","+D+'" origin="0.5,0.5" position="'+A+","+N+'" color2="'+M+'" ';L()};ab.added?U():a7(ab,"add",U);U=n}}else{U=T}}else{if(Y.test(bZ)&&bb.tagName!=="IMG"){Z=af(bZ),X=["<",ba,' opacity="',Z.get("a"),'"/>'],aT(this.prepVML(X),null,null,bb),U=Z.get("rgb")}else{U=bb.getElementsByTagName(ba);if(U.length){U[0].opacity=1,U[0].type="solid"}U=bZ}}return U},prepVML:function(p){var n=this.isIE8,p=p.join("");n?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:bU.prototype.html,path:function(p){var n={coordsize:"10 10"};bD(p)?n.d=p:aU(p)&&av(n,p);return this.createElement("shape").attr(n)},circle:function(p,n,s){var r=this.symbol("circle");if(aU(p)){s=p.r,n=p.y,p=p.x}r.isCircle=!0;return r.attr({x:p,y:n,width:2*s,height:2*s})},g:function(p){var n;p&&(n={className:"highcharts-"+p,"class":"highcharts-"+p});return this.createElement(bc).attr(n)},image:function(p,n,u,t,s){var r=this.createElement("img").attr({src:p});arguments.length>1&&r.attr({x:n,y:u,width:t,height:s});return r},rect:function(p,n,v,u,t,s){var r=this.symbol("rect");r.r=aU(p)?p.r:t;return r.attr(aU(p)?p:r.crisp(s,p,n,aw(v,0),aw(u,0)))},invertChild:function(p,n){var r=n.style;a4(p,{flip:"x",left:bm(r.width)-1,top:bm(r.height)-1,rotation:-90})},symbols:{arc:function(A,z,x,w,v){var u=v.start,t=v.end,s=v.r||x||w,x=v.innerR,w=aS(u),r=aA(u),p=aS(t),n=aA(t);if(t-u===0){return["x"]}u=["wa",A-s,z-s,A+s,z+s,A+s*w,z+s*r,A+s*p,z+s*n];v.open&&!x&&u.push("e","M",A,z);u.push("at",A-x,z-x,A+x,z+x,A+x*p,z+x*n,A+x*w,z+x*r,"x","e");u.isArc=!0;return u},circle:function(p,n,t,s,r){r&&r.isCircle&&(p-=t/2,n-=s/2);return["wa",p,n,p+t,n+s,p+t,n+s/2,p+t,n+s/2,"e"]},rect:function(p,n,w,v,u){var t=p+w,s=n+v,r;!au(u)||!u.r?t=bU.prototype.symbols.square.apply(0,arguments):(r=bl(u.r,w,v),t=["M",p+r,n,"L",t-r,n,"wa",t-2*r,n,t,n+2*r,t-r,n,t,n+r,"L",t,s-r,"wa",t-2*r,s-2*r,t,s,t,s-r,t-r,s,"L",p+r,s,"wa",p,s-2*r,p+2*r,s,p+r,s,p,s-r,"L",p,n+r,"wa",p,n,p+2*r,n+2*r,p,n+r,p+r,n,"x","e"]);return t}}};Highcharts.VMLRenderer=bi=function(){this.init.apply(this,arguments)};bi.prototype=ap(bU.prototype,bB);aQ=bi}var bK;if(bE){Highcharts.CanVGRenderer=bi=function(){c="http://www.w3.org/1999/xhtml"},bi.prototype.symbols={},bK=function(){function p(){var r=n.length,s;for(s=0;s<r;s++){n[s]()}n=[]}var n=[];return{push:function(s,r){n.length===0&&aN(r,p);n.push(s)}}}(),aQ=bi}o.prototype={addLabel:function(){var C=this.axis,A=C.options,z=C.chart,x=C.horiz,w=C.categories,v=C.series[0]&&C.series[0].names,u=this.pos,t=A.labels,s=C.tickPositions,x=x&&w&&!t.step&&!t.staggerLines&&!t.rotation&&z.plotWidth/s.length||!x&&(z.optionsMarginLeft||z.chartWidth*0.33),r=u===s[0],p=u===s[s.length-1],v=w?ax(w[u],v&&v[u],u):u,w=this.label,s=s.info,n;C.isDatetimeAxis&&s&&(n=A.dateTimeLabelFormats[s.higherRanks[u]||s.unitName]);this.isFirst=r;this.isLast=p;A=C.labelFormatter.call({axis:C,chart:z,isFirst:r,isLast:p,dateTimeLabelFormat:n,value:C.isLog?i(bQ(v)):v});u=x&&{width:aw(1,at(x-2*(t.padding||10)))+"px"};u=av(u,t.style);if(au(w)){w&&w.attr({text:A}).css(u)}else{x={align:C.labelAlign};if(m(t.rotation)){x.rotation=t.rotation}this.label=au(A)&&t.enabled?z.renderer.text(A,0,0,t.useHTML).attr(x).css(u).add(C.labelGroup):null}},getLabelSize:function(){var p=this.label,n=this.axis;return p?(this.labelBBox=p.getBBox())[n.horiz?"height":"width"]:0},getLabelSides:function(){var p=this.axis,n=this.labelBBox.width,p=n*{left:0,center:0.5,right:1}[p.labelAlign]-p.options.labels.x;return[-p,n-p]},handleOverflow:function(D,C){var A=!0,z=this.axis,x=z.chart,w=this.isFirst,v=this.isLast,u=C.x,t=z.reversed,s=z.tickPositions;if(w||v){var r=this.getLabelSides(),p=r[0],r=r[1],x=x.plotLeft,n=x+z.len,s=(z=z.ticks[s[D+(w?1:-1)]])&&z.label.xy&&z.label.xy.x+z.getLabelSides()[w?0:1];w&&!t||v&&t?u+p<x&&(u=x-p,z&&u+r>s&&(A=!1)):u+r>n&&(u=n-r,z&&u+p<s&&(A=!1));C.x=u}return A},getPosition:function(p,n,v,u){var t=this.axis,s=t.chart,r=u&&s.oldChartHeight||s.chartHeight;return{x:p?t.translate(n+v,null,null,u)+t.transB:t.left+t.offset+(t.opposite?(u&&s.oldChartWidth||s.chartWidth)-t.right-t.left:0),y:p?r-t.bottom+t.offset-(t.opposite?t.height:0):r-t.translate(n+v,null,null,u)-t.transB}},getLabelPosition:function(F,D,C,A,z,x,w,v){var u=this.axis,t=u.transA,s=u.reversed,r=u.staggerLines,p=u.chart.renderer.fontMetrics(z.style.fontSize).b,n=z.rotation,F=F+z.x-(x&&A?x*t*(s?-1:1):0),D=D+z.y-(x&&!A?x*t*(s?1:-1):0);n&&u.side===2&&(D-=p-p*aS(n*bt));!au(z.y)&&!n&&(D+=p-C.getBBox().height/2);r&&(D+=w/(v||1)%r*(u.labelOffset/r));return{x:F,y:D}},getMarkPath:function(p,n,u,t,s,r){return r.crispLine(["M",p,n,"L",p+(s?0:-u),n+(s?u:0)],t)},render:function(ba,ab,aa){var Z=this.axis,Y=Z.options,X=Z.chart.renderer,W=Z.horiz,U=this.type,T=this.label,S=this.pos,R=Y.labels,Q=this.gridLine,P=U?U+"Grid":"grid",N=U?U+"Tick":"tick",M=Y[P+"LineWidth"],O=Y[P+"LineColor"],p=Y[P+"LineDashStyle"],K=Y[N+"Length"],P=Y[N+"Width"]||0,H=Y[N+"Color"],D=Y[N+"Position"],N=this.mark,J=R.step,A=!0,F=Z.tickmarkOffset,C=this.getPosition(W,S,F,ab),z=C.x,C=C.y,L=W&&z===Z.pos+Z.len||!W&&C===Z.pos?-1:1,v=Z.staggerLines;this.isActive=!0;if(M){S=Z.getPlotLinePath(S+F,M*L,ab,!0);if(Q===ar){Q={stroke:O,"stroke-width":M};if(p){Q.dashstyle=p}if(!U){Q.zIndex=1}if(ab){Q.opacity=0}this.gridLine=Q=M?X.path(S).attr(Q).add(Z.gridGroup):null}if(!ab&&Q&&S){Q[this.isNew?"attr":"animate"]({d:S,opacity:aa})}}if(P&&K){D==="inside"&&(K=-K),Z.opposite&&(K=-K),ab=this.getMarkPath(z,C,K,P*L,W,X),N?N.animate({d:ab,opacity:aa}):this.mark=X.path(ab).attr({stroke:H,"stroke-width":P,opacity:aa}).add(Z.axisGroup)}if(T&&!isNaN(z)){T.xy=C=this.getLabelPosition(z,C,T,W,R,F,ba,J),this.isFirst&&!this.isLast&&!ax(Y.showFirstLabel,1)||this.isLast&&!this.isFirst&&!ax(Y.showLastLabel,1)?A=!1:!v&&W&&R.overflow==="justify"&&!this.handleOverflow(ba,C)&&(A=!1),J&&ba%J&&(A=!1),A&&!isNaN(C.y)?(C.opacity=aa,T[this.isNew?"attr":"animate"](C),this.isNew=!1):T.attr("y",-9999)}},destroy:function(){aI(this,this.axis)}};bn.prototype={render:function(){var R=this,Q=R.axis,P=Q.horiz,O=(Q.pointRange||0)/2,N=R.options,M=N.label,L=R.label,K=N.width,J=N.to,H=N.from,F=au(H)&&au(J),D=N.value,C=N.dashStyle,z=R.svgElem,x=[],A,p=N.color,t=N.zIndex,w=N.events,r=Q.chart.renderer;Q.isLog&&(H=bh(H),J=bh(J),D=bh(D));if(K){if(x=Q.getPlotLinePath(D,K),O={stroke:p,"stroke-width":K},C){O.dashstyle=C}}else{if(F){if(H=aw(H,Q.min-O),J=bl(J,Q.max+O),x=Q.getPlotBandPath(H,J,N),O={fill:p},N.borderWidth){O.stroke=N.borderColor,O["stroke-width"]=N.borderWidth}}else{return}}if(au(t)){O.zIndex=t}if(z){x?z.animate({d:x},null,z.onGetPath):(z.hide(),z.onGetPath=function(){z.show()})}else{if(x&&x.length&&(R.svgElem=z=r.path(x).attr(O).add(),w)){for(A in N=function(n){z.on(n,function(s){w[n].apply(R,[s])})},w){N(A)}}}if(M&&au(M.text)&&x&&x.length&&Q.width>0&&Q.height>0){M=ap({align:P&&F&&"center",x:P?!F&&4:10,verticalAlign:!P&&F&&"middle",y:P?F?16:10:F?6:-4,rotation:P&&!F&&90},M);if(!L){R.label=L=r.text(M.text,0,0,M.useHTML).attr({align:M.textAlign||M.align,rotation:M.rotation,zIndex:t}).css(M.style).add()}Q=[x[1],x[4],ax(x[6],x[1])];x=[x[2],x[5],ax(x[7],x[2])];P=bj(Q);F=bj(x);L.align(M,!1,{x:P,y:F,width:aL(Q)-P,height:aL(x)-F});L.show()}else{L&&L.hide()}return R},destroy:function(){by(this.axis.plotLinesAndBands,this);delete this.axis;aI(this)}};bW.prototype={destroy:function(){aI(this,this.axis)},setTotal:function(n){this.cum=this.total=n},addValue:function(n){this.setTotal(i(this.total+n))},render:function(p){var n=this.options,r=n.format,r=r?bz(r,this):n.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(r,0,0,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(p)},cacheExtremes:function(p,n){this.points[p.index]=n},setOffset:function(x,w){var v=this.axis,u=v.chart,t=u.inverted,s=this.isNegative,r=v.translate(this.percent?100:this.total,0,0,0,1),v=v.translate(0),v=a1(r-v),p=u.xAxis[0].translate(this.x)+x,n=u.plotHeight,s={x:t?s?r:r-v:p,y:t?n-p-w:s?n-r-v:n-r,width:t?v:w,height:t?w:v};if(t=this.label){t.align(this.alignOptions,null,s),s=t.alignAttr,t.attr({visibility:this.options.crop===!1||u.isInsidePlot(s.x,s.y)?aO?"inherit":"visible":"hidden"})}}};I.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:be,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return bs(this.total,-1)},style:be.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(p,n){var u=n.isX;this.horiz=p.inverted?!u:u;this.xOrY=(this.isXAxis=u)?"x":"y";this.opposite=n.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(n);var t=this.options,s=t.type;this.labelFormatter=t.labels.formatter||this.defaultLabelFormatter;this.userOptions=n;this.minPixelPadding=0;this.chart=p;this.reversed=t.reversed;this.zoomEnabled=t.zoomEnabled!==!1;this.categories=t.categories||s==="category";this.isLog=s==="logarithmic";this.isDatetimeAxis=s==="datetime";this.isLinked=au(t.linkedTo);this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=t.minRange||t.maxZoom;this.range=t.range;this.offset=t.offset||0;this.stacks={};this.oldStacks={};this.stackExtremes={};this.min=this.max=null;var r,t=this.options.events;aG(this,p.axes)===-1&&(p.axes.push(this),p[u?"xAxis":"yAxis"].push(this));this.series=this.series||[];if(p.inverted&&u&&this.reversed===ar){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(r in t){a7(this,r,t[r])}if(this.isLog){this.val2lin=bh,this.lin2val=bQ}},setOptions:function(n){this.options=ap(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ap(a3[this.isXAxis?"xAxis":"yAxis"],n))},update:function(p,n){var r=this.chart,p=r.options[this.xOrY+"Axis"][this.options.index]=ap(this.userOptions,p);this.destroy(!0);this._addedPlotLB=!1;this.init(r,av(p,{events:ar}));r.isDirtyBox=!0;ax(n,!0)&&r.redraw()},remove:function(p){var n=this.chart,r=this.xOrY+"Axis";az(this.series,function(s){s.remove(!1)});by(n.axes,this);by(n[r],this);n.options[r].splice(this.options.index,1);az(n[r],function(t,s){t.options.index=s});this.destroy();n.isDirtyBox=!0;ax(p,!0)&&n.redraw()},defaultLabelFormatter:function(){var p=this.axis,n=this.value,w=p.categories,v=this.dateTimeLabelFormat,u=a3.lang.numericSymbols,t=u&&u.length,s,r=p.options.labels.format,p=p.isLog?n:p.tickInterval;if(r){s=bz(r,this)}else{if(w){s=n}else{if(v){s=G(v,n)}else{if(t&&p>=1000){for(;t--&&s===ar;){w=Math.pow(1000,t+1),p>=w&&u[t]!==null&&(s=bs(n/w,-1)+u[t])}}}}}s===ar&&(s=n>=1000?bs(n,0):bs(n,-1));return s},getSeriesExtremes:function(){var p=this,n=p.chart;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=null;p.stackExtremes={};p.buildStacks();az(p.series,function(t){if(t.visible||!n.options.chart.ignoreHiddenSeries){var s=t.options,r;r=s.threshold;p.hasVisibleSeries=!0;p.isLog&&r<=0&&(r=null);if(p.isXAxis){if(r=t.xData,r.length){p.dataMin=bl(ax(p.dataMin,r[0]),bj(r)),p.dataMax=aw(ax(p.dataMax,r[0]),aL(r))}}else{s=s.stacking;p.usePercentage=s==="percent";if(p.usePercentage){p.dataMin=0,p.dataMax=99}t.getExtremes();s=t.dataMax;t=t.dataMin;if(!p.usePercentage&&au(t)&&au(s)){p.dataMin=bl(ax(p.dataMin,t),t),p.dataMax=aw(ax(p.dataMax,s),s)}if(au(r)){if(p.dataMin>=r){p.dataMin=r,p.ignoreMinPadding=!0}else{if(p.dataMax<r){p.dataMax=r,p.ignoreMaxPadding=!0}}}}}})},translate:function(A,z,x,w,v,u){var t=this.len,s=1,r=0,p=w?this.oldTransA:this.transA,w=w?this.oldMin:this.min,n=this.minPixelPadding,v=(this.options.ordinal||this.isLog&&v)&&this.lin2val;if(!p){p=this.transA}x&&(s*=-1,r=t);this.reversed&&(s*=-1,r-=s*t);z?(A=A*s+r,A-=n,A=A/p+w,v&&(A=this.lin2val(A))):(v&&(A=this.val2lin(A)),u==="between"&&(u=0.5),A=s*(A-w)*p+r+s*n+(m(u)?p*u*this.pointRange:0));return A},toPixels:function(p,n){return this.translate(p,!1,!this.horiz,null,!0)+(n?0:this.pos)},toValue:function(p,n){return this.translate(p-(n?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(D,C,A,z){var x=this.chart,w=this.left,v=this.top,u,t,s,D=this.translate(D,null,null,A),r=A&&x.oldChartHeight||x.chartHeight,p=A&&x.oldChartWidth||x.chartWidth,n;u=this.transB;A=t=at(D+u);u=s=at(r-D-u);if(isNaN(D)){n=!0}else{if(this.horiz){if(u=v,s=r-this.bottom,A<w||A>w+this.width){n=!0}}else{if(A=w,t=p-this.right,u<v||u>v+this.height){n=!0}}}return n&&!z?null:x.renderer.crispLine(["M",A,u,"L",t,s],C||0)},getPlotBandPath:function(p,n){var s=this.getPlotLinePath(n),r=this.getPlotLinePath(p);r&&s?r.push(s[4],s[5],s[1],s[2]):r=null;return r},getLinearTickPositions:function(p,n,t){for(var s,n=i(aZ(n/p)*p),t=i(B(t/p)*p),r=[];n<=t;){r.push(n);n=i(n+p);if(n===s){break}s=n}return r},getLogTickPositions:function(C,A,z,x){var w=this.options,v=this.len,u=[];if(!x){this._minorAutoInterval=null}if(C>=0.5){C=at(C),u=this.getLinearTickPositions(C,A,z)}else{if(C>=0.08){for(var v=aZ(A),t,s,r,p,n,w=C>0.3?[1,2,4]:C>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];v<z+1&&!n;v++){s=w.length;for(t=0;t<s&&!n;t++){r=bh(bQ(v)*w[t]),r>A&&(!x||p<=z)&&u.push(p),p>z&&(n=!0),p=r}}}else{if(A=bQ(A),z=bQ(z),C=w[x?"minorTickInterval":"tickInterval"],C=ax(C==="auto"?null:C,this._minorAutoInterval,(z-A)*(w.tickPixelInterval/(x?5:1))/((x?v/this.tickPositions.length:v)||1)),C=bA(C,null,bS(C)),u=bI(this.getLinearTickPositions(C,A,z),bh),!x){this._minorAutoInterval=C/5}}}if(!x){this.tickInterval=C}return u},getMinorTickPositions:function(){var p=this.options,n=this.tickPositions,t=this.minorTickInterval,s=[],r;if(this.isLog){r=n.length;for(p=1;p<r;p++){s=s.concat(this.getLogTickPositions(t,n[p-1],n[p],!0))}}else{if(this.isDatetimeAxis&&p.minorTickInterval==="auto"){s=s.concat(V(a8(t),this.min,this.max,p.startOfWeek)),s[0]<this.min&&s.shift()}else{for(n=this.min+(n[0]-this.min)%t;n<=this.max;n+=t){s.push(n)}}}return s},adjustForMinRange:function(){var A=this.options,z=this.min,x=this.max,w,v=this.dataMax-this.dataMin>=this.minRange,u,t,s,r,p;if(this.isXAxis&&this.minRange===ar&&!this.isLog){au(A.min)||au(A.max)?this.minRange=null:(az(this.series,function(C){r=C.xData;for(t=p=C.xIncrement?1:r.length-1;t>0;t--){if(s=r[t]-r[t-1],u===ar||s<u){u=s}}}),this.minRange=bl(u*5,this.dataMax-this.dataMin))}if(x-z<this.minRange){var n=this.minRange;w=(n-x+z)/2;w=[z-w,ax(A.min,z-w)];if(v){w[2]=this.dataMin}z=aL(w);x=[z+n,ax(A.max,z+n)];if(v){x[2]=this.dataMax}x=bj(x);x-z<n&&(w[0]=x-n,w[1]=ax(A.min,x-n),z=aL(w))}this.min=z;this.max=x},setAxisTranslation:function(p){var n=this.max-this.min,w=0,v,u=0,t=0,s=this.linkedParent,r=this.transA;if(this.isXAxis){s?(u=s.minPointOffset,t=s.pointRangePadding):az(this.series,function(z){var C=z.pointRange,A=z.options.pointPlacement,x=z.closestPointRange;C>n&&(C=0);w=aw(w,C);u=aw(u,g(A)?0:C/2);t=aw(t,A==="on"?0:C);!z.noSharedTooltip&&au(x)&&(v=au(v)?bl(v,x):x)}),s=this.ordinalSlope&&v?this.ordinalSlope/v:1,this.minPointOffset=u*=s,this.pointRangePadding=t*=s,this.pointRange=bl(w,n),this.closestPointRange=v}if(p){this.oldTransA=r}this.translationSlope=this.transA=r=this.len/(n+t||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=r*u},setTickPositions:function(H){var F=this,D=F.chart,C=F.options,A=F.isLog,z=F.isDatetimeAxis,x=F.isXAxis,w=F.isLinked,v=F.options.tickPositioner,u=C.maxPadding,t=C.minPadding,s=C.tickInterval,r=C.minTickInterval,p=C.tickPixelInterval,n=F.categories;w?(F.linkedParent=D[x?"xAxis":"yAxis"][C.linkedTo],D=F.linkedParent.getExtremes(),F.min=ax(D.min,D.dataMin),F.max=ax(D.max,D.dataMax),C.type!==F.linkedParent.options.type&&ac(11,1)):(F.min=ax(F.userMin,C.min,F.dataMin),F.max=ax(F.userMax,C.max,F.dataMax));if(A){!H&&bl(F.min,ax(F.dataMin,F.min))<=0&&ac(10,1),F.min=i(bh(F.min)),F.max=i(bh(F.max))}if(F.range&&(F.userMin=F.min=aw(F.min,F.max-F.range),F.userMax=F.max,H)){F.range=null}F.beforePadding&&F.beforePadding();F.adjustForMinRange();if(!n&&!F.usePercentage&&!w&&au(F.min)&&au(F.max)&&(D=F.max-F.min)){if(!au(C.min)&&!au(F.userMin)&&t&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=D*t}if(!au(C.max)&&!au(F.userMax)&&u&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=D*u}}F.tickInterval=F.min===F.max||F.min===void 0||F.max===void 0?1:w&&!s&&p===F.linkedParent.options.tickPixelInterval?F.linkedParent.tickInterval:ax(s,n?1:(F.max-F.min)*p/(F.len||1));x&&!H&&az(F.series,function(J){J.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation(!0);F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(F.pointRange){F.tickInterval=aw(F.pointRange,F.tickInterval)}if(!s&&F.tickInterval<r){F.tickInterval=r}if(!z&&!A&&!s){F.tickInterval=bA(F.tickInterval,null,bS(F.tickInterval),C)}F.minorTickInterval=C.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:C.minorTickInterval;F.tickPositions=H=C.tickPositions?[].concat(C.tickPositions):v&&v.apply(F,[F.min,F.max]);if(!H){(F.max-F.min)/F.tickInterval>2*F.len&&ac(19,!0),H=z?(F.getNonLinearTimeTicks||V)(a8(F.tickInterval,C.units),F.min,F.max,C.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):A?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),F.tickPositions=H}if(!w){A=H[0],z=H[H.length-1],w=F.minPointOffset||0,C.startOnTick?F.min=A:F.min-w>A&&H.shift(),C.endOnTick?F.max=z:F.max+w<z&&H.pop(),H.length===1&&(F.min-=0.001,F.max+=0.001)}},setMaxTicks:function(){var p=this.chart,n=p.maxTicks||{},s=this.tickPositions,r=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&s&&s.length>(n[r]||0)&&this.options.alignTicks!==!1){n[r]=s.length}p.maxTicks=n},adjustTickAmount:function(){var p=this._maxTicksKey,n=this.tickPositions,t=this.chart.maxTicks;if(t&&t[p]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var s=this.tickAmount,r=n.length;this.tickAmount=p=t[p];if(r<p){for(;n.length<p;){n.push(i(n[n.length-1]+this.tickInterval))}this.transA*=(r-1)/(p-1);this.max=n[n.length-1]}if(au(s)&&p!==s){this.isDirty=!0}}},setScale:function(){var p=this.stacks,n,t,s,r;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();r=this.len!==this.oldAxisLength;az(this.series,function(u){if(u.isDirtyData||u.isDirty||u.xAxis.isDirty){s=!0}});if(r||s||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis){for(n in p){for(t in p[n]){p[n][t].total=null}}}this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty){this.isDirty=r||this.min!==this.oldMin||this.max!==this.oldMax}}else{if(!this.isXAxis){if(this.oldStacks){p=this.stacks=this.oldStacks}for(n in p){for(t in p[n]){p[n][t].cum=p[n][t].total}}}}this.setMaxTicks()},setExtremes:function(p,n,v,u,t){var s=this,r=s.chart,v=ax(v,!0),t=av(t,{min:p,max:n});a5(s,"setExtremes",t,function(){s.userMin=p;s.userMax=n;s.isDirtyExtremes=!0;v&&r.redraw(u)})},zoom:function(p,n){this.allowZoomOutside||(au(this.dataMin)&&p<=this.dataMin&&(p=ar),au(this.dataMax)&&n>=this.dataMax&&(n=ar));this.displayBtn=p!==ar||n!==ar;this.setExtremes(p,n,!1,ar,{trigger:"zoom"});return !0},setAxisSize:function(){var p=this.chart,n=this.options,v=n.offsetLeft||0,u=n.offsetRight||0,t=this.horiz,s,r;this.left=r=ax(n.left,p.plotLeft+v);this.top=s=ax(n.top,p.plotTop);this.width=v=ax(n.width,p.plotWidth-v+u);this.height=n=ax(n.height,p.plotHeight);this.bottom=p.chartHeight-n-s;this.right=p.chartWidth-v-r;this.len=aw(t?v:n,0);this.pos=t?r:s},getExtremes:function(){var n=this.isLog;return{min:n?i(bQ(this.min)):this.min,max:n?i(bQ(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(p){var n=this.isLog,r=n?bQ(this.min):this.min,n=n?bQ(this.max):this.max;r>p||p===null?p=r:n<p&&(p=n);return this.translate(p,0,1,0,1)},addPlotBand:function(n){this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(p,n){var s=(new bn(this,p)).render(),r=this.userOptions;n&&(r[n]=r[n]||[],r[n].push(p));this.plotLinesAndBands.push(s);return s},autoLabelAlign:function(n){n=(ax(n,0)-this.side*90+720)%360;return n>15&&n<165?"right":n>195&&n<345?"left":"center"},getOffset:function(){var Z=this,Y=Z.chart,X=Y.renderer,W=Z.options,U=Z.tickPositions,T=Z.ticks,S=Z.horiz,R=Z.side,Q=Y.inverted?[1,0,3,2][R]:R,P,O=0,M,L=0,K=W.title,H=W.labels,N=0,n=Y.axisOffset,z=Y.clipOffset,D=[-1,1,1,-1][R],t,r=1,J=ax(H.maxStaggerLines,5),C,v,p,F;Z.hasData=P=Z.hasVisibleSeries||au(Z.min)&&au(Z.max)&&!!U;Z.showAxis=Y=P||ax(W.showEmpty,!0);Z.staggerLines=Z.horiz&&H.staggerLines;if(!Z.axisGroup){Z.gridGroup=X.g("grid").attr({zIndex:W.gridZIndex||1}).add(),Z.axisGroup=X.g("axis").attr({zIndex:W.zIndex||2}).add(),Z.labelGroup=X.g("axis-labels").attr({zIndex:H.zIndex||7}).add()}if(P||Z.isLinked){Z.labelAlign=ax(H.align||Z.autoLabelAlign(H.rotation));az(U,function(s){T[s]?T[s].addLabel():T[s]=new o(Z,s)});if(Z.horiz&&!Z.staggerLines&&J&&!H.rotation){for(t=Z.reversed?[].concat(U).reverse():U;r<J;){P=[];C=!1;for(H=0;H<t.length;H++){v=t[H],p=(p=T[v].label&&T[v].label.bBox)?p.width:0,F=H%r,p&&(v=Z.translate(v),P[F]!==ar&&v<P[F]&&(C=!0),P[F]=v+p)}if(C){r++}else{break}}if(r>1){Z.staggerLines=r}}az(U,function(s){if(R===0||R===2||{1:"left",3:"right"}[R]===Z.labelAlign){N=aw(T[s].getLabelSize(),N)}});if(Z.staggerLines){N*=Z.staggerLines,Z.labelOffset=N}}else{for(t in T){T[t].destroy(),delete T[t]}}if(K&&K.text&&K.enabled!==!1){if(!Z.axisTitle){Z.axisTitle=X.text(K.text,0,0,K.useHTML).attr({zIndex:7,rotation:K.rotation||0,align:K.textAlign||{low:"left",middle:"center",high:"right"}[K.align]}).css(K.style).add(Z.axisGroup),Z.axisTitle.isNew=!0}if(Y){O=Z.axisTitle.getBBox()[S?"height":"width"],L=ax(K.margin,S?5:10),M=K.offset}Z.axisTitle[Y?"show":"hide"]()}Z.offset=D*ax(W.offset,n[R]);Z.axisTitleMargin=ax(M,N+L+(R!==2&&N&&D*W.labels[S?"y":"x"]));n[R]=aw(n[R],Z.axisTitleMargin+O+D*Z.offset);z[Q]=aw(z[Q],aZ(W.lineWidth/2)*2)},getLinePath:function(p){var n=this.chart,u=this.opposite,t=this.offset,s=this.horiz,r=this.left+(u?this.width:0)+t;this.lineTop=t=n.chartHeight-this.bottom-(u?this.height:0)+t;u&&(p*=-1);return n.renderer.crispLine(["M",s?this.left:r,s?t:this.top,"L",s?n.chartWidth-this.right:r,s?t:n.chartHeight-this.bottom],p)},getTitlePosition:function(){var x=this.horiz,w=this.left,v=this.top,u=this.len,t=this.options.title,s=x?w:v,r=this.opposite,p=this.offset,n=bm(t.style.fontSize||12),u={low:s+(x?0:u),middle:s+u/2,high:s+(x?u:0)}[t.align],w=(x?v+this.height:w)+(x?1:-1)*(r?-1:1)*this.axisTitleMargin+(this.side===2?n:0);return{x:x?u:w+(r?this.width:0)+p+(t.x||0),y:x?w-(r?this.height:0)+p:u+(t.y||0)}},render:function(){var X=this,W=X.chart,U=W.renderer,T=X.options,S=X.isLog,R=X.isLinked,Q=X.tickPositions,P=X.axisTitle,O=X.stacks,N=X.ticks,M=X.minorTicks,L=X.alternateBands,K=T.stackLabels,J=T.alternateGridColor,F=X.tickmarkOffset,H=T.lineWidth,n,D=W.hasRendered&&au(X.oldMin)&&!isNaN(X.oldMin);n=X.hasData;var z=X.showAxis,C,v;az([N,M,L],function(r){for(var p in r){r[p].isActive=!1}});if(n||R){if(X.minorTickInterval&&!X.categories&&az(X.getMinorTickPositions(),function(p){M[p]||(M[p]=new o(X,p,"minor"));D&&M[p].isNew&&M[p].render(null,!0);M[p].render(null,!1,1)}),Q.length&&(az(Q.slice(1).concat([Q[0]]),function(p,r){r=r===Q.length-1?0:r+1;if(!R||p>=X.min&&p<=X.max){N[p]||(N[p]=new o(X,p)),D&&N[p].isNew&&N[p].render(r,!0),N[p].render(r,!1,1)}}),F&&X.min===0&&(N[-1]||(N[-1]=new o(X,-1,null,!0)),N[-1].render(-1))),J&&az(Q,function(p,r){if(r%2===0&&p<X.max){L[p]||(L[p]=new bn(X)),C=p+F,v=Q[r+1]!==ar?Q[r+1]+F:X.max,L[p].options={from:S?bQ(C):C,to:S?bQ(v):v,color:J},L[p].render(),L[p].isActive=!0}}),!X._addedPlotLB){az((T.plotLines||[]).concat(T.plotBands||[]),function(p){X.addPlotBandOrLine(p)}),X._addedPlotLB=!0}}az([N,M,L],function(p){var x,w,u=[],s=aE?aE.duration||500:0,r=function(){for(w=u.length;w--;){p[u[w]]&&!p[u[w]].isActive&&(p[u[w]].destroy(),delete p[u[w]])}};for(x in p){if(!p[x].isActive){p[x].render(x,!1,0),p[x].isActive=!1,u.push(x)}}p===L||!W.hasRendered||!s?r():s&&setTimeout(r,s)});if(H){n=X.getLinePath(H),X.axisLine?X.axisLine.animate({d:n}):X.axisLine=U.path(n).attr({stroke:T.lineColor,"stroke-width":H,zIndex:7}).add(X.axisGroup),X.axisLine[z?"show":"hide"]()}if(P&&z){P[P.isNew?"attr":"animate"](X.getTitlePosition()),P.isNew=!1}if(K&&K.enabled){var t,A,T=X.stackTotalGroup;if(!T){X.stackTotalGroup=T=U.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}T.translate(W.plotLeft,W.plotTop);for(t in O){for(A in U=O[t],U){U[A].render(T)}}}X.isDirty=!1},removePlotBandOrLine:function(p){for(var n=this.plotLinesAndBands,t=this.options,s=this.userOptions,r=n.length;r--;){n[r].id===p&&n[r].destroy()}az([t.plotLines||[],s.plotLines||[],t.plotBands||[],s.plotBands||[]],function(u){for(r=u.length;r--;){u[r].id===p&&by(u,u[r])}})},setTitle:function(p,n){this.update({title:p},n)},redraw:function(){var n=this.chart.pointer;n.reset&&n.reset(!0);this.render();az(this.plotLinesAndBands,function(p){p.render()});az(this.series,function(p){p.isDirty=!0})},buildStacks:function(){this.isXAxis||az(this.series,function(n){n.setStackedPoints()})},setCategories:function(p,n){this.update({categories:p},n)},destroy:function(p){var n=this,t=n.stacks,s,r=n.plotLinesAndBands;p||a0(n);for(s in t){aI(t[s]),t[s]=null}az([n.ticks,n.minorTicks,n.alternateBands],function(u){aI(u)});for(p=r.length;p--;){r[p].destroy()}az("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(u){n[u]&&(n[u]=n[u].destroy())})}};aJ.prototype={init:function(p,n){var t=n.borderWidth,s=n.style,r=bm(s.padding);this.chart=p;this.options=n;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=p.renderer.label("",0,0,n.shape,null,null,n.useHTML,null,"tooltip").attr({padding:r,fill:n.backgroundColor,"stroke-width":t,r:n.borderRadius,zIndex:8}).css(s).css({padding:0}).hide().add();bE||this.label.shadow(n.shadow);this.shared=n.shared},destroy:function(){az(this.crosshairs,function(n){n&&n.destroy()});if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(p,n,v,u){var t=this,s=t.now,r=t.options.animation!==!1&&!t.isHidden;av(s,{x:r?(2*s.x+p)/3:p,y:r?(s.y+n)/2:n,anchorX:r?(2*s.anchorX+v)/3:v,anchorY:r?(s.anchorY+u)/2:u});t.label.attr(s);if(r&&(a1(p-s.x)>1||a1(n-s.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){t&&t.move(p,n,v,u)},32)}},hide:function(){var p=this,n;clearTimeout(this.hideTimer);if(!this.isHidden){n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){p.label.fadeOut();p.isHidden=!0},ax(this.options.hideDelay,500)),n&&az(n,function(r){r.setState()}),this.chart.hoverPoints=null}},hideCrosshairs:function(){az(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(x,w){var v,u=this.chart,t=u.inverted,s=u.plotTop,r=0,p=0,n,x=aD(x);v=x[0].tooltipPos;this.followPointer&&w&&(w.chartX===ar&&(w=u.pointer.normalize(w)),v=[w.chartX-u.plotLeft,w.chartY-s]);v||(az(x,function(z){n=z.series.yAxis;r+=z.plotX;p+=(z.plotLow?(z.plotLow+z.plotHigh)/2:z.plotY)+(!t&&n?n.top-s:0)}),r/=x.length,p/=x.length,v=[t?u.plotWidth-p:r,this.shared&&!t&&x.length>1&&w?w.chartY-s:t?u.plotHeight-r:p]);return bI(v,at)},getPosition:function(C,A,z){var x=this.chart,w=x.plotLeft,v=x.plotTop,u=x.plotWidth,t=x.plotHeight,s=ax(this.options.distance,12),r=z.plotX,z=z.plotY,x=r+w+(x.inverted?s:-C-s),p=z-A+v+15,n;x<7&&(x=w+aw(r,0)+s);x+C>w+u&&(x-=x+C-(w+u),p=z-A+v-s,n=!0);p<v+5&&(p=v+5,n&&z>=p&&z<=p+A&&(p=z+v+s));p+A>v+t&&(p=aw(v,v+t-A-s));return{x:x,y:p}},defaultFormatter:function(p){var n=this.points||aD(this),s=n[0].series,r;r=[s.tooltipHeaderFormatter(n[0])];az(n,function(t){s=t.series;r.push(s.tooltipFormatter&&s.tooltipFormatter(t)||t.point.tooltipFormatter(s.tooltipOptions.pointFormat))});r.push(p.options.footerFormat||"");return r.join("")},refresh:function(D,C){var A=this.chart,z=this.label,x=this.options,w,v,u={},t,s=[];t=x.formatter||this.defaultFormatter;var u=A.hoverPoints,r,p=x.crosshairs,n=this.shared;clearTimeout(this.hideTimer);this.followPointer=aD(D)[0].series.tooltipOptions.followPointer;v=this.getAnchor(D,C);w=v[0];v=v[1];n&&(!D.series||!D.series.noSharedTooltip)?(A.hoverPoints=D,u&&az(u,function(F){F.setState()}),az(D,function(F){F.setState("hover");s.push(F.getLabelConfig())}),u={x:D[0].category,y:D[0].y},u.points=s,D=D[0]):u=D.getLabelConfig();t=t.call(u,this);u=D.series;t===!1?this.hide():(this.isHidden&&(ao(z),z.attr("opacity",1).show()),z.attr({text:t}),r=x.borderColor||D.color||u.color||"#606060",z.attr({stroke:r}),this.updatePosition({plotX:w,plotY:v}),this.isHidden=!1);if(p){p=aD(p);for(z=p.length;z--;){if(n=D.series,x=n[z?"yAxis":"xAxis"],p[z]&&x){if(u=z?ax(D.stackY,D.y):D.x,x.isLog&&(u=bh(u)),n.modifyValue&&(u=n.modifyValue(u)),x=x.getPlotLinePath(u,1),this.crosshairs[z]){this.crosshairs[z].attr({d:x,visibility:"visible"})}else{u={"stroke-width":p[z].width||1,stroke:p[z].color||"#C0C0C0",zIndex:p[z].zIndex||2};if(p[z].dashStyle){u.dashstyle=p[z].dashStyle}this.crosshairs[z]=A.renderer.path(x).attr(u).add()}}}}a5(A,"tooltipRefresh",{text:t,x:w+A.plotLeft,y:v+A.plotTop,borderColor:r})},updatePosition:function(p){var n=this.chart,r=this.label,r=(this.options.positioner||this.getPosition).call(this,r.width,r.height,p);this.move(at(r.x),at(r.y),p.plotX+n.plotLeft,p.plotY+n.plotTop)}};ai.prototype={init:function(p,n){var t=bE?"":n.chart.zoomType,s=p.inverted,r;this.options=n;this.chart=p;this.zoomX=r=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=r&&!s||t&&s;this.zoomVert=t&&!s||r&&s;this.pinchDown=[];this.lastValidTouch={};if(n.tooltip.enabled){p.tooltip=new aJ(p,n.tooltip)}this.setDOMEvents()},normalize:function(p){var n,s,r,p=p||a2.event;if(!p.target){p.target=p.srcElement}p=b(p);r=p.touches?p.touches.item(0):p;this.chartPosition=n=an(this.chart.container);r.pageX===ar?(s=aw(p.x,p.clientX-n.left),n=p.y):(s=r.pageX-n.left,n=r.pageY-n.top);return av(p,{chartX:at(s),chartY:at(n)})},getCoordinates:function(p){var n={xAxis:[],yAxis:[]};az(this.chart.axes,function(r){n[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(p[r.horiz?"chartX":"chartY"])})});return n},getIndex:function(p){var n=this.chart;return n.inverted?n.plotHeight+n.plotTop-p.chartY:p.chartX-n.plotLeft},runPointActions:function(A){var z=this.chart,x=z.series,w=z.tooltip,v,u=z.hoverPoint,t=z.hoverSeries,s,r,p=z.chartWidth,n=this.getIndex(A);if(w&&this.options.tooltip.shared&&(!t||!t.noSharedTooltip)){v=[];s=x.length;for(r=0;r<s;r++){if(x[r].visible&&x[r].options.enableMouseTracking!==!1&&!x[r].noSharedTooltip&&x[r].tooltipPoints.length&&(z=x[r].tooltipPoints[n],z.series)){z._dist=a1(n-z.clientX),p=bl(p,z._dist),v.push(z)}}for(s=v.length;s--;){v[s]._dist>p&&v.splice(s,1)}if(v.length&&v[0].clientX!==this.hoverX){w.refresh(v,A),this.hoverX=v[0].clientX}}if(t&&t.tracker){if((z=t.tooltipPoints[n])&&z!==u){z.onMouseOver(A)}}else{w&&w.followPointer&&!w.isHidden&&(A=w.getAnchor([{}],A),w.updatePosition({plotX:A[0],plotY:A[1]}))}},reset:function(p){var n=this.chart,t=n.hoverSeries,s=n.hoverPoint,r=n.tooltip,n=r&&r.shared?n.hoverPoints:s;(p=p&&r&&n)&&aD(n)[0].plotX===ar&&(p=!1);if(p){r.refresh(n)}else{if(s){s.onMouseOut()}if(t){t.onMouseOut()}r&&(r.hide(),r.hideCrosshairs());this.hoverX=null}},scaleGroups:function(p,n){var s=this.chart,r;az(s.series,function(t){r=p||t.getPlotBox();t.xAxis&&t.xAxis.zoomEnabled&&(t.group.attr(r),t.markerGroup&&(t.markerGroup.attr(r),t.markerGroup.clip(n?s.clipRect:null)),t.dataLabelsGroup&&t.dataLabelsGroup.attr(r))});s.clipRect.attr(n||s.clipBox)},pinchTranslateDirection:function(ab,aa,Z,Y,X,W,U){var T=this.chart,S=ab?"x":"y",R=ab?"X":"Y",Q="chart"+R,P=ab?"width":"height",O=T["plot"+(ab?"Left":"Top")],M,K,L=1,N=T.inverted,J=T.bounds[ab?"h":"v"],D=aa.length===1,F=aa[0][Q],H=Z[0][Q],A=!D&&aa[1][Q],C=!D&&Z[1][Q],z,Z=function(){!D&&a1(F-A)>20&&(L=a1(H-C)/a1(F-A));K=(O-H)/L+F;M=T["plot"+(ab?"Width":"Height")]/L};Z();aa=K;aa<J.min?(aa=J.min,z=!0):aa+M>J.max&&(aa=J.max-M,z=!0);z?(H-=0.8*(H-U[S][0]),D||(C-=0.8*(C-U[S][1])),Z()):U[S]=[H,C];N||(W[S]=K-O,W[P]=M);W=N?1/L:L;X[P]=M;X[S]=aa;Y[N?ab?"scaleY":"scaleX":"scale"+R]=L;Y["translate"+R]=W*O+(H-W*F)},pinch:function(F){var D=this,C=D.chart,A=D.pinchDown,z=C.tooltip&&C.tooltip.options.followTouchMove,x=F.touches,w=x.length,v=D.lastValidTouch,u=D.zoomHor||D.pinchHor,t=D.zoomVert||D.pinchVert,s=u||t,r=D.selectionMarker,p={},n={};(z||s)&&F.preventDefault();bI(x,function(H){return D.normalize(H)});if(F.type==="touchstart"){az(x,function(J,H){A[H]={chartX:J.chartX,chartY:J.chartY}}),v.x=[A[0].chartX,A[1]&&A[1].chartX],v.y=[A[0].chartY,A[1]&&A[1].chartY],az(C.axes,function(J){if(J.zoomEnabled){var H=C.bounds[J.horiz?"h":"v"],N=J.minPixelPadding,M=J.toPixels(J.dataMin),L=J.toPixels(J.dataMax),K=bl(M,L),M=aw(M,L);H.min=bl(J.pos,K-N);H.max=aw(J.pos+J.len,M+N)}})}else{if(A.length){if(!r){D.selectionMarker=r=av({destroy:bL},C.plotBox)}u&&D.pinchTranslateDirection(!0,A,x,p,r,n,v);t&&D.pinchTranslateDirection(!1,A,x,p,r,n,v);D.hasPinched=s;D.scaleGroups(p,n);!s&&z&&w===1&&this.runPointActions(D.normalize(F))}}},dragStart:function(p){var n=this.chart;n.mouseIsDown=p.type;n.cancelClick=!1;n.mouseDownX=this.mouseDownX=p.chartX;n.mouseDownY=this.mouseDownY=p.chartY},drag:function(F){var D=this.chart,C=D.options.chart,A=F.chartX,z=F.chartY,x=this.zoomHor,w=this.zoomVert,v=D.plotLeft,u=D.plotTop,t=D.plotWidth,s=D.plotHeight,r,p=this.mouseDownX,n=this.mouseDownY;A<v?A=v:A>v+t&&(A=v+t);z<u?z=u:z>u+s&&(z=u+s);this.hasDragged=Math.sqrt(Math.pow(p-A,2)+Math.pow(n-z,2));if(this.hasDragged>10){r=D.isInsidePlot(p-v,n-u);if(D.hasCartesianSeries&&(this.zoomX||this.zoomY)&&r&&!this.selectionMarker){this.selectionMarker=D.renderer.rect(v,u,x?1:t,w?1:s,0).attr({fill:C.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&x&&(A-=p,this.selectionMarker.attr({width:a1(A),x:(A>0?0:A)+p}));this.selectionMarker&&w&&(A=z-n,this.selectionMarker.attr({height:a1(A),y:(A>0?0:A)+n}));r&&!this.selectionMarker&&C.panning&&D.pan(F,C.panning)}},drop:function(p){var n=this.chart,w=this.hasPinched;if(this.selectionMarker){var v={xAxis:[],yAxis:[],originalEvent:p.originalEvent||p},u=this.selectionMarker,t=u.x,s=u.y,r;if(this.hasDragged||w){az(n.axes,function(z){if(z.zoomEnabled){var x=z.horiz,A=z.toValue(x?t:s),x=z.toValue(x?t+u.width:s+u.height);!isNaN(A)&&!isNaN(x)&&(v[z.xOrY+"Axis"].push({axis:z,min:bl(A,x),max:aw(A,x)}),r=!0)}}),r&&a5(n,"selection",v,function(x){n.zoom(av(x,w?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();w&&this.scaleGroups()}if(n){a4(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){this.drop(n)},onDocumentMouseMove:function(p){var n=this.chart,s=this.chartPosition,r=n.hoverSeries,p=b(p);s&&r&&!this.inClass(p.target,"highcharts-tracker")&&!n.isInsidePlot(p.pageX-s.left-n.plotLeft,p.pageY-s.top-n.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(p){var n=this.chart,p=this.normalize(p);p.returnValue=!1;n.mouseIsDown==="mousedown"&&this.drag(p);(this.inClass(p.target,"highcharts-tracker")||n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop))&&!n.openMenu&&this.runPointActions(p)},inClass:function(p,n){for(var r;p;){if(r=aq(p,"class")){if(r.indexOf(n)!==-1){return !0}else{if(r.indexOf("highcharts-container")!==-1){return !1}}}p=p.parentNode}},onTrackerMouseOut:function(p){var n=this.chart.hoverSeries;if(n&&!n.options.stickyTracking&&!this.inClass(p.toElement||p.relatedTarget,"highcharts-tooltip")){n.onMouseOut()}},onContainerClick:function(x){var w=this.chart,v=w.hoverPoint,u=w.plotLeft,t=w.plotTop,s=w.inverted,r,p,n,x=this.normalize(x);x.cancelBubble=!0;if(!w.cancelClick){v&&this.inClass(x.target,"highcharts-tracker")?(r=this.chartPosition,p=v.plotX,n=v.plotY,av(v,{pageX:r.left+u+(s?w.plotWidth-n:p),pageY:r.top+t+(s?w.plotHeight-p:n)}),a5(v.series,"click",av(x,{point:v})),w.hoverPoint&&v.firePointEvent("click",x)):(av(x,this.getCoordinates(x)),w.isInsidePlot(x.chartX-u,x.chartY-t)&&a5(w,"click",x))}},onContainerTouchStart:function(p){var n=this.chart;p.touches.length===1?(p=this.normalize(p),n.isInsidePlot(p.chartX-n.plotLeft,p.chartY-n.plotTop)?(this.runPointActions(p),this.pinch(p)):this.reset()):p.touches.length===2&&this.pinch(p)},onContainerTouchMove:function(n){(n.touches.length===1||n.touches.length===2)&&this.pinch(n)},onDocumentTouchEnd:function(n){this.drop(n)},setDOMEvents:function(){var p=this,n=p.chart.container,r;this._events=r=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[am,"mousemove","onDocumentMouseMove"],[am,"mouseup","onDocumentMouseUp"]];a6&&r.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[am,"touchend","onDocumentTouchEnd"]);az(r,function(s){p["_"+s[2]]=function(t){p[s[2]](t)};s[1].indexOf("on")===0?s[0][s[1]]=p["_"+s[2]]:a7(s[0],s[1],p["_"+s[2]])})},destroy:function(){var n=this;az(n._events,function(p){p[1].indexOf("on")===0?p[0][p[1]]=null:a0(p[0],p[1],n["_"+p[2]])});delete n._events;clearInterval(n.tooltipTimeout)}};q.prototype={init:function(p,n){var u=this,t=n.itemStyle,s=ax(n.padding,8),r=n.itemMarginTop||0;this.options=n;if(n.enabled){u.baseline=bm(t.fontSize)+3+r,u.itemStyle=t,u.itemHiddenStyle=ap(t,n.itemHiddenStyle),u.itemMarginTop=r,u.padding=s,u.initialItemX=s,u.initialItemY=s-5,u.maxItemWidth=0,u.chart=p,u.itemHeight=0,u.lastLineHeight=0,u.render(),a7(u.chart,"endResize",function(){u.positionCheckboxes()})}},colorizeItem:function(z,x){var w=this.options,v=z.legendItem,u=z.legendLine,t=z.legendSymbol,s=this.itemHiddenStyle.color,w=x?w.itemStyle.color:s,r=x?z.color:s,s=z.options&&z.options.marker,p={stroke:r,fill:r},n;v&&v.css({fill:w,color:w});u&&u.attr({stroke:r});if(t){if(s&&t.isMarker){for(n in s=z.convertAttribs(s),s){v=s[n],v!==ar&&(p[n]=v)}}t.attr(p)}},positionItem:function(p){var n=this.options,u=n.symbolPadding,n=!n.rtl,t=p._legendItemPos,s=t[0],t=t[1],r=p.checkbox;p.legendGroup&&p.legendGroup.translate(n?s:this.legendWidth-s-2*u-4,t);if(r){r.x=s,r.y=t}},destroyItem:function(p){var n=p.checkbox;az(["legendItem","legendLine","legendSymbol","legendGroup"],function(r){p[r]&&(p[r]=p[r].destroy())});n&&bM(p.checkbox)},destroy:function(){var p=this.group,n=this.box;if(n){this.box=n.destroy()}if(p){this.group=p.destroy()}},positionCheckboxes:function(p){var n=this.group.alignAttr,s,r=this.clipHeight||this.legendHeight;if(n){s=n.translateY,az(this.allItems,function(v){var u=v.checkbox,t;u&&(t=s+u.y+(p||0)+3,a4(u,{left:n.translateX+v.legendItemWidth+u.x-20+"px",top:t+"px",display:t>s-6&&t<s+r-6?"":aV}))})}},renderTitle:function(){var p=this.padding,n=this.options.title,r=0;if(n.text){if(!this.title){this.title=this.chart.renderer.label(n.text,p-3,p-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)}p=this.title.getBBox();r=p.height;this.offsetWidth=p.width;this.contentGroup.attr({translateY:r})}this.titleHeight=r},renderItem:function(X){var D;var W=this,U=W.chart,T=U.renderer,S=W.options,R=S.layout==="horizontal",Q=S.symbolWidth,P=S.symbolPadding,O=W.itemStyle,N=W.itemHiddenStyle,M=W.padding,L=R?ax(S.itemDistance,8):0,K=!S.rtl,H=S.width,F=S.itemMarginBottom||0,J=W.itemMarginTop,p=W.initialItemX,z=X.legendItem,A=X.series||X,C=A.options,r=C.showCheckbox,x=S.useHTML;if(!z&&(X.legendGroup=T.g("legend-item").attr({zIndex:1}).add(W.scrollGroup),A.drawLegendSymbol(W,X),X.legendItem=z=T.text(S.labelFormat?bz(S.labelFormat,X):S.labelFormatter.call(X),K?Q+P:-P,W.baseline,x).css(ap(X.visible?O:N)).attr({align:K?"left":"right",zIndex:2}).add(X.legendGroup),(x?z:X.legendGroup).on("mouseover",function(){X.setState("hover");z.css(W.options.itemHoverStyle)}).on("mouseout",function(){z.css(X.visible?O:N);X.setState()}).on("click",function(n){var s=function(){X.setVisible()},n={browserEvent:n};X.firePointEvent?X.firePointEvent("legendItemClick",n,s):a5(X,"legendItemClick",n,s)}),W.colorizeItem(X,X.visible),C&&r)){X.checkbox=aT("input",{type:"checkbox",checked:X.selected,defaultChecked:X.selected},S.itemCheckboxStyle,U.container),a7(X.checkbox,"click",function(n){a5(X,"checkboxClick",{checked:n.target.checked},function(){X.select()})})}T=z.getBBox();D=X.legendItemWidth=S.itemWidth||Q+P+T.width+L+(r?20:0),S=D;W.itemHeight=Q=T.height;if(R&&W.itemX-p+S>(H||U.chartWidth-2*M-p)){W.itemX=p,W.itemY+=J+W.lastLineHeight+F,W.lastLineHeight=0}W.maxItemWidth=aw(W.maxItemWidth,S);W.lastItemY=J+W.itemY+F;W.lastLineHeight=aw(Q,W.lastLineHeight);X._legendItemPos=[W.itemX,W.itemY];R?W.itemX+=S:(W.itemY+=J+Q+F,W.lastLineHeight=Q);W.offsetWidth=H||aw((R?W.itemX-p-L:S)+M,W.offsetWidth)},render:function(){var D=this,C=D.chart,A=C.renderer,z=D.group,x,w,v,u,t=D.box,s=D.options,r=D.padding,p=s.borderWidth,n=s.backgroundColor;D.itemX=D.initialItemX;D.itemY=D.initialItemY;D.offsetWidth=0;D.lastItemY=0;if(!z){D.group=z=A.g("legend").attr({zIndex:7}).add(),D.contentGroup=A.g().attr({zIndex:1}).add(z),D.scrollGroup=A.g().add(D.contentGroup)}D.renderTitle();x=[];az(C.series,function(H){var F=H.options;F.showInLegend&&!au(F.linkedTo)&&(x=x.concat(H.legendItems||(F.legendType==="point"?H.data:H)))});ag(x,function(H,F){return(H.options&&H.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});s.reversed&&x.reverse();D.allItems=x;D.display=w=!!x.length;az(x,function(F){D.renderItem(F)});v=s.width||D.offsetWidth;u=D.lastItemY+D.lastLineHeight+D.titleHeight;u=D.handleOverflow(u);if(p||n){v+=r;u+=r;if(t){if(v>0&&u>0){t[t.isNew?"attr":"animate"](t.crisp(null,null,null,v,u)),t.isNew=!1}}else{D.box=t=A.rect(0,0,v,u,s.borderRadius,p||0).attr({stroke:s.borderColor,"stroke-width":p||0,fill:n||aV}).add(z).shadow(s.shadow),t.isNew=!0}t[w?"show":"hide"]()}D.legendWidth=v;D.legendHeight=u;az(x,function(F){D.positionItem(F)});w&&z.align(av({width:v,height:u},s),!0,"spacingBox");C.isResizing||this.positionCheckboxes()},handleOverflow:function(C){var A=this,z=this.chart,x=z.renderer,w=this.options,v=w.y,v=z.spacingBox.height+(w.verticalAlign==="top"?-v:v)-this.padding,u=w.maxHeight,t=this.clipRect,s=w.navigation,r=ax(s.animation,!0),p=s.arrowSize||12,n=this.nav;w.layout==="horizontal"&&(v/=2);u&&(v=bl(v,u));if(C>v&&!w.useHTML){this.clipHeight=z=v-20-this.titleHeight;this.pageCount=B(C/z);this.currentPage=ax(this.currentPage,1);this.fullHeight=C;if(!t){t=A.clipRect=x.clipRect(0,0,9999,0),A.contentGroup.clip(t)}t.attr({height:z});if(!n){this.nav=n=x.g().attr({zIndex:1}).add(this.group),this.up=x.symbol("triangle",0,0,p,p).on("click",function(){A.scroll(-1,r)}).add(n),this.pager=x.text("",15,10).css(s.style).add(n),this.down=x.symbol("triangle-down",0,0,p,p).on("click",function(){A.scroll(1,r)}).add(n)}A.scroll(0);C=v}else{if(n){t.attr({height:z.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return C},scroll:function(x,w){var v=this.pageCount,u=this.currentPage+x,t=this.clipHeight,s=this.options.navigation,r=s.activeColor,p=s.inactiveColor,s=this.pager,n=this.padding;u>v&&(u=v);if(u>0){w!==ar&&ah(w,this.chart),this.nav.attr({translateX:n,translateY:t+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:u===1?p:r}).css({cursor:u===1?"default":"pointer"}),s.attr({text:u+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:u===v?p:r}).css({cursor:u===v?"default":"pointer"}),t=-bl(t*(u-1),this.fullHeight-t+n)+1,this.scrollGroup.animate({translateY:t}),s.attr({text:u+"/"+v}),this.currentPage=u,this.positionCheckboxes(t)}}};a.prototype={init:function(p,n){var v,u=p.series;p.series=null;v=ap(a3,p);v.series=p.series=u;var u=v.chart,t=u.margin,t=aU(t)?t:[t,t,t,t];this.optionsMarginTop=ax(u.marginTop,t[0]);this.optionsMarginRight=ax(u.marginRight,t[1]);this.optionsMarginBottom=ax(u.marginBottom,t[2]);this.optionsMarginLeft=ax(u.marginLeft,t[3]);t=u.events;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=v;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;var s=this,r;s.index=j.length;j.push(s);u.reflow!==!1&&a7(s,"load",function(){s.initReflow()});if(t){for(r in t){a7(s,r,t[r])}}s.xAxis=[];s.yAxis=[];s.animation=bE?!1:ax(u.animation,!0);s.pointCount=0;s.counters=new aH;s.firstRender()},initSeries:function(p){var n=this.options.chart;(n=bv[p.type||n.type||n.defaultSeriesType])||ac(17,!0);n=new n;n.init(this,p);return n},addSeries:function(p,n,t){var s,r=this;p&&(n=ax(n,!0),a5(r,"addSeries",{options:p},function(){s=r.initSeries(p);r.isDirtyLegend=!0;r.linkSeries();n&&r.redraw(t)}));return s},addAxis:function(p,n,u,t){var s=n?"xAxis":"yAxis",r=this.options;new I(this,ap(p,{index:this[s].length,isX:n}));r[s]=aD(r[s]||{});r[s].push(p);ax(u,!0)&&this.redraw(t)},isInsidePlot:function(p,n,s){var r=s?n:p,p=s?p:n;return r>=0&&r<=this.plotWidth&&p>=0&&p<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&az(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(F){var D=this.axes,C=this.series,A=this.pointer,z=this.legend,x=this.isDirtyLegend,w,v,u=this.isDirtyBox,t=C.length,s=t,r=this.renderer,p=r.isHidden(),n=[];ah(F,this);p&&this.cloneRenderTo();for(this.layOutTitles();s--;){if(F=C[s],F.options.stacking&&(w=!0,F.isDirty)){v=!0;break}}if(v){for(s=t;s--;){if(F=C[s],F.options.stacking){F.isDirty=!0}}}az(C,function(H){H.isDirty&&H.options.legendType==="point"&&(x=!0)});if(x&&z.options.enabled){z.render(),this.isDirtyLegend=!1}w&&this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,az(D,function(H){H.setScale()})}this.adjustTickAmounts();this.getMargins();az(D,function(H){H.isDirty&&(u=!0)});az(D,function(H){if(H.isDirtyExtremes){H.isDirtyExtremes=!1,n.push(function(){a5(H,"afterSetExtremes",H.getExtremes())})}(u||w)&&H.redraw()})}u&&this.drawChartBox();az(C,function(H){H.isDirty&&H.visible&&(!H.isCartesian||H.xAxis)&&H.redraw()});A&&A.reset&&A.reset(!0);r.draw();a5(this,"redraw");p&&this.cloneRenderTo(!0);az(n,function(H){H.call()})},showLoading:function(p){var n=this.options,s=this.loadingDiv,r=n.loading;if(!s){this.loadingDiv=s=aT(bc,{className:"highcharts-loading"},av(r.style,{zIndex:10,display:aV}),this.container),this.loadingSpan=aT("span",null,r.labelStyle,s)}this.loadingSpan.innerHTML=p||n.lang.loading;if(!this.loadingShown){a4(s,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),bP(s,{opacity:r.style.opacity},{duration:r.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var p=this.options,n=this.loadingDiv;n&&bP(n,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){a4(n,{display:aV})}});this.loadingShown=!1},get:function(p){var n=this.axes,t=this.series,s,r;for(s=0;s<n.length;s++){if(n[s].options.id===p){return n[s]}}for(s=0;s<t.length;s++){if(t[s].options.id===p){return t[s]}}for(s=0;s<t.length;s++){r=t[s].points||[];for(n=0;n<r.length;n++){if(r[n].id===p){return r[n]}}}return null},getAxes:function(){var p=this,n=this.options,r=n.xAxis=aD(n.xAxis||{}),n=n.yAxis=aD(n.yAxis||{});az(r,function(t,s){t.index=s;t.isX=!0});az(n,function(t,s){t.index=s});r=r.concat(n);az(r,function(s){new I(p,s)});p.adjustTickAmounts()},getSelectedPoints:function(){var n=[];az(this.series,function(p){n=n.concat(bF(p.points||[],function(r){return r.selected}))});return n},getSelectedSeries:function(){return bF(this.series,function(n){return n.selected})},getStacks:function(){var n=this;az(n.yAxis,function(p){if(p.stacks&&p.hasVisibleSeries){p.oldStacks=p.stacks}});az(n.series,function(p){if(p.options.stacking&&(p.visible===!0||n.options.chart.ignoreHiddenSeries===!1)){p.stackKey=p.type+ax(p.options.stack,"")}})},showResetZoom:function(){var p=this,n=a3.lang,u=p.options.chart.resetZoomButton,t=u.theme,s=t.states,r=u.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=p.renderer.button(n.resetZoom,null,null,function(){p.zoomOut()},t,s&&s.hover).attr({align:u.position.align,title:n.resetZoomTitle}).add().align(u.position,!1,r)},zoomOut:function(){var n=this;a5(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(p){var n,t=this.pointer,s=!1,r;!p||p.resetSelection?az(this.axes,function(u){n=u.zoom()}):az(p.xAxis.concat(p.yAxis),function(u){var w=u.axis,v=w.isXAxis;if(t[v?"zoomX":"zoomY"]||t[v?"pinchX":"pinchY"]){n=w.zoom(u.min,u.max),w.displayBtn&&(s=!0)}});r=this.resetZoomButton;if(s&&!r){this.showResetZoom()}else{if(!s&&aU(r)){this.resetZoomButton=r.destroy()}}n&&this.redraw(ax(this.options.chart.animation,p&&p.animation,this.pointCount<100))},pan:function(p,n){var t=this,s=t.hoverPoints,r;s&&az(s,function(u){u.setState()});az(n==="xy"?[1,0]:[1],function(u){var C=p[u?"chartX":"chartY"],A=t[u?"xAxis":"yAxis"][0],z=t[u?"mouseDownX":"mouseDownY"],x=(A.pointRange||0)/2,w=A.getExtremes(),v=A.toValue(z-C,!0)+x,z=A.toValue(z+t[u?"plotWidth":"plotHeight"]-C,!0)-x;A.series.length&&v>bl(w.dataMin,w.min)&&z<aw(w.dataMax,w.max)&&(A.setExtremes(v,z,!1,!1,{trigger:"pan"}),r=!0);t[u?"mouseDownX":"mouseDownY"]=C});r&&t.redraw(!1);a4(t.container,{cursor:"move"})},setTitle:function(p,n){var r;var u=this,t=u.options,s;s=t.title=ap(t.title,p);r=t.subtitle=ap(t.subtitle,n),t=r;az([["title",p,s],["subtitle",n,t]],function(w){var v=w[0],z=u[v],x=w[1],w=w[2];z&&x&&(u[v]=z=z.destroy());w&&w.text&&!z&&(u[v]=u.renderer.text(w.text,0,0,w.useHTML).attr({align:w.align,"class":"highcharts-"+v,zIndex:w.zIndex||4}).css(w.style).add())});u.layOutTitles()},layOutTitles:function(){var p=0,n=this.title,u=this.subtitle,t=this.options,s=t.title,t=t.subtitle,r=this.spacingBox.width-44;if(n&&(n.css({width:(s.width||r)+"px"}).align(av({y:15},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign)){p=n.getBBox().height,p>=18&&p<=25&&(p=15)}u&&(u.css({width:(t.width||r)+"px"}).align(av({y:p+s.margin},t),!1,"spacingBox"),!t.floating&&!t.verticalAlign&&(p=B(p+u.getBBox().height)));this.titleOffset=p},getChartSize:function(){var p=this.options.chart,n=this.renderToClone||this.renderTo;this.containerWidth=aB(n,"width");this.containerHeight=aB(n,"height");this.chartWidth=aw(0,p.width||this.containerWidth||600);this.chartHeight=aw(0,ax(p.height,this.containerHeight>19?this.containerHeight:200))},cloneRenderTo:function(p){var n=this.renderToClone,r=this.container;p?n&&(this.renderTo.appendChild(r),bM(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),a4(n,{position:"absolute",top:"-9999px",display:"block"}),am.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var p,n=this.options.chart,t,s,r;this.renderTo=p=n.renderTo;r="highcharts-"+bJ++;if(g(p)){this.renderTo=p=am.getElementById(p)}p||ac(13,!0);t=bm(aq(p,"data-highcharts-chart"));!isNaN(t)&&j[t]&&j[t].destroy();aq(p,"data-highcharts-chart",this.index);p.innerHTML="";p.offsetWidth||this.cloneRenderTo();this.getChartSize();t=this.chartWidth;s=this.chartHeight;this.container=p=aT(bc,{className:"highcharts-container"+(n.className?" "+n.className:""),id:r},av({overflow:"hidden",width:t+"px",height:s+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},n.style),this.renderToClone||p);this._cursor=p.style.cursor;this.renderer=n.forExport?new bU(p,t,s,!0):new aQ(p,t,s);bE&&this.renderer.create(this,p,t,s)},getMargins:function(){var K=this.options.chart,J=K.spacingTop,F=K.spacingRight,D=K.spacingBottom,K=K.spacingLeft,C,A=this.legend,z=this.optionsMarginTop,x=this.optionsMarginLeft,w=this.optionsMarginRight,v=this.optionsMarginBottom,t=this.options.legend,s=ax(t.margin,10),r=t.x,p=t.y,n=t.align,L=t.verticalAlign,H=this.titleOffset;this.resetMargins();C=this.axisOffset;if(H&&!au(z)){this.plotTop=aw(this.plotTop,H+this.options.title.margin+J)}if(A.display&&!t.floating){if(n==="right"){if(!au(w)){this.marginRight=aw(this.marginRight,A.legendWidth-r+s+F)}}else{if(n==="left"){if(!au(x)){this.plotLeft=aw(this.plotLeft,A.legendWidth+r+s+K)}}else{if(L==="top"){if(!au(z)){this.plotTop=aw(this.plotTop,A.legendHeight+p+s+J)}}else{if(L==="bottom"&&!au(v)){this.marginBottom=aw(this.marginBottom,A.legendHeight-p+s+D)}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&az(this.axes,function(u){u.getOffset()});au(x)||(this.plotLeft+=C[3]);au(z)||(this.plotTop+=C[0]);au(v)||(this.marginBottom+=C[2]);au(w)||(this.marginRight+=C[1]);this.setChartSize()},initReflow:function(){function p(u){var w=t.width||aB(s,"width"),v=t.height||aB(s,"height"),u=u?u.target:a2;if(!n.hasUserSize&&w&&v&&(u===a2||u===am)){if(w!==n.containerWidth||v!==n.containerHeight){clearTimeout(r),n.reflowTimeout=r=setTimeout(function(){if(n.container){n.setSize(w,v,!1),n.hasUserSize=null}},100)}n.containerWidth=w;n.containerHeight=v}}var n=this,t=n.options.chart,s=n.renderTo,r;a7(a2,"resize",p);a7(n,"destroy",function(){a0(a2,"resize",p)})},setSize:function(p,n,v){var u=this,t,s,r;u.isResizing+=1;r=function(){u&&a5(u,"endResize",null,function(){u.isResizing-=1})};ah(v,u);u.oldChartHeight=u.chartHeight;u.oldChartWidth=u.chartWidth;if(au(p)){u.chartWidth=t=aw(0,at(p)),u.hasUserSize=!!t}if(au(n)){u.chartHeight=s=aw(0,at(n))}a4(u.container,{width:t+"px",height:s+"px"});u.setChartSize(!0);u.renderer.setSize(t,s,v);u.maxTicks=null;az(u.axes,function(w){w.isDirty=!0;w.setScale()});az(u.series,function(w){w.isDirty=!0});u.isDirtyLegend=!0;u.isDirtyBox=!0;u.getMargins();u.redraw(v);u.oldChartHeight=null;a5(u,"resize");aE===!1?r():setTimeout(r,aE&&aE.duration||500)},setChartSize:function(H){var F=this.inverted,D=this.renderer,C=this.chartWidth,A=this.chartHeight,z=this.options.chart,x=z.spacingTop,w=z.spacingRight,v=z.spacingBottom,u=z.spacingLeft,t=this.clipOffset,s,r,p,n;this.plotLeft=s=at(this.plotLeft);this.plotTop=r=at(this.plotTop);this.plotWidth=p=aw(0,at(C-s-this.marginRight));this.plotHeight=n=aw(0,at(A-r-this.marginBottom));this.plotSizeX=F?n:p;this.plotSizeY=F?p:n;this.plotBorderWidth=z.plotBorderWidth||0;this.spacingBox=D.spacingBox={x:u,y:x,width:C-u-w,height:A-x-v};this.plotBox=D.plotBox={x:s,y:r,width:p,height:n};C=2*aZ(this.plotBorderWidth/2);F=B(aw(C,t[3])/2);D=B(aw(C,t[0])/2);this.clipBox={x:F,y:D,width:aZ(this.plotSizeX-aw(C,t[1])/2-F),height:aZ(this.plotSizeY-aw(C,t[2])/2-D)};H||az(this.axes,function(J){J.setAxisSize();J.setAxisTranslation()})},resetMargins:function(){var p=this.options.chart,n=p.spacingRight,s=p.spacingBottom,r=p.spacingLeft;this.plotTop=ax(this.optionsMarginTop,p.spacingTop);this.marginRight=ax(this.optionsMarginRight,n);this.marginBottom=ax(this.optionsMarginBottom,s);this.plotLeft=ax(this.optionsMarginLeft,r);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var U=this.options.chart,T=this.renderer,S=this.chartWidth,R=this.chartHeight,Q=this.chartBackground,P=this.plotBackground,O=this.plotBorder,N=this.plotBGImage,M=U.borderWidth||0,L=U.backgroundColor,K=U.plotBackgroundColor,J=U.plotBackgroundImage,H=U.plotBorderWidth||0,D,A=this.plotLeft,C=this.plotTop,F=this.plotWidth,z=this.plotHeight,v=this.plotBox,w=this.clipRect,x=this.clipBox;D=M+(U.shadow?8:0);if(M||L){if(Q){Q.animate(Q.crisp(null,null,null,S-D,R-D))}else{Q={fill:L||aV};if(M){Q.stroke=U.borderColor,Q["stroke-width"]=M}this.chartBackground=T.rect(D/2,D/2,S-D,R-D,U.borderRadius,M).attr(Q).add().shadow(U.shadow)}}if(K){P?P.animate(v):this.plotBackground=T.rect(A,C,F,z,0).attr({fill:K}).add().shadow(U.plotShadow)}if(J){N?N.animate(v):this.plotBGImage=T.image(J,A,C,F,z).add()}w?w.animate({width:x.width,height:x.height}):this.clipRect=T.clipRect(x);if(H){O?O.animate(O.crisp(null,A,C,F,z)):this.plotBorder=T.rect(A,C,F,z,0,-H).attr({stroke:U.plotBorderColor,"stroke-width":H,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var p=this,n=p.options.chart,u,t=p.options.series,s,r;az(["inverted","angular","polar"],function(v){u=bv[n.type||n.defaultSeriesType];r=p[v]||n[v]||u&&u.prototype[v];for(s=t&&t.length;!r&&s--;){(u=bv[t[s].type])&&u.prototype[v]&&(r=!0)}p[v]=r})},linkSeries:function(){var p=this,n=p.series;az(n,function(r){r.linkedSeries.length=0});az(n,function(r){var s=r.options.linkedTo;if(g(s)&&(s=s===":previous"?p.series[r.index-1]:p.get(s))){s.linkedSeries.push(r),r.linkedParent=s}})},render:function(){var p=this,n=p.axes,v=p.renderer,u=p.options,t=u.labels,s=u.credits,r;p.setTitle();p.legend=new q(p,u.legend);p.getStacks();az(n,function(w){w.setScale()});p.getMargins();p.maxTicks=null;az(n,function(w){w.setTickPositions(!0);w.setMaxTicks()});p.adjustTickAmounts();p.getMargins();p.drawChartBox();p.hasCartesianSeries&&az(n,function(w){w.render()});if(!p.seriesGroup){p.seriesGroup=v.g("series-group").attr({zIndex:3}).add()}az(p.series,function(w){w.translate();w.setTooltipPoints();w.render()});t.items&&az(t.items,function(w){var A=av(t.style,w.style),z=bm(A.left)+p.plotLeft,x=bm(A.top)+p.plotTop+12;delete A.left;delete A.top;v.text(w.html,z,x).attr({zIndex:2}).css(A).add()});if(s.enabled&&!p.credits){r=s.href,p.credits=v.text(s.text,0,0).on("click",function(){if(r){location.href=r}}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)}p.hasRendered=!0},destroy:function(){var p=this,n=p.axes,u=p.series,t=p.container,s,r=t&&t.parentNode;a5(p,"destroy");j[p.index]=ar;p.renderTo.removeAttribute("data-highcharts-chart");a0(p);for(s=n.length;s--;){n[s]=n[s].destroy()}for(s=u.length;s--;){u[s]=u[s].destroy()}az("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(v){var w=p[v];w&&w.destroy&&(p[v]=w.destroy())});if(t){t.innerHTML="",a0(t),r&&bM(t)}for(s in p){delete p[s]}},isReadyToRender:function(){var n=this;return !aO&&a2==a2.top&&am.readyState!=="complete"||bE&&!a2.canvg?(bE?bK.push(function(){n.firstRender()},n.options.global.canvasToolsURL):am.attachEvent("onreadystatechange",function(){am.detachEvent("onreadystatechange",n.firstRender);am.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var p=this,n=p.options,r=p.callback;if(p.isReadyToRender()){p.getContainer(),a5(p,"init"),p.resetMargins(),p.setChartSize(),p.propFromSeries(),p.getAxes(),az(n.series||[],function(s){p.initSeries(s)}),p.linkSeries(),a5(p,"beforeRender"),p.pointer=new ai(p,n),p.render(),p.renderer.draw(),r&&r.apply(p,[p]),az(p.callbacks,function(s){s.apply(p,[p])}),p.cloneRenderTo(!0),a5(p,"load")}}};a.prototype.callbacks=[];var aM=function(){};aM.prototype={init:function(p,n,r){this.series=p;this.applyOptions(n,r);this.pointAttr={};if(p.options.colorByPoint&&(n=p.options.colors||p.chart.options.colors,this.color=this.color||n[p.colorCounter++],p.colorCounter===n.length)){p.colorCounter=0}p.chart.pointCount++;return this},applyOptions:function(p,n){var s=this.series,r=s.pointValKey,p=aM.prototype.optionsToObject.call(this,p);av(this,p);this.options=this.options?av(this.options,p):p;if(r){this.y=this[r]}if(this.x===ar&&s){this.x=n===ar?s.autoIncrement():n}return this},optionsToObject:function(p){var n,v=this.series,u=v.pointArrayMap||["y"],t=u.length,s=0,r=0;if(typeof p==="number"||p===null){n={y:p}}else{if(bD(p)){n={};if(p.length>t){v=typeof p[0];if(v==="string"){n.name=p[0]}else{if(v==="number"){n.x=p[0]}}s++}for(;r<t;){n[u[r++]]=p[s++]}}else{if(typeof p==="object"){n=p;if(p.dataLabels){v._hasPointLabels=!0}if(p.marker){v._hasPointMarkers=!0}}}}return n},destroy:function(){var p=this.series.chart,n=p.hoverPoints,r;p.pointCount--;if(n&&(this.setState(),by(n,this),!n.length)){p.hoverPoints=null}if(this===p.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){a0(this),this.destroyElements()}this.legendItem&&p.legend.destroyItem(this);for(r in this){this[r]=null}},destroyElements:function(){for(var p="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n,r=6;r--;){n=p[r],this[n]&&(this[n]=this[n].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(p,n){var t=this,s=t.series,r=s.chart,p=ax(p,!t.selected);t.firePointEvent(p?"select":"unselect",{accumulate:n},function(){t.selected=t.options.selected=p;s.options.data[aG(t,s.data)]=t.options;t.setState(p&&"select");n||az(r.getSelectedPoints(),function(u){if(u.selected&&u!==t){u.selected=u.options.selected=!1,s.options.data[aG(u,s.data)]=u.options,u.setState(""),u.firePointEvent("unselect")}})})},onMouseOver:function(p){var n=this.series,t=n.chart,s=t.tooltip,r=t.hoverPoint;if(r&&r!==this){r.onMouseOut()}this.firePointEvent("mouseOver");s&&(!s.shared||n.noSharedTooltip)&&s.refresh(this,p);this.setState("hover");t.hoverPoint=this},onMouseOut:function(){var p=this.series.chart,n=p.hoverPoints;if(!n||aG(this,n)===-1){this.firePointEvent("mouseOut"),this.setState(),p.hoverPoint=null}},tooltipFormatter:function(p){var n=this.series,u=n.tooltipOptions,t=ax(u.valueDecimals,""),s=u.valuePrefix||"",r=u.valueSuffix||"";az(n.pointArrayMap||["y"],function(v){v="{point."+v;if(s||r){p=p.replace(v+"}",s+v+"}"+r)}p=p.replace(v+"}",v+":,."+t+"f}")});return bz(p,{point:this,series:this.series})},update:function(z,x,w){var v=this,u=v.series,t=v.graphic,s,r=u.data,p=u.chart,n=u.options,x=ax(x,!0);v.firePointEvent("update",{options:z},function(){v.applyOptions(z);if(aU(z)&&(u.getAttribs(),t)){z.marker&&z.marker.symbol?v.graphic=t.destroy():t.attr(v.pointAttr[u.state])}s=aG(v,r);u.xData[s]=v.x;u.yData[s]=u.toYData?u.toYData(v):v.y;u.zData[s]=v.z;n.data[s]=v.options;u.isDirty=u.isDirtyData=p.isDirtyBox=!0;n.legendType==="point"&&p.legend.destroyItem(v);x&&p.redraw(w)})},remove:function(p,n){var v=this,u=v.series,t=u.chart,s,r=u.data;ah(n,t);p=ax(p,!0);v.firePointEvent("remove",null,function(){s=aG(v,r);r.splice(s,1);u.options.data.splice(s,1);u.xData.splice(s,1);u.yData.splice(s,1);u.zData.splice(s,1);v.destroy();u.isDirty=!0;u.isDirtyData=!0;p&&t.redraw()})},firePointEvent:function(p,n,t){var s=this,r=this.series.options;(r.point.events[p]||s.options&&s.options.events&&s.options.events[p])&&this.importEvents();p==="click"&&r.allowPointSelect&&(t=function(u){s.select(null,u.ctrlKey||u.metaKey||u.shiftKey)});a5(this,p,n,t)},importEvents:function(){if(!this.hasImportedEvents){var p=ap(this.series.options.point,this.options).events,n;this.events=p;for(n in p){a7(this,n,p[n])}this.hasImportedEvents=!0}},setState:function(D){var C=this.plotX,A=this.plotY,z=this.series,x=z.options.states,w=aP[z.type].marker&&z.options.marker,v=w&&!w.enabled,u=w&&w.states[D],t=u&&u.enabled===!1,s=z.stateMarkerGraphic,r=this.marker||{},p=z.chart,n=this.pointAttr,D=D||"";if(!(D===this.state||this.selected&&D!=="select"||x[D]&&x[D].enabled===!1||D&&(t||v&&!u.enabled))){if(this.graphic){x=w&&this.graphic.symbolName&&n[D].r,this.graphic.attr(ap(n[D],x?{x:C-x,y:A-x,width:2*x,height:2*x}:{}))}else{if(D&&u){x=u.radius,r=r.symbol||z.symbol,s&&s.currentSymbol!==r&&(s=s.destroy()),s?s.attr({x:C-x,y:A-x}):(z.stateMarkerGraphic=s=p.renderer.symbol(r,C-x,A-x,2*x,2*x).attr(n[D]).add(z.markerGroup),s.currentSymbol=r)}if(s){s[D&&p.isInsidePlot(C,A)?"show":"hide"]()}}this.state=D}}};var aX=function(){};aX.prototype={isCartesian:!0,type:"line",pointClass:aM,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(p,n){var t,s,r=p.series;this.chart=p;this.options=n=this.setOptions(n);this.linkedSeries=[];this.bindAxes();av(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(bE){n.animation=!1}s=n.events;for(t in s){a7(this,t,s[t])}if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect){p.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian){p.hasCartesianSeries=!0}r.push(this);this._i=r.length-1;ag(r,function(v,u){return ax(v.options.index,v._i)-ax(u.options.index,v._i)});az(r,function(v,u){v.index=u;v.name=v.name||"Series "+(u+1)})},bindAxes:function(){var p=this,n=p.options,s=p.chart,r;p.isCartesian&&az(["xAxis","yAxis"],function(t){az(s[t],function(u){r=u.options;if(n[t]===r.index||n[t]!==ar&&n[t]===r.id||n[t]===ar&&r.index===0){u.series.push(p),p[t]=u,u.isDirty=!0}});p[t]||ac(18,!0)})},autoIncrement:function(){var p=this.options,n=this.xIncrement,n=ax(n,p.pointStart,0);this.pointInterval=ax(this.pointInterval,p.pointInterval,1);this.xIncrement=n+this.pointInterval;return n},getSegments:function(){var p=-1,n=[],t,s=this.points,r=s.length;if(r){if(this.options.connectNulls){for(t=r;t--;){s[t].y===null&&s.splice(t,1)}s.length&&(n=[s])}else{az(s,function(v,u){v.y===null?(u>p+1&&n.push(s.slice(p+1,u)),p=u):u===r-1&&n.push(s.slice(p+1,u+1))})}}this.segments=n},setOptions:function(p){var n=this.chart.options,s=n.plotOptions,r=s[this.type];this.userOptions=p;p=ap(r,s.series,p);this.tooltipOptions=ap(n.tooltip,p.tooltip);r.marker===null&&delete p.marker;return p},getColor:function(){var p=this.options,n=this.userOptions,t=this.chart.options.colors,s=this.chart.counters,r;r=p.color||aP[this.type].color;if(!r&&!p.colorByPoint){au(n._colorIndex)?p=n._colorIndex:(n._colorIndex=s.color,p=s.color++),r=t[p]}this.color=r;s.wrapColor(t.length)},getSymbol:function(){var p=this.userOptions,n=this.options.marker,s=this.chart,r=s.options.symbols,s=s.counters;this.symbol=n.symbol;if(!this.symbol){au(p._symbolIndex)?p=p._symbolIndex:(p._symbolIndex=s.symbol,p=s.symbol++),this.symbol=r[p]}if(/^url/.test(this.symbol)){n.radius=0}s.wrapSymbol(r.length)},drawLegendSymbol:function(p){var n=this.options,v=n.marker,u=p.options,t;t=u.symbolWidth;var s=this.chart.renderer,r=this.legendGroup,p=p.baseline-at(s.fontMetrics(u.itemStyle.fontSize).b*0.3);if(n.lineWidth){u={"stroke-width":n.lineWidth};if(n.dashStyle){u.dashstyle=n.dashStyle}this.legendLine=s.path(["M",0,p,"L",t,p]).attr(u).add(r)}if(v&&v.enabled){n=v.radius,this.legendSymbol=t=s.symbol(this.symbol,t/2-n,p-n,2*n,2*n).add(r),t.isMarker=!0}},addPoint:function(H,F,D,C){var A=this.options,z=this.data,x=this.graph,w=this.area,v=this.chart,u=this.xData,t=this.yData,s=this.zData,r=this.names,p=x&&x.shift||0,n=A.data;ah(C,v);D&&az([x,w,this.graphNeg,this.areaNeg],function(J){if(J){J.shift=p+1}});if(w){w.isArea=!0}F=ax(F,!0);C={series:this};this.pointClass.prototype.applyOptions.apply(C,[H]);u.push(C.x);t.push(this.toYData?this.toYData(C):C.y);s.push(C.z);if(r){r[C.x]=C.name}n.push(H);A.legendType==="point"&&this.generatePoints();D&&(z[0]&&z[0].remove?z[0].remove(!1):(z.shift(),u.shift(),t.shift(),s.shift(),n.shift()));this.isDirtyData=this.isDirty=!0;F&&(this.getAttribs(),v.redraw())},setData:function(H,F){var D=this.points,C=this.options,A=this.chart,z=null,x=this.xAxis,w=x&&x.categories&&!x.categories.length?[]:null,v;this.xIncrement=null;this.pointRange=x&&x.categories?1:C.pointRange;this.colorCounter=0;var u=[],t=[],s=[],r=H?H.length:[];v=ax(C.turboThreshold,1000);var p=this.pointArrayMap,p=p&&p.length,n=!!this.toYData;if(v&&r>v){for(v=0;z===null&&v<r;){z=H[v],v++}if(m(z)){z=ax(C.pointStart,0);C=ax(C.pointInterval,1);for(v=0;v<r;v++){u[v]=z,t[v]=H[v],z+=C}this.xIncrement=z}else{if(bD(z)){if(p){for(v=0;v<r;v++){C=H[v],u[v]=C[0],t[v]=C.slice(1,p+1)}}else{for(v=0;v<r;v++){C=H[v],u[v]=C[0],t[v]=C[1]}}}else{ac(12)}}}else{for(v=0;v<r;v++){if(H[v]!==ar&&(C={series:this},this.pointClass.prototype.applyOptions.apply(C,[H[v]]),u[v]=C.x,t[v]=n?this.toYData(C):C.y,s[v]=C.z,w&&C.name)){w[C.x]=C.name}}}g(t[0])&&ac(14,!0);this.data=[];this.options.data=H;this.xData=u;this.yData=t;this.zData=s;this.names=w;for(v=D&&D.length||0;v--;){D[v]&&D[v].destroy&&D[v].destroy()}if(x){x.minRange=x.userMinRange}this.isDirty=this.isDirtyData=A.isDirtyBox=!0;ax(F,!0)&&A.redraw(!1)},remove:function(p,n){var s=this,r=s.chart,p=ax(p,!0);if(!s.isRemoving){s.isRemoving=!0,a5(s,"remove",null,function(){s.destroy();r.isDirtyLegend=r.isDirtyBox=!0;r.linkSeries();p&&r.redraw(n)})}s.isRemoving=!1},processData:function(A){var z=this.xData,x=this.yData,w=z.length,v;v=0;var u,t,s=this.xAxis,r=this.options,p=r.cropThreshold,n=this.isCartesian;if(n&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!A){return !1}if(n&&this.sorted&&(!p||w>p||this.forceCrop)){if(A=s.min,s=s.max,z[w-1]<A||z[0]>s){z=[],x=[]}else{if(z[0]<A||z[w-1]>s){v=this.cropData(this.xData,this.yData,A,s),z=v.xData,x=v.yData,v=v.start,u=!0}}}for(s=z.length-1;s>=0;s--){w=z[s]-z[s-1],w>0&&(t===ar||w<t)?t=w:w<0&&this.requireSorting&&ac(15)}this.cropped=u;this.cropStart=v;this.processedXData=z;this.processedYData=x;if(r.pointRange===null){this.pointRange=t||1}this.closestPointRange=t},cropData:function(p,n,w,v){var u=p.length,t=0,s=u,r;for(r=0;r<u;r++){if(p[r]>=w){t=aw(0,r-1);break}}for(;r<u;r++){if(p[r]>v){s=r+1;break}}return{xData:p.slice(t,s),yData:n.slice(t,s),start:t,end:s}},generatePoints:function(){var D=this.options.data,C=this.data,A,z=this.processedXData,x=this.processedYData,w=this.pointClass,v=z.length,u=this.cropStart||0,t,s=this.hasGroupedData,r,p=[],n;if(!C&&!s){C=[],C.length=D.length,C=this.data=C}for(n=0;n<v;n++){t=u+n,s?p[n]=(new w).init(this,[z[n]].concat(aD(x[n]))):(C[t]?r=C[t]:D[t]!==ar&&(C[t]=r=(new w).init(this,D[t],z[n])),p[n]=r)}if(C&&(v!==(A=C.length)||s)){for(n=0;n<A;n++){if(n===u&&!s&&(n+=v),C[n]){C[n].destroyElements(),C[n].plotX=ar}}}this.data=C;this.points=p},setStackedPoints:function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var M=this.processedXData,L=this.processedYData,K=L.length,J=this.options,H=J.threshold,F=J.stack,J=J.stacking,D=this.stackKey,C="-"+D,A=this.yAxis,z=A.stacks,x=A.oldStacks,w=A.stackExtremes,v,t,r,s,u;for(r=0;r<K;r++){s=M[r];u=L[r];t=(v=this.negStacks&&u<H)?C:D;typeof u==="number"&&!w[D]&&(w[D]={dataMin:u,dataMax:u});z[t]||(z[t]={});if(!z[t][s]){x[t]&&x[t][s]?(z[t][s]=x[t][s],z[t][s].total=null):z[t][s]=new bW(A,A.options.stackLabels,v,s,F,J)}t=z[t][s];v=t.total;t.addValue(u||0);t.cacheExtremes(this,[v,v+(u||0)]);if(typeof u==="number"){w[D].dataMin=bl(w[D].dataMin,t.total,u),w[D].dataMax=aw(w[D].dataMax,t.total,u)}}A.oldStacks={}}},getExtremes:function(){var F=this.yAxis,D=this.stackKey,C,A,z=this.options,x=F.isLog?null:z.threshold,w=this.processedXData,v=this.processedYData,u=v.length,t=[],s=0,r=this.xAxis.getExtremes(),p=r.min,r=r.max,n;if(z.stacking){C=F.stackExtremes[D],A=C.dataMin,C=C.dataMax,A=bl(A,ax(x,A)),C=aw(C,ax(x,C))}if(!au(A)||!au(C)){for(D=0;D<u;D++){if(n=w[D],x=v[D],z=x!==null&&x!==ar&&(!F.isLog||x.length||x>0),n=this.getExtremesFromAll||this.cropped||(w[D+1]||n)>=p&&(w[D-1]||n)<=r,z&&n){if(z=x.length){for(;z--;){x[z]!==null&&(t[s++]=x[z])}}else{t[s++]=x}}}A=ax(A,bj(t));C=ax(C,aL(t))}this.dataMin=A;this.dataMax=C},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var M=this.options,L=M.stacking,K=this.xAxis,J=K.categories,H=this.yAxis,F=this.points,D=F.length,C=!!this.modifyValue,A=M.pointPlacement,z=A==="between"||m(A),x=M.threshold,M=0;M<D;M++){var w=F[M],v=w.x,t=w.y,s=w.low,u=H.stacks[(this.negStacks&&t<x?"-":"")+this.stackKey],p;if(H.isLog&&t<=0){w.y=t=null}w.plotX=K.translate(v,0,0,0,1,A);if(L&&this.visible&&u&&u[v]){u=u[v],p=u.total,u.cum=s=u.cum-t,t=s+t,u.cum===0&&(s=ax(x,H.min)),H.isLog&&s<=0&&(s=null),L==="percent"&&(s=p?s*100/p:0,t=p?t*100/p:0),w.percentage=p?w.y*100/p:0,w.total=w.stackTotal=p,w.stackY=t,u.setOffset(this.pointXOffset||0,this.barW||0)}w.yBottom=au(s)?H.translate(s,0,1,0,1):null;C&&(t=this.modifyValue(t,w));w.plotY=typeof t==="number"&&t!==Infinity?H.translate(t,0,1,0,1):ar;w.clientX=z?K.translate(v,0,0,0,1):w.plotX;w.negative=w.y<(x||0);w.category=J&&J[w.x]!==ar?J[w.x]:w.x}this.getSegments()},setTooltipPoints:function(x){var w=[],v,u,t=(v=this.xAxis)?v.tooltipLen||v.len:this.chart.plotSizeX,s,r,p,n=[];if(this.options.enableMouseTracking!==!1){if(x){this.tooltipPoints=null}az(this.segments||this.points,function(z){w=w.concat(z)});v&&v.reversed&&(w=w.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(w);x=w.length;for(p=0;p<x;p++){s=w[p];r=w[p+1];v=w[p-1]?u+1:0;for(u=w[p+1]?bl(aw(0,aZ((s.clientX+(r?r.wrappedClientX||r.clientX:t))/2)),t):t;v>=0&&v<=u;){n[v++]=s}}this.tooltipPoints=n}},tooltipHeaderFormatter:function(p){var n=this.tooltipOptions,v=n.xDateFormat,u=n.dateTimeLabelFormats,t=this.xAxis,s=t&&t.options.type==="datetime",n=n.headerFormat,t=t&&t.closestPointRange,r;if(s&&!v){if(t){for(r in bd){if(bd[r]>=t){v=u[r];break}}}else{v=u.day}}s&&v&&m(p.key)&&(n=n.replace("{point.key}","{point.key:"+v+"}"));return bz(n,{point:p,series:this})},onMouseOver:function(){var p=this.chart,n=p.hoverSeries;if(n&&n!==this){n.onMouseOut()}this.options.events.mouseOver&&a5(this,"mouseOver");this.setState("hover");p.hoverSeries=this},onMouseOut:function(){var p=this.options,n=this.chart,s=n.tooltip,r=n.hoverPoint;if(r){r.onMouseOut()}this&&p.events.mouseOut&&a5(this,"mouseOut");s&&!p.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide();this.setState();n.hoverSeries=null},animate:function(p){var n=this,w=n.chart,v=w.renderer,u;u=n.options.animation;var t=w.clipBox,s=w.inverted,r;if(u&&!aU(u)){u=aP[n.type].animation}r="_sharedClip"+u.duration+u.easing;if(p){p=w[r],u=w[r+"m"],p||(w[r]=p=v.clipRect(av(t,{width:0})),w[r+"m"]=u=v.clipRect(-99,s?-w.plotLeft:-w.plotTop,99,s?w.chartWidth:w.chartHeight)),n.group.clip(p),n.markerGroup.clip(u),n.sharedClipKey=r}else{if(p=w[r]){p.animate({width:w.plotSizeX},u),w[r+"m"].animate({width:w.plotSizeX+99},u)}n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},u.duration)}},afterAnimate:function(){var p=this.chart,n=this.sharedClipKey,r=this.group;r&&this.options.clip!==!1&&(r.clip(p.clipRect),this.markerGroup.clip());setTimeout(function(){n&&p[n]&&(p[n]=p[n].destroy(),p[n+"m"]=p[n+"m"].destroy())},100)},drawPoints:function(){var F,D=this.points,C=this.chart,A,z,x,w,v,u,t,s,r=this.options.marker,p,n=this.markerGroup;if(r.enabled||this._hasPointMarkers){for(x=D.length;x--;){if(w=D[x],A=aZ(w.plotX),z=w.plotY,s=w.graphic,u=w.marker||{},F=r.enabled&&u.enabled===ar||u.enabled,p=C.isInsidePlot(at(A),z,C.inverted),F&&z!==ar&&!isNaN(z)&&w.y!==null){if(F=w.pointAttr[w.selected?"select":""],v=F.r,u=ax(u.symbol,this.symbol),t=u.indexOf("url")===0,s){s.attr({visibility:p?aO?"inherit":"visible":"hidden"}).animate(av({x:A-v,y:z-v},s.symbolName?{width:2*v,height:2*v}:{}))}else{if(p&&(v>0||t)){w.graphic=C.renderer.symbol(u,A-v,z-v,2*v,2*v).attr(F).add(n)}}}else{if(s){w.graphic=s.destroy()}}}}},convertAttribs:function(p,n,w,v){var u=this.pointAttrToOptions,t,s,r={},p=p||{},n=n||{},w=w||{},v=v||{};for(t in u){s=u[t],r[t]=ax(p[s],n[t],w[t],v[t])}return r},getAttribs:function(){var F=this,D=F.options,C=aP[F.type].marker?D.marker:D,A=C.states,z=A.hover,x,w=F.color,v={stroke:w,fill:w},u=F.points||[],t=[],s,r=F.pointAttrToOptions,p=D.negativeColor,n;D.marker?(z.radius=z.radius||C.radius+2,z.lineWidth=z.lineWidth||C.lineWidth+1):z.color=z.color||af(z.color||w).brighten(z.brightness).get();t[""]=F.convertAttribs(C,v);az(["hover","select"],function(H){t[H]=F.convertAttribs(A[H],t[""])});F.pointAttr=t;for(w=u.length;w--;){v=u[w];if((C=v.options&&v.options.marker||v.options)&&C.enabled===!1){C.radius=0}if(v.negative&&p){v.color=v.fillColor=p}x=D.colorByPoint||v.color;if(v.options){for(n in r){au(C[r[n]])&&(x=!0)}}if(x){C=C||{};s=[];A=C.states||{};x=A.hover=A.hover||{};if(!D.marker){x.color=af(x.color||v.color).brighten(x.brightness||z.brightness).get()}s[""]=F.convertAttribs(av({color:v.color},C),t[""]);s.hover=F.convertAttribs(A.hover,t.hover,s[""]);s.select=F.convertAttribs(A.select,t.select,s[""]);if(v.negative&&D.marker&&p){s[""].fill=s.hover.fill=s.select.fill=F.convertAttribs({fillColor:p}).fill}}else{s=t}v.pointAttr=s}},update:function(p,n){var s=this.chart,r=this.type,p=ap(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},p);this.remove(!1);av(this,bv[p.type||r].prototype);this.init(s,p);ax(n,!0)&&s.redraw(!1)},destroy:function(){var x=this,w=x.chart,v=/AppleWebKit\/533/.test(ad),u,t,s=x.data||[],r,p,n;a5(x,"destroy");a0(x);az(["xAxis","yAxis"],function(z){if(n=x[z]){by(n.series,x),n.isDirty=n.forceRedraw=!0}});x.legendItem&&x.chart.legend.destroyItem(x);for(t=s.length;t--;){(r=s[t])&&r.destroy&&r.destroy()}x.points=null;clearTimeout(x.animationTimeout);az("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(z){x[z]&&(u=v&&z==="group"?"hide":"destroy",x[z][u]())});if(w.hoverSeries===x){w.hoverSeries=null}by(w.series,x);for(p in x){delete x[p]}},drawDataLabels:function(){var p=this,n=p.options.dataLabels,v=p.points,u,t,s,r;if(n.enabled||p._hasPointLabels){p.dlProcessOptions&&p.dlProcessOptions(n),r=p.plotGroup("dataLabelsGroup","data-labels",p.visible?"visible":"hidden",n.zIndex||6),t=n,az(v,function(F){var C,A=F.dataLabel,z,x,w=F.connector,D=!0;u=F.options&&F.options.dataLabels;C=t.enabled||u&&u.enabled;if(A&&!C){F.dataLabel=A.destroy()}else{if(C){n=ap(t,u);C=n.rotation;z=F.getLabelConfig();s=n.format?bz(n.format,z):n.formatter.call(z,n);n.style.color=ax(n.color,n.style.color,p.color,"black");if(A){if(au(s)){A.attr({text:s}),D=!1}else{if(F.dataLabel=A=A.destroy(),w){F.connector=w.destroy()}}}else{if(au(s)){A={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:C,padding:n.padding,zIndex:1};for(x in A){A[x]===ar&&delete A[x]}A=F.dataLabel=p.chart.renderer[C?"text":"label"](s,0,-999,null,null,null,n.useHTML).attr(A).css(n.style).add(r).shadow(n.shadow)}}A&&p.alignDataLabel(F,A,n,null,D)}}})}},alignDataLabel:function(x,w,v,u,t){var s=this.chart,r=s.inverted,p=ax(x.plotX,-999),n=ax(x.plotY,-999),x=w.getBBox(),u=av({x:r?s.plotWidth-n:p,y:at(r?s.plotHeight-p:n),width:0,height:0},u);av(v,{width:x.width,height:x.height});v.rotation?(u={align:v.align,x:u.x+v.x+u.width/2,y:u.y+v.y+u.height/2},w[t?"attr":"animate"](u)):(w.align(v,null,u),u=w.alignAttr);w.attr({visibility:v.crop===!1||s.isInsidePlot(u.x,u.y)&&s.isInsidePlot(u.x+x.width,u.y+x.height)?s.renderer.isSVG?"inherit":"visible":"hidden"})},getSegmentPath:function(p){var n=this,s=[],r=n.options.step;az(p,function(x,w){var v=x.plotX,u=x.plotY,t;n.getPointSpline?s.push.apply(s,n.getPointSpline(p,x,w)):(s.push(w?"L":"M"),r&&w&&(t=p[w-1],r==="right"?s.push(t.plotX,u):r==="center"?s.push((t.plotX+v)/2,t.plotY,(t.plotX+v)/2,u):s.push(v,t.plotY)),s.push(x.plotX,x.plotY))});return s},getGraphPath:function(){var p=this,n=[],s,r=[];az(p.segments,function(t){s=p.getSegmentPath(t);t.length>1?n=n.concat(s):r.push(t[0])});p.singlePoints=r;return p.graphPath=n},drawGraph:function(){var p=this,n=this.options,v=[["graph",n.lineColor||this.color]],u=n.lineWidth,t=n.dashStyle,s=this.getGraphPath(),r=n.negativeColor;r&&v.push(["graphNeg",r]);az(v,function(A,z){var x=A[0],w=p[x];if(w){ao(w),w.animate({d:s})}else{if(u&&s.length){w={stroke:A[1],"stroke-width":u,zIndex:1};if(t){w.dashstyle=t}p[x]=p.chart.renderer.path(s).attr(w).add(p.group).shadow(!z&&n.shadow)}}})},clipNeg:function(){var C=this.options,A=this.chart,z=A.renderer,x=C.negativeColor||C.negativeFillColor,w,v=this.graph,u=this.area,t=this.posClip,s=this.negClip;w=A.chartWidth;var r=A.chartHeight,p=aw(w,r),n=this.yAxis;if(x&&(v||u)){x=at(n.toPixels(C.threshold||0,!0));C={x:0,y:0,width:p,height:x};p={x:0,y:x,width:p,height:p};if(A.inverted){C.height=p.y=A.plotWidth-x,z.isVML&&(C={x:A.plotWidth-x-A.plotLeft,y:0,width:w,height:r},p={x:x+A.plotLeft-w,y:0,width:A.plotLeft+x,height:w})}n.reversed?(A=p,w=C):(A=C,w=p);t?(t.animate(A),s.animate(w)):(this.posClip=t=z.clipRect(A),this.negClip=s=z.clipRect(w),v&&this.graphNeg&&(v.clip(t),this.graphNeg.clip(s)),u&&(u.clip(t),this.areaNeg.clip(s)))}},invertGroups:function(){function p(){var s={width:n.yAxis.len,height:n.xAxis.len};az(["group","markerGroup"],function(t){n[t]&&n[t].attr(s).invert()})}var n=this,r=n.chart;if(n.xAxis){a7(r,"resize",p),a7(n,"destroy",function(){a0(r,"resize",p)}),p(),n.invertGroups=p}},plotGroup:function(p,n,v,u,t){var s=this[p],r=!s;r&&(this[p]=s=this.chart.renderer.g(n).attr({visibility:v,zIndex:u||0.1}).add(t));s[r?"attr":"animate"](this.getPlotBox());return s},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var p=this.chart,n,w=this.options,v=w.animation&&!!this.animate&&p.renderer.isSVG,u=this.visible?"visible":"hidden",t=w.zIndex,s=this.hasRendered,r=p.seriesGroup;n=this.plotGroup("group","series",u,t,r);this.markerGroup=this.plotGroup("markerGroup","markers",u,t,r);v&&this.animate(!0);this.getAttribs();n.inverted=this.isCartesian?p.inverted:!1;this.drawGraph&&(this.drawGraph(),this.clipNeg());this.drawDataLabels();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();p.inverted&&this.invertGroups();w.clip!==!1&&!this.sharedClipKey&&!s&&n.clip(p.clipRect);v?this.animate():s||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var p=this.chart,n=this.isDirtyData,t=this.group,s=this.xAxis,r=this.yAxis;t&&(p.inverted&&t.attr({width:p.plotWidth,height:p.plotHeight}),t.animate({translateX:ax(s&&s.left,p.plotLeft),translateY:ax(r&&r.top,p.plotTop)}));this.translate();this.setTooltipPoints(!0);this.render();n&&a5(this,"updatedData")},setState:function(p){var n=this.options,t=this.graph,s=this.graphNeg,r=n.states,n=n.lineWidth,p=p||"";if(this.state!==p){this.state=p,r[p]&&r[p].enabled===!1||(p&&(n=r[p].lineWidth||n+1),t&&!t.dashstyle&&(p={"stroke-width":n},t.attr(p),s&&s.attr(p)))}},setVisible:function(p,n){var w=this,v=w.chart,u=w.legendItem,t,s=v.options.chart.ignoreHiddenSeries,r=w.visible;t=(w.visible=p=w.userOptions.visible=p===ar?!r:p)?"show":"hide";az(["group","dataLabelsGroup","markerGroup","tracker"],function(x){if(w[x]){w[x][t]()}});if(v.hoverSeries===w){w.onMouseOut()}u&&v.legend.colorizeItem(w,p);w.isDirty=!0;w.options.stacking&&az(v.series,function(x){if(x.options.stacking&&x.visible){x.isDirty=!0}});az(w.linkedSeries,function(x){x.setVisible(p,!1)});if(s){v.isDirtyBox=!0}n!==!1&&v.redraw();a5(w,t)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===ar?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}a5(this,n?"select":"unselect")},drawTracker:function(){var F=this,D=F.options,C=D.trackByArea,A=[].concat(C?F.areaPath:F.graphPath),z=A.length,x=F.chart,w=x.pointer,v=x.renderer,u=x.options.tooltip.snap,t=F.tracker,s=D.cursor,r=s&&{cursor:s},s=F.singlePoints,p,n=function(){if(x.hoverSeries!==F){F.onMouseOver()}};if(z&&!C){for(p=z+1;p--;){A[p]==="M"&&A.splice(p+1,0,A[p+1]-u,A[p+2],"L"),(p&&A[p]==="M"||p===z)&&A.splice(p,0,"L",A[p-2]+u,A[p-1])}}for(p=0;p<s.length;p++){z=s[p],A.push("M",z.plotX-u,z.plotY,"L",z.plotX+u,z.plotY)}t?t.attr({d:A}):(F.tracker=v.path(A).attr({"stroke-linejoin":"round",visibility:F.visible?"visible":"hidden",stroke:aj,fill:C?aj:aV,"stroke-width":D.lineWidth+(C?0:2*u),zIndex:2}).add(F.group),az([F.tracker,F.markerGroup],function(H){H.addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(J){w.onTrackerMouseOut(J)}).css(r);if(a6){H.on("touchstart",n)}}))}};be=a9(aX);bv.line=be;aP.area=ap(aR,{threshold:0});be=a9(aX,{type:"area",getSegments:function(){var D=[],C=[],A=[],z=this.xAxis,x=this.yAxis,w=x.stacks[this.stackKey],v={},u,t,s=this.points,r,p,n;if(this.options.stacking&&!this.cropped){for(p=0;p<s.length;p++){v[s[p].x]=s[p]}for(n in w){A.push(+n)}A.sort(function(H,F){return H-F});az(A,function(F){v[F]?C.push(v[F]):(u=z.translate(F),r=w[F].percent?w[F].total?w[F].cum*100/w[F].total:0:w[F].cum,t=x.toPixels(r,!0),C.push({y:null,plotX:u,clientX:u,plotY:t,yBottom:t,onMouseOver:bL}))});C.length&&D.push(C)}else{aX.prototype.getSegments.call(this),D=this.segments}this.segments=D},getSegmentPath:function(p){var n=aX.prototype.getSegmentPath.call(this,p),t=[].concat(n),s,r=this.options;n.length===3&&t.push("L",n[1],n[2]);if(r.stacking&&!this.closedStacks){for(s=p.length-1;s>=0;s--){s<p.length-1&&r.step&&t.push(p[s+1].plotX,p[s].yBottom),t.push(p[s].plotX,p[s].yBottom)}}else{this.closeSegment(t,p)}this.areaPath=this.areaPath.concat(t);return n},closeSegment:function(p,n){var r=this.yAxis.getThreshold(this.options.threshold);p.push("L",n[n.length-1].plotX,r,"L",n[0].plotX,r)},drawGraph:function(){this.areaPath=[];aX.prototype.drawGraph.apply(this);var p=this,n=this.areaPath,u=this.options,t=u.negativeColor,s=u.negativeFillColor,r=[["area",this.color,u.fillColor]];(t||s)&&r.push(["areaNeg",t,s]);az(r,function(x){var w=x[0],v=p[w];v?v.animate({d:n}):p[w]=p.chart.renderer.path(n).attr({fill:ax(x[2],af(x[1]).setOpacity(ax(u.fillOpacity,0.75)).get()),zIndex:0}).add(p.group)})},drawLegendSymbol:function(p,n){n.legendSymbol=this.chart.renderer.rect(0,p.baseline-11,p.options.symbolWidth,12,2).attr({zIndex:3}).add(n.legendGroup)}});bv.area=be;aP.spline=ap(aR);bi=a9(aX,{type:"spline",getPointSpline:function(C,A,z){var x=A.plotX,w=A.plotY,v=C[z-1],u=C[z+1],t,s,r,p;if(v&&u){C=v.plotY;r=u.plotX;var u=u.plotY,n;t=(1.5*x+v.plotX)/2.5;s=(1.5*w+C)/2.5;r=(1.5*x+r)/2.5;p=(1.5*w+u)/2.5;n=(p-s)*(r-x)/(r-t)+w-p;s+=n;p+=n;s>C&&s>w?(s=aw(C,w),p=2*w-s):s<C&&s<w&&(s=bl(C,w),p=2*w-s);p>u&&p>w?(p=aw(u,w),s=2*w-p):p<u&&p<w&&(p=bl(u,w),s=2*w-p);A.rightContX=r;A.rightContY=p}z?(A=["C",v.rightContX||v.plotX,v.rightContY||v.plotY,t||x,s||w,x,w],v.rightContX=v.rightContY=null):A=["M",x,w];return A}});bv.spline=bi;aP.areaspline=ap(aP.area);bB=be.prototype;bi=a9(bi,{type:"areaspline",closedStacks:!0,getSegmentPath:bB.getSegmentPath,closeSegment:bB.closeSegment,drawGraph:bB.drawGraph,drawLegendSymbol:bB.drawLegendSymbol});bv.areaspline=bi;aP.column=ap(aR,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});bi=a9(aX,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){aX.prototype.init.apply(this,arguments);var p=this,n=p.chart;n.hasRendered&&az(n.series,function(r){if(r.type===p.type){r.isDirty=!0}})},getColumnMetrics:function(){var C=this,A=C.options,z=C.xAxis,x=C.yAxis,w=z.reversed,v,u={},t,s=0;A.grouping===!1?s=1:az(C.chart.series,function(D){var H=D.options,F=D.yAxis;if(D.type===C.type&&D.visible&&x.len===F.len&&x.pos===F.pos){H.stacking?(v=D.stackKey,u[v]===ar&&(u[v]=s++),t=u[v]):H.grouping!==!1&&(t=s++),D.columnIndex=t}});var z=bl(a1(z.transA)*(z.ordinalSlope||A.pointRange||z.closestPointRange||1),z.len),r=z*A.groupPadding,p=(z-2*r)/s,n=A.pointWidth,A=au(n)?(p-n)/2:p*A.pointPadding,n=ax(n,p-2*A);return C.columnMetrics={width:n,offset:A+(r+((w?s-(C.columnIndex||0):C.columnIndex)||0)*p-z/2)*(w?-1:1)}},translate:function(){var A=this.chart,z=this.options,x=z.borderWidth,w=this.yAxis,v=this.translatedThreshold=w.getThreshold(z.threshold),u=ax(z.minPointLength,5),z=this.getColumnMetrics(),t=z.width,s=this.barW=B(aw(t,1+2*x)),r=this.pointXOffset=z.offset,p=-(x%2?0.5:0),n=x%2?0.5:1;A.renderer.isVML&&A.inverted&&(n+=1);aX.prototype.translate.apply(this);az(this.points,function(F){var C=bl(aw(-999,F.plotY),w.len+999),L=ax(F.yBottom,v),K=F.plotX+r,H=s,J=bl(C,L),D,C=aw(C,L)-J;a1(C)<u&&u&&(C=u,J=at(a1(J-v)>u?L-u:v-(w.translate(F.y,0,1,0,1)<=v?u:0)));F.barX=K;F.pointWidth=t;L=a1(K)<0.5;H=at(K+H)+p;K=at(K)+p;H-=K;D=a1(J)<0.5;C=at(J+C)+n;J=at(J)+n;C-=J;L&&(K+=1,H-=1);D&&(J-=1,C+=1);F.shapeType="rect";F.shapeArgs={x:K,y:J,width:H,height:C}})},getSymbol:bL,drawLegendSymbol:be.prototype.drawLegendSymbol,drawGraph:bL,drawPoints:function(){var p=this,n=p.options,s=p.chart.renderer,r;az(p.points,function(v){var u=v.plotY,t=v.graphic;if(u!==ar&&!isNaN(u)&&v.y!==null){r=v.shapeArgs,t?(ao(t),t.animate(ap(r))):v.graphic=s[v.shapeType](r).attr(v.pointAttr[v.selected?"select":""]).add(p.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}else{if(t){v.graphic=t.destroy()}}})},drawTracker:function(){var p=this,n=p.chart,u=n.pointer,t=p.options.cursor,s=t&&{cursor:t},r=function(x){var w=x.target,v;if(n.hoverSeries!==p){p.onMouseOver()}for(;w&&!v;){v=w.point,w=w.parentNode}if(v!==ar&&v!==n.hoverPoint){v.onMouseOver(x)}};az(p.points,function(v){if(v.graphic){v.graphic.element.point=v}if(v.dataLabel){v.dataLabel.element.point=v}});if(!p._hasTracking){az(p.trackerGroups,function(v){if(p[v]&&(p[v].addClass("highcharts-tracker").on("mouseover",r).on("mouseout",function(w){u.onTrackerMouseOut(w)}).css(s),a6)){p[v].on("touchstart",r)}}),p._hasTracking=!0}},alignDataLabel:function(z,x,w,v,u){var t=this.chart,s=t.inverted,r=z.dlBox||z.shapeArgs,p=z.below||z.plotY>ax(this.translatedThreshold,t.plotSizeY),n=ax(w.inside,!!this.options.stacking);if(r&&(v=ap(r),s&&(v={x:t.plotWidth-v.y-v.height,y:t.plotHeight-v.x-v.width,width:v.height,height:v.width}),!n)){s?(v.x+=p?0:v.width,v.width=0):(v.y+=p?v.height:0,v.height=0)}w.align=ax(w.align,!s||n?"center":p?"right":"left");w.verticalAlign=ax(w.verticalAlign,s||n?"middle":p?"top":"bottom");aX.prototype.alignDataLabel.call(this,z,x,w,v,u)},animate:function(p){var n=this.yAxis,t=this.options,s=this.chart.inverted,r={};if(aO){p?(r.scaleY=0.001,p=bl(n.pos+n.len,aw(n.pos,n.toPixels(t.threshold))),s?r.translateX=p-n.len:r.translateY=p,this.group.attr(r)):(r.scaleY=1,r[s?"translateX":"translateY"]=n.pos,this.group.animate(r,this.options.animation),this.animate=null)}},remove:function(){var p=this,n=p.chart;n.hasRendered&&az(n.series,function(r){if(r.type===p.type){r.isDirty=!0}});aX.prototype.remove.apply(p,arguments)}});bv.column=bi;aP.bar=ap(aP.column);bB=a9(bi,{type:"bar",inverted:!0});bv.bar=bB;aP.scatter=ap(aR,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});bB=a9(aX,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:bi.prototype.drawTracker,setTooltipPoints:bL});bv.scatter=bB;aP.pie=ap(aR,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});aR={type:"pie",isCartesian:!1,pointClass:a9(aM,{init:function(){aM.prototype.init.apply(this,arguments);var p=this,n;if(p.y<0){p.y=null}av(p,{visible:p.visible!==!1,name:ax(p.name,"Slice")});n=function(r){p.slice(r.type==="select")};a7(p,"select",n);a7(p,"unselect",n);return p},setVisible:function(p){var n=this,t=n.series,s=t.chart,r;n.visible=n.options.visible=p=p===ar?!n.visible:p;t.options.data[aG(n,t.data)]=n.options;r=p?"show":"hide";az(["graphic","dataLabel","connector","shadowGroup"],function(u){if(n[u]){n[u][r]()}});n.legendItem&&s.legend.colorizeItem(n,p);if(!t.isDirty&&t.options.ignoreHiddenPoint){t.isDirty=!0,s.redraw()}},slice:function(p,n,s){var r=this.series;ah(s,r.chart);ax(n,!0);this.sliced=this.options.sliced=p=au(p)?p:!this.sliced;r.options.data[aG(this,r.data)]=this.options;p=p?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:bL,animate:function(p){var n=this,s=n.points,r=n.startAngleRad;if(!p){az(s,function(t){var u=t.graphic,t=t.shapeArgs;u&&(u.attr({r:n.center[3]/2,start:r,end:r}),u.animate({r:t.r,start:t.start,end:t.end},n.options.animation))}),n.animate=null}},setData:function(p,n){aX.prototype.setData.call(this,p,!1);this.processData();this.generatePoints();ax(n,!0)&&this.chart.redraw()},generatePoints:function(){var p,n=0,u,t,s,r=this.options.ignoreHiddenPoint;aX.prototype.generatePoints.call(this);u=this.points;t=u.length;for(p=0;p<t;p++){s=u[p],n+=r&&!s.visible?0:s.y}this.total=n;for(p=0;p<t;p++){s=u[p],s.percentage=n>0?s.y/n*100:0,s.total=n}},getCenter:function(){var p=this.options,n=this.chart,w=2*(p.slicedOffset||0),v,u=n.plotWidth-2*w,t=n.plotHeight-2*w,n=p.center,p=[ax(n[0],"50%"),ax(n[1],"50%"),p.size||"100%",p.innerSize||0],s=bl(u,t),r;return bI(p,function(z,x){r=/%$/.test(z);v=x<2||x===2&&r;return(r?[u,t,s,s][x]*bm(z)/100:z)+(v?w:0)})},translate:function(K){this.generatePoints();var J=0,H=this.options,F=H.slicedOffset,D=F+H.borderWidth,C,A,z,x=this.startAngleRad=bY/180*((H.startAngle||0)%360-90),w=this.points,v=2*bY,u=H.dataLabels.distance,H=H.ignoreHiddenPoint,t,s=w.length,r;if(!K){this.center=K=this.getCenter()}this.getX=function(n,p){z=aW.asin((n-K[1])/(K[2]/2+u));return K[0]+(p?-1:1)*aS(z)*(K[2]/2+u)};for(t=0;t<s;t++){r=w[t];C=at((x+J*v)*1000)/1000;if(!H||r.visible){J+=r.percentage/100}A=at((x+J*v)*1000)/1000;r.shapeType="arc";r.shapeArgs={x:K[0],y:K[1],r:K[2]/2,innerR:K[3]/2,start:C,end:A};z=(A+C)/2;z>0.75*v&&(z-=2*bY);r.slicedTranslation={translateX:at(aS(z)*F),translateY:at(aA(z)*F)};C=aS(z)*K[2]/2;A=aA(z)*K[2]/2;r.tooltipPos=[K[0]+C*0.7,K[1]+A*0.7];r.half=z<v/4?0:1;r.angle=z;D=bl(D,u/2);r.labelPos=[K[0]+C+aS(z)*u,K[1]+A+aA(z)*u,K[0]+C+aS(z)*D,K[1]+A+aA(z)*D,K[0]+C,K[1]+A,u<0?"center":r.half?"right":"left",z]}this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var p=this,n=p.chart.renderer,v,u,t=p.options.shadow,s,r;if(t&&!p.shadowGroup){p.shadowGroup=n.g("shadow").add(p.group)}az(p.points,function(w){u=w.graphic;r=w.shapeArgs;s=w.shadowGroup;if(t&&!s){s=w.shadowGroup=n.g("shadow").add(p.shadowGroup)}v=w.sliced?w.slicedTranslation:{translateX:0,translateY:0};s&&s.attr(v);u?u.animate(av(r,v)):w.graphic=u=n.arc(r).setRadialReference(p.center).attr(w.pointAttr[w.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(v).add(p.group).shadow(t,s);w.visible===!1&&w.setVisible(!1)})},drawDataLabels:function(){var ce=this,cd=ce.data,cc,cb=ce.chart,ca=ce.options.dataLabels,b9=ax(ca.connectorPadding,10),b8=ax(ca.connectorWidth,1),b7=cb.plotWidth,cb=cb.plotHeight,b6,b5,b4=ax(ca.softConnector,!0),b3=ca.distance,b2=ce.center,b1=b2[2]/2,bZ=b2[1],Z=b3>0,ab,T,W,R,b0=[[],[]],O,Y,U,Q,bb,ba=[0,0,0,0],S=function(t,s){return s.y-t.y},u=function(t,s){t.sort(function(v,w){return v.angle!==void 0&&(w.angle-v.angle)*s})};if(ce.visible&&(ca.enabled||ce._hasPointLabels)){aX.prototype.drawDataLabels.apply(ce);az(cd,function(s){s.dataLabel&&b0[s.half].push(s)});for(Q=0;!R&&cd[Q];){R=cd[Q]&&cd[Q].dataLabel&&(cd[Q].dataLabel.getBBox().height||21),Q++}for(Q=2;Q--;){var cd=[],r=[],X=b0[Q],P=X.length,aa;u(X,Q-0.5);if(b3>0){for(bb=bZ-b1-b3;bb<=bZ+b1+b3;bb+=R){cd.push(bb)}T=cd.length;if(P>T){cc=[].concat(X);cc.sort(S);for(bb=P;bb--;){cc[bb].rank=bb}for(bb=P;bb--;){X[bb].rank>=T&&X.splice(bb,1)}P=X.length}for(bb=0;bb<P;bb++){cc=X[bb];W=cc.labelPos;cc=9999;var n,p;for(p=0;p<T;p++){n=a1(cd[p]-W[1]),n<cc&&(cc=n,aa=p)}if(aa<bb&&cd[bb]!==null){aa=bb}else{for(T<P-bb+aa&&cd[bb]!==null&&(aa=T-P+bb);cd[aa]===null;){aa++}}r.push({i:aa,y:cd[aa]});cd[aa]=null}r.sort(S)}for(bb=0;bb<P;bb++){cc=X[bb];W=cc.labelPos;ab=cc.dataLabel;U=cc.visible===!1?"hidden":"visible";cc=W[1];if(b3>0){if(T=r.pop(),aa=T.i,Y=T.y,cc>Y&&cd[aa+1]!==null||cc<Y&&cd[aa-1]!==null){Y=cc}}else{Y=cc}O=ca.justify?b2[0]+(Q?-1:1)*(b1+b3):ce.getX(aa===0||aa===cd.length-1?cc:Y,Q);ab._attr={visibility:U,align:W[6]};ab._pos={x:O+ca.x+({left:b9,right:-b9}[W[6]]||0),y:Y+ca.y-10};ab.connX=O;ab.connY=Y;if(this.options.size===null){T=ab.width,O-T<b9?ba[3]=aw(at(T-O+b9),ba[3]):O+T>b7-b9&&(ba[1]=aw(at(O+T-b7+b9),ba[1])),Y-R/2<0?ba[0]=aw(at(-Y+R/2),ba[0]):Y+R/2>cb&&(ba[2]=aw(at(Y+R/2-cb),ba[2]))}}}if(aL(ba)===0||this.verifyDataLabelOverflow(ba)){this.placeDataLabels(),Z&&b8&&az(this.points,function(s){b6=s.connector;W=s.labelPos;if((ab=s.dataLabel)&&ab._pos){U=ab._attr.visibility,O=ab.connX,Y=ab.connY,b5=b4?["M",O+(W[6]==="left"?5:-5),Y,"C",O,Y,2*W[2]-W[4],2*W[3]-W[5],W[2],W[3],"L",W[4],W[5]]:["M",O+(W[6]==="left"?5:-5),Y,"L",W[2],W[3],"L",W[4],W[5]],b6?(b6.animate({d:b5}),b6.attr("visibility",U)):s.connector=b6=ce.chart.renderer.path(b5).attr({"stroke-width":b8,stroke:ca.connectorColor||s.color||"#606060",visibility:U}).add(ce.group)}else{if(b6){s.connector=b6.destroy()}}})}}},verifyDataLabelOverflow:function(p){var n=this.center,u=this.options,t=u.center,s=u=u.minSize||80,r;t[0]!==null?s=aw(n[2]-aw(p[1],p[3]),u):(s=aw(n[2]-p[1]-p[3],u),n[0]+=(p[3]-p[1])/2);t[1]!==null?s=aw(bl(s,n[2]-aw(p[0],p[2])),u):(s=aw(bl(s,n[2]-p[0]-p[2]),u),n[1]+=(p[0]-p[2])/2);s<n[2]?(n[2]=s,this.translate(n),az(this.points,function(v){if(v.dataLabel){v.dataLabel._pos=null}}),this.drawDataLabels()):r=!0;return r},placeDataLabels:function(){az(this.points,function(p){var p=p.dataLabel,n;if(p){(n=p._pos)?(p.attr(p._attr),p[p.moved?"animate":"attr"](n),p.moved=!0):p&&p.attr({y:-999})}})},alignDataLabel:bL,drawTracker:bi.prototype.drawTracker,drawLegendSymbol:be.prototype.drawLegendSymbol,getSymbol:bL};aR=a9(aX,aR);bv.pie=aR;av(Highcharts,{Axis:I,Chart:a,Color:af,Legend:q,Pointer:ai,Point:aM,Tick:o,Tooltip:aJ,Renderer:aQ,Series:aX,SVGElement:ak,SVGRenderer:bU,arrayMin:bj,arrayMax:aL,charts:j,dateFormat:G,format:bz,pathAnim:bq,getOptions:function(){return a3},hasBidiBug:br,isTouchDevice:bp,numberFormat:bs,seriesTypes:bv,setOptions:function(n){a3=ap(a3,n);l();return a3},addEvent:a7,removeEvent:a0,createElement:aT,discardElement:bM,css:a4,each:az,extend:av,map:bI,merge:ap,pick:ax,splat:aD,extendClass:a9,pInt:bm,wrap:bx,svg:aO,canvas:bE,vml:!aO&&!bE,product:"Highcharts",version:"3.0.5"})})();(function($){$.fn.UED_chart=function(option){function strToJson(str){str=str?str:"";return eval("({"+str+"})")}return this.each(function(i,n){var _box=$(n),_rel=strToJson(_box.attr("data-rel"));var def={chart:{plotShadow:false,spacingTop:0,spacingBottom:0,spacingLeft:0,spacingRight:0},title:{text:"网站用户数量",margin:5},xAxis:{categories:["1月","2月","3月","4月","5月","6月"]},yAxis:{title:{text:"用户数量"}},legend:{margin:5,padding:5},series:[{type:"line",name:"2011",data:[["1月",6350],["2月",7120],["3月",6937],["4月",7302],["5月",7349],["6月",7129]]},{type:"line",name:"2012",data:[["1月",5350],["2月",6120],["3月",5937],["4月",7302],["5月",8349],["6月",6129]]}]};var option=$.extend(true,def,option,_rel);if(option.series.length==2&&option.series[0]["type"]=="pie"){option.series.pop()}_box.highcharts(option)})};$(function(){$("*[data-role='ued-chart']").UED_chart()})})(jQuery);
